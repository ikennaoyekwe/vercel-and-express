function jS(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var XS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jx={exports:{}},Ff={},Xx={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=Symbol.for("react.element"),qS=Symbol.for("react.portal"),YS=Symbol.for("react.fragment"),$S=Symbol.for("react.strict_mode"),ZS=Symbol.for("react.profiler"),JS=Symbol.for("react.provider"),KS=Symbol.for("react.context"),QS=Symbol.for("react.forward_ref"),e3=Symbol.for("react.suspense"),t3=Symbol.for("react.memo"),n3=Symbol.for("react.lazy"),U0=Symbol.iterator;function i3(e){return e===null||typeof e!="object"?null:(e=U0&&e[U0]||e["@@iterator"],typeof e=="function"?e:null)}var qx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yx=Object.assign,$x={};function sa(e,t,n){this.props=e,this.context=t,this.refs=$x,this.updater=n||qx}sa.prototype.isReactComponent={};sa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zx(){}Zx.prototype=sa.prototype;function qm(e,t,n){this.props=e,this.context=t,this.refs=$x,this.updater=n||qx}var Ym=qm.prototype=new Zx;Ym.constructor=qm;Yx(Ym,sa.prototype);Ym.isPureReactComponent=!0;var V0=Array.isArray,Jx=Object.prototype.hasOwnProperty,$m={current:null},Kx={key:!0,ref:!0,__self:!0,__source:!0};function Qx(e,t,n){var i,r={},s=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Jx.call(t,i)&&!Kx.hasOwnProperty(i)&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:nc,type:e,key:s,ref:o,props:r,_owner:$m.current}}function r3(e,t){return{$$typeof:nc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zm(e){return typeof e=="object"&&e!==null&&e.$$typeof===nc}function s3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var G0=/\/+/g;function vh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?s3(""+e.key):t.toString(36)}function wu(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case nc:case qS:o=!0}}if(o)return o=e,r=r(o),e=i===""?"."+vh(o,0):i,V0(r)?(n="",e!=null&&(n=e.replace(G0,"$&/")+"/"),wu(r,t,n,"",function(c){return c})):r!=null&&(Zm(r)&&(r=r3(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(G0,"$&/")+"/")+e)),t.push(r)),1;if(o=0,i=i===""?".":i+":",V0(e))for(var a=0;a<e.length;a++){s=e[a];var l=i+vh(s,a);o+=wu(s,t,n,l,r)}else if(l=i3(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=i+vh(s,a++),o+=wu(s,t,n,l,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function wc(e,t,n){if(e==null)return e;var i=[],r=0;return wu(e,i,"","",function(s){return t.call(n,s,r++)}),i}function o3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var fn={current:null},_u={transition:null},a3={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:_u,ReactCurrentOwner:$m};function ew(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:wc,forEach:function(e,t,n){wc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wc(e,function(){t++}),t},toArray:function(e){return wc(e,function(t){return t})||[]},only:function(e){if(!Zm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xe.Component=sa;Xe.Fragment=YS;Xe.Profiler=ZS;Xe.PureComponent=qm;Xe.StrictMode=$S;Xe.Suspense=e3;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a3;Xe.act=ew;Xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Yx({},e.props),r=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=$m.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Jx.call(t,l)&&!Kx.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:nc,type:e.type,key:r,ref:s,props:i,_owner:o}};Xe.createContext=function(e){return e={$$typeof:KS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:JS,_context:e},e.Consumer=e};Xe.createElement=Qx;Xe.createFactory=function(e){var t=Qx.bind(null,e);return t.type=e,t};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(e){return{$$typeof:QS,render:e}};Xe.isValidElement=Zm;Xe.lazy=function(e){return{$$typeof:n3,_payload:{_status:-1,_result:e},_init:o3}};Xe.memo=function(e,t){return{$$typeof:t3,type:e,compare:t===void 0?null:t}};Xe.startTransition=function(e){var t=_u.transition;_u.transition={};try{e()}finally{_u.transition=t}};Xe.unstable_act=ew;Xe.useCallback=function(e,t){return fn.current.useCallback(e,t)};Xe.useContext=function(e){return fn.current.useContext(e)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(e){return fn.current.useDeferredValue(e)};Xe.useEffect=function(e,t){return fn.current.useEffect(e,t)};Xe.useId=function(){return fn.current.useId()};Xe.useImperativeHandle=function(e,t,n){return fn.current.useImperativeHandle(e,t,n)};Xe.useInsertionEffect=function(e,t){return fn.current.useInsertionEffect(e,t)};Xe.useLayoutEffect=function(e,t){return fn.current.useLayoutEffect(e,t)};Xe.useMemo=function(e,t){return fn.current.useMemo(e,t)};Xe.useReducer=function(e,t,n){return fn.current.useReducer(e,t,n)};Xe.useRef=function(e){return fn.current.useRef(e)};Xe.useState=function(e){return fn.current.useState(e)};Xe.useSyncExternalStore=function(e,t,n){return fn.current.useSyncExternalStore(e,t,n)};Xe.useTransition=function(){return fn.current.useTransition()};Xe.version="18.3.1";Xx.exports=Xe;var z=Xx.exports;const l3=Wx(z),c3=jS({__proto__:null,default:l3},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u3=z,f3=Symbol.for("react.element"),h3=Symbol.for("react.fragment"),d3=Object.prototype.hasOwnProperty,p3=u3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m3={key:!0,ref:!0,__self:!0,__source:!0};function tw(e,t,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)d3.call(t,i)&&!m3.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:f3,type:e,key:s,ref:o,props:r,_owner:p3.current}}Ff.Fragment=h3;Ff.jsx=tw;Ff.jsxs=tw;jx.exports=Ff;var q=jx.exports,nw={exports:{}},Dn={},iw={exports:{}},rw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,U){var H=k.length;k.push(U);e:for(;0<H;){var X=H-1>>>1,ie=k[X];if(0<r(ie,U))k[X]=U,k[H]=ie,H=X;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var U=k[0],H=k.pop();if(H!==U){k[0]=H;e:for(var X=0,ie=k.length,de=ie>>>1;X<de;){var Se=2*(X+1)-1,j=k[Se],We=Se+1,pe=k[We];if(0>r(j,H))We<ie&&0>r(pe,j)?(k[X]=pe,k[We]=H,X=We):(k[X]=j,k[Se]=H,X=Se);else if(We<ie&&0>r(pe,H))k[X]=pe,k[We]=H,X=We;else break e}}return U}function r(k,U){var H=k.sortIndex-U.sortIndex;return H!==0?H:k.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,u=null,f=3,d=!1,p=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(k){for(var U=n(c);U!==null;){if(U.callback===null)i(c);else if(U.startTime<=k)i(c),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(c)}}function w(k){if(y=!1,x(k),!p)if(n(l)!==null)p=!0,B(b);else{var U=n(c);U!==null&&V(w,U.startTime-k)}}function b(k,U){p=!1,y&&(y=!1,g(E),E=-1),d=!0;var H=f;try{for(x(U),u=n(l);u!==null&&(!(u.expirationTime>U)||k&&!N());){var X=u.callback;if(typeof X=="function"){u.callback=null,f=u.priorityLevel;var ie=X(u.expirationTime<=U);U=e.unstable_now(),typeof ie=="function"?u.callback=ie:u===n(l)&&i(l),x(U)}else i(l);u=n(l)}if(u!==null)var de=!0;else{var Se=n(c);Se!==null&&V(w,Se.startTime-U),de=!1}return de}finally{u=null,f=H,d=!1}}var _=!1,M=null,E=-1,P=5,I=-1;function N(){return!(e.unstable_now()-I<P)}function R(){if(M!==null){var k=e.unstable_now();I=k;var U=!0;try{U=M(!0,k)}finally{U?F():(_=!1,M=null)}}else _=!1}var F;if(typeof m=="function")F=function(){m(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,O=L.port2;L.port1.onmessage=R,F=function(){O.postMessage(null)}}else F=function(){v(R,0)};function B(k){M=k,_||(_=!0,F())}function V(k,U){E=v(function(){k(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){p||d||(p=!0,B(b))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(k){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var H=f;f=U;try{return k()}finally{f=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,U){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var H=f;f=k;try{return U()}finally{f=H}},e.unstable_scheduleCallback=function(k,U,H){var X=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?X+H:X):H=X,k){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=H+ie,k={id:h++,callback:U,priorityLevel:k,startTime:H,expirationTime:ie,sortIndex:-1},H>X?(k.sortIndex=H,t(c,k),n(l)===null&&k===n(c)&&(y?(g(E),E=-1):y=!0,V(w,H-X))):(k.sortIndex=ie,t(l,k),p||d||(p=!0,B(b))),k},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(k){var U=f;return function(){var H=f;f=U;try{return k.apply(this,arguments)}finally{f=H}}}})(rw);iw.exports=rw;var g3=iw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y3=z,Pn=g3;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sw=new Set,hl={};function Bs(e,t){Vo(e,t),Vo(e+"Capture",t)}function Vo(e,t){for(hl[e]=t,e=0;e<t.length;e++)sw.add(t[e])}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Od=Object.prototype.hasOwnProperty,v3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H0={},W0={};function x3(e){return Od.call(W0,e)?!0:Od.call(H0,e)?!1:v3.test(e)?W0[e]=!0:(H0[e]=!0,!1)}function w3(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _3(e,t,n,i){if(t===null||typeof t>"u"||w3(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hn(e,t,n,i,r,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wt[e]=new hn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wt[t]=new hn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wt[e]=new hn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wt[e]=new hn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wt[e]=new hn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wt[e]=new hn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wt[e]=new hn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wt[e]=new hn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wt[e]=new hn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jm=/[\-:]([a-z])/g;function Km(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jm,Km);Wt[t]=new hn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jm,Km);Wt[t]=new hn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jm,Km);Wt[t]=new hn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wt[e]=new hn(e,1,!1,e.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wt[e]=new hn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qm(e,t,n,i){var r=Wt.hasOwnProperty(t)?Wt[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_3(t,n,r,i)&&(n=null),i||r===null?x3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var ir=y3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_c=Symbol.for("react.element"),lo=Symbol.for("react.portal"),co=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),kd=Symbol.for("react.profiler"),ow=Symbol.for("react.provider"),aw=Symbol.for("react.context"),tg=Symbol.for("react.forward_ref"),Fd=Symbol.for("react.suspense"),Bd=Symbol.for("react.suspense_list"),ng=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),lw=Symbol.for("react.offscreen"),j0=Symbol.iterator;function xa(e){return e===null||typeof e!="object"?null:(e=j0&&e[j0]||e["@@iterator"],typeof e=="function"?e:null)}var yt=Object.assign,xh;function Fa(e){if(xh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xh=t&&t[1]||""}return`
`+xh+e}var wh=!1;function _h(e,t){if(!e||wh)return"";wh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{wh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fa(e):""}function b3(e){switch(e.tag){case 5:return Fa(e.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return e=_h(e.type,!1),e;case 11:return e=_h(e.type.render,!1),e;case 1:return e=_h(e.type,!0),e;default:return""}}function zd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case co:return"Fragment";case lo:return"Portal";case kd:return"Profiler";case eg:return"StrictMode";case Fd:return"Suspense";case Bd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case aw:return(e.displayName||"Context")+".Consumer";case ow:return(e._context.displayName||"Context")+".Provider";case tg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ng:return t=e.displayName||null,t!==null?t:zd(e.type)||"Memo";case gr:t=e._payload,e=e._init;try{return zd(e(t))}catch{}}return null}function M3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zd(t);case 8:return t===eg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function S3(e){var t=cw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bc(e){e._valueTracker||(e._valueTracker=S3(e))}function uw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=cw(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Vu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ud(e,t){var n=t.checked;return yt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function X0(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=kr(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fw(e,t){t=t.checked,t!=null&&Qm(e,"checked",t,!1)}function Vd(e,t){fw(e,t);var n=kr(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gd(e,t.type,kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function q0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gd(e,t,n){(t!=="number"||Vu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ba=Array.isArray;function Io(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+kr(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Hd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return yt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Y0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ee(92));if(Ba(n)){if(1<n.length)throw Error(ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:kr(n)}}function hw(e,t){var n=kr(t.value),i=kr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function $0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mc,pw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mc=Mc||document.createElement("div"),Mc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T3=["Webkit","ms","Moz","O"];Object.keys(Wa).forEach(function(e){T3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wa[t]=Wa[e]})});function mw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wa.hasOwnProperty(e)&&Wa[e]?(""+t).trim():t+"px"}function gw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=mw(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var E3=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jd(e,t){if(t){if(E3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function Xd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qd=null;function ig(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yd=null,Do=null,No=null;function Z0(e){if(e=sc(e)){if(typeof Yd!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=Gf(t),Yd(e.stateNode,e.type,t))}}function yw(e){Do?No?No.push(e):No=[e]:Do=e}function vw(){if(Do){var e=Do,t=No;if(No=Do=null,Z0(e),t)for(e=0;e<t.length;e++)Z0(t[e])}}function xw(e,t){return e(t)}function ww(){}var bh=!1;function _w(e,t,n){if(bh)return e(t,n);bh=!0;try{return xw(e,t,n)}finally{bh=!1,(Do!==null||No!==null)&&(ww(),vw())}}function pl(e,t){var n=e.stateNode;if(n===null)return null;var i=Gf(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var $d=!1;if(Xi)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){$d=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{$d=!1}function C3(e,t,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var ja=!1,Gu=null,Hu=!1,Zd=null,A3={onError:function(e){ja=!0,Gu=e}};function P3(e,t,n,i,r,s,o,a,l){ja=!1,Gu=null,C3.apply(A3,arguments)}function L3(e,t,n,i,r,s,o,a,l){if(P3.apply(this,arguments),ja){if(ja){var c=Gu;ja=!1,Gu=null}else throw Error(ee(198));Hu||(Hu=!0,Zd=c)}}function zs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function J0(e){if(zs(e)!==e)throw Error(ee(188))}function R3(e){var t=e.alternate;if(!t){if(t=zs(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return J0(r),e;if(s===i)return J0(r),t;s=s.sibling}throw Error(ee(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(ee(189))}}if(n.alternate!==i)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function Mw(e){return e=R3(e),e!==null?Sw(e):null}function Sw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sw(e);if(t!==null)return t;e=e.sibling}return null}var Tw=Pn.unstable_scheduleCallback,K0=Pn.unstable_cancelCallback,I3=Pn.unstable_shouldYield,D3=Pn.unstable_requestPaint,bt=Pn.unstable_now,N3=Pn.unstable_getCurrentPriorityLevel,rg=Pn.unstable_ImmediatePriority,Ew=Pn.unstable_UserBlockingPriority,Wu=Pn.unstable_NormalPriority,O3=Pn.unstable_LowPriority,Cw=Pn.unstable_IdlePriority,Bf=null,Ti=null;function k3(e){if(Ti&&typeof Ti.onCommitFiberRoot=="function")try{Ti.onCommitFiberRoot(Bf,e,void 0,(e.current.flags&128)===128)}catch{}}var ui=Math.clz32?Math.clz32:z3,F3=Math.log,B3=Math.LN2;function z3(e){return e>>>=0,e===0?32:31-(F3(e)/B3|0)|0}var Sc=64,Tc=4194304;function za(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ju(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=za(a):(s&=o,s!==0&&(i=za(s)))}else o=n&~r,o!==0?i=za(o):s!==0&&(i=za(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-ui(t),r=1<<n,i|=e[n],t&=~r;return i}function U3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V3(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ui(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=U3(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Jd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Aw(){var e=Sc;return Sc<<=1,!(Sc&4194240)&&(Sc=64),e}function Mh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ic(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ui(t),e[t]=n}function G3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ui(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}function sg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ui(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var Ke=0;function Pw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lw,og,Rw,Iw,Dw,Kd=!1,Ec=[],Tr=null,Er=null,Cr=null,ml=new Map,gl=new Map,vr=[],H3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Q0(e,t){switch(e){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":ml.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(t.pointerId)}}function _a(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=sc(t),t!==null&&og(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function W3(e,t,n,i,r){switch(t){case"focusin":return Tr=_a(Tr,e,t,n,i,r),!0;case"dragenter":return Er=_a(Er,e,t,n,i,r),!0;case"mouseover":return Cr=_a(Cr,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return ml.set(s,_a(ml.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,gl.set(s,_a(gl.get(s)||null,e,t,n,i,r)),!0}return!1}function Nw(e){var t=cs(e.target);if(t!==null){var n=zs(t);if(n!==null){if(t=n.tag,t===13){if(t=bw(n),t!==null){e.blockedOn=t,Dw(e.priority,function(){Rw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);qd=i,n.target.dispatchEvent(i),qd=null}else return t=sc(n),t!==null&&og(t),e.blockedOn=n,!1;t.shift()}return!0}function ey(e,t,n){bu(e)&&n.delete(t)}function j3(){Kd=!1,Tr!==null&&bu(Tr)&&(Tr=null),Er!==null&&bu(Er)&&(Er=null),Cr!==null&&bu(Cr)&&(Cr=null),ml.forEach(ey),gl.forEach(ey)}function ba(e,t){e.blockedOn===t&&(e.blockedOn=null,Kd||(Kd=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,j3)))}function yl(e){function t(r){return ba(r,e)}if(0<Ec.length){ba(Ec[0],e);for(var n=1;n<Ec.length;n++){var i=Ec[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Tr!==null&&ba(Tr,e),Er!==null&&ba(Er,e),Cr!==null&&ba(Cr,e),ml.forEach(t),gl.forEach(t),n=0;n<vr.length;n++)i=vr[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<vr.length&&(n=vr[0],n.blockedOn===null);)Nw(n),n.blockedOn===null&&vr.shift()}var Oo=ir.ReactCurrentBatchConfig,Xu=!0;function X3(e,t,n,i){var r=Ke,s=Oo.transition;Oo.transition=null;try{Ke=1,ag(e,t,n,i)}finally{Ke=r,Oo.transition=s}}function q3(e,t,n,i){var r=Ke,s=Oo.transition;Oo.transition=null;try{Ke=4,ag(e,t,n,i)}finally{Ke=r,Oo.transition=s}}function ag(e,t,n,i){if(Xu){var r=Qd(e,t,n,i);if(r===null)Dh(e,t,i,qu,n),Q0(e,i);else if(W3(r,e,t,n,i))i.stopPropagation();else if(Q0(e,i),t&4&&-1<H3.indexOf(e)){for(;r!==null;){var s=sc(r);if(s!==null&&Lw(s),s=Qd(e,t,n,i),s===null&&Dh(e,t,i,qu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Dh(e,t,i,null,n)}}var qu=null;function Qd(e,t,n,i){if(qu=null,e=ig(i),e=cs(e),e!==null)if(t=zs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=bw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qu=e,null}function Ow(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N3()){case rg:return 1;case Ew:return 4;case Wu:case O3:return 16;case Cw:return 536870912;default:return 16}default:return 16}}var _r=null,lg=null,Mu=null;function kw(){if(Mu)return Mu;var e,t=lg,n=t.length,i,r="value"in _r?_r.value:_r.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===r[s-i];i++);return Mu=r.slice(e,1<i?1-i:void 0)}function Su(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cc(){return!0}function ty(){return!1}function Nn(e){function t(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cc:ty,this.isPropagationStopped=ty,this}return yt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cc)},persist:function(){},isPersistent:Cc}),t}var oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cg=Nn(oa),rc=yt({},oa,{view:0,detail:0}),Y3=Nn(rc),Sh,Th,Ma,zf=yt({},rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ug,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ma&&(Ma&&e.type==="mousemove"?(Sh=e.screenX-Ma.screenX,Th=e.screenY-Ma.screenY):Th=Sh=0,Ma=e),Sh)},movementY:function(e){return"movementY"in e?e.movementY:Th}}),ny=Nn(zf),$3=yt({},zf,{dataTransfer:0}),Z3=Nn($3),J3=yt({},rc,{relatedTarget:0}),Eh=Nn(J3),K3=yt({},oa,{animationName:0,elapsedTime:0,pseudoElement:0}),Q3=Nn(K3),eT=yt({},oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tT=Nn(eT),nT=yt({},oa,{data:0}),iy=Nn(nT),iT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sT[e])?!!t[e]:!1}function ug(){return oT}var aT=yt({},rc,{key:function(e){if(e.key){var t=iT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Su(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ug,charCode:function(e){return e.type==="keypress"?Su(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Su(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lT=Nn(aT),cT=yt({},zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ry=Nn(cT),uT=yt({},rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ug}),fT=Nn(uT),hT=yt({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),dT=Nn(hT),pT=yt({},zf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mT=Nn(pT),gT=[9,13,27,32],fg=Xi&&"CompositionEvent"in window,Xa=null;Xi&&"documentMode"in document&&(Xa=document.documentMode);var yT=Xi&&"TextEvent"in window&&!Xa,Fw=Xi&&(!fg||Xa&&8<Xa&&11>=Xa),sy=" ",oy=!1;function Bw(e,t){switch(e){case"keyup":return gT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uo=!1;function vT(e,t){switch(e){case"compositionend":return zw(t);case"keypress":return t.which!==32?null:(oy=!0,sy);case"textInput":return e=t.data,e===sy&&oy?null:e;default:return null}}function xT(e,t){if(uo)return e==="compositionend"||!fg&&Bw(e,t)?(e=kw(),Mu=lg=_r=null,uo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fw&&t.locale!=="ko"?null:t.data;default:return null}}var wT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ay(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wT[e.type]:t==="textarea"}function Uw(e,t,n,i){yw(i),t=Yu(t,"onChange"),0<t.length&&(n=new cg("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var qa=null,vl=null;function _T(e){Jw(e,0)}function Uf(e){var t=po(e);if(uw(t))return e}function bT(e,t){if(e==="change")return t}var Vw=!1;if(Xi){var Ch;if(Xi){var Ah="oninput"in document;if(!Ah){var ly=document.createElement("div");ly.setAttribute("oninput","return;"),Ah=typeof ly.oninput=="function"}Ch=Ah}else Ch=!1;Vw=Ch&&(!document.documentMode||9<document.documentMode)}function cy(){qa&&(qa.detachEvent("onpropertychange",Gw),vl=qa=null)}function Gw(e){if(e.propertyName==="value"&&Uf(vl)){var t=[];Uw(t,vl,e,ig(e)),_w(_T,t)}}function MT(e,t,n){e==="focusin"?(cy(),qa=t,vl=n,qa.attachEvent("onpropertychange",Gw)):e==="focusout"&&cy()}function ST(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uf(vl)}function TT(e,t){if(e==="click")return Uf(t)}function ET(e,t){if(e==="input"||e==="change")return Uf(t)}function CT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mi=typeof Object.is=="function"?Object.is:CT;function xl(e,t){if(mi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Od.call(t,r)||!mi(e[r],t[r]))return!1}return!0}function uy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fy(e,t){var n=uy(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uy(n)}}function Hw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ww(){for(var e=window,t=Vu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vu(e.document)}return t}function hg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function AT(e){var t=Ww(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hw(n.ownerDocument.documentElement,n)){if(i!==null&&hg(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=fy(n,s);var o=fy(n,i);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PT=Xi&&"documentMode"in document&&11>=document.documentMode,fo=null,ep=null,Ya=null,tp=!1;function hy(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tp||fo==null||fo!==Vu(i)||(i=fo,"selectionStart"in i&&hg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ya&&xl(Ya,i)||(Ya=i,i=Yu(ep,"onSelect"),0<i.length&&(t=new cg("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=fo)))}function Ac(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ho={animationend:Ac("Animation","AnimationEnd"),animationiteration:Ac("Animation","AnimationIteration"),animationstart:Ac("Animation","AnimationStart"),transitionend:Ac("Transition","TransitionEnd")},Ph={},jw={};Xi&&(jw=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function Vf(e){if(Ph[e])return Ph[e];if(!ho[e])return e;var t=ho[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jw)return Ph[e]=t[n];return e}var Xw=Vf("animationend"),qw=Vf("animationiteration"),Yw=Vf("animationstart"),$w=Vf("transitionend"),Zw=new Map,dy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(e,t){Zw.set(e,t),Bs(t,[e])}for(var Lh=0;Lh<dy.length;Lh++){var Rh=dy[Lh],LT=Rh.toLowerCase(),RT=Rh[0].toUpperCase()+Rh.slice(1);Gr(LT,"on"+RT)}Gr(Xw,"onAnimationEnd");Gr(qw,"onAnimationIteration");Gr(Yw,"onAnimationStart");Gr("dblclick","onDoubleClick");Gr("focusin","onFocus");Gr("focusout","onBlur");Gr($w,"onTransitionEnd");Vo("onMouseEnter",["mouseout","mouseover"]);Vo("onMouseLeave",["mouseout","mouseover"]);Vo("onPointerEnter",["pointerout","pointerover"]);Vo("onPointerLeave",["pointerout","pointerover"]);Bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function py(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,L3(i,t,void 0,e),e.currentTarget=null}function Jw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;py(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;py(r,a,c),s=l}}}if(Hu)throw e=Zd,Hu=!1,Zd=null,e}function at(e,t){var n=t[op];n===void 0&&(n=t[op]=new Set);var i=e+"__bubble";n.has(i)||(Kw(t,e,2,!1),n.add(i))}function Ih(e,t,n){var i=0;t&&(i|=4),Kw(n,e,i,t)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function wl(e){if(!e[Pc]){e[Pc]=!0,sw.forEach(function(n){n!=="selectionchange"&&(IT.has(n)||Ih(n,!1,e),Ih(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pc]||(t[Pc]=!0,Ih("selectionchange",!1,t))}}function Kw(e,t,n,i){switch(Ow(t)){case 1:var r=X3;break;case 4:r=q3;break;default:r=ag}n=r.bind(null,t,n,e),r=void 0,!$d||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Dh(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=cs(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}_w(function(){var c=s,h=ig(n),u=[];e:{var f=Zw.get(e);if(f!==void 0){var d=cg,p=e;switch(e){case"keypress":if(Su(n)===0)break e;case"keydown":case"keyup":d=lT;break;case"focusin":p="focus",d=Eh;break;case"focusout":p="blur",d=Eh;break;case"beforeblur":case"afterblur":d=Eh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Z3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=fT;break;case Xw:case qw:case Yw:d=Q3;break;case $w:d=dT;break;case"scroll":d=Y3;break;case"wheel":d=mT;break;case"copy":case"cut":case"paste":d=tT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=ry}var y=(t&4)!==0,v=!y&&e==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=c,x;m!==null;){x=m;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,g!==null&&(w=pl(m,g),w!=null&&y.push(_l(m,w,x)))),v)break;m=m.return}0<y.length&&(f=new d(f,p,null,n,h),u.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&n!==qd&&(p=n.relatedTarget||n.fromElement)&&(cs(p)||p[qi]))break e;if((d||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=c,p=p?cs(p):null,p!==null&&(v=zs(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=c),d!==p)){if(y=ny,w="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=ry,w="onPointerLeave",g="onPointerEnter",m="pointer"),v=d==null?f:po(d),x=p==null?f:po(p),f=new y(w,m+"leave",d,n,h),f.target=v,f.relatedTarget=x,w=null,cs(h)===c&&(y=new y(g,m+"enter",p,n,h),y.target=x,y.relatedTarget=v,w=y),v=w,d&&p)t:{for(y=d,g=p,m=0,x=y;x;x=Hs(x))m++;for(x=0,w=g;w;w=Hs(w))x++;for(;0<m-x;)y=Hs(y),m--;for(;0<x-m;)g=Hs(g),x--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=Hs(y),g=Hs(g)}y=null}else y=null;d!==null&&my(u,f,d,y,!1),p!==null&&v!==null&&my(u,v,p,y,!0)}}e:{if(f=c?po(c):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var b=bT;else if(ay(f))if(Vw)b=ET;else{b=ST;var _=MT}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=TT);if(b&&(b=b(e,c))){Uw(u,b,n,h);break e}_&&_(e,f,c),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Gd(f,"number",f.value)}switch(_=c?po(c):window,e){case"focusin":(ay(_)||_.contentEditable==="true")&&(fo=_,ep=c,Ya=null);break;case"focusout":Ya=ep=fo=null;break;case"mousedown":tp=!0;break;case"contextmenu":case"mouseup":case"dragend":tp=!1,hy(u,n,h);break;case"selectionchange":if(PT)break;case"keydown":case"keyup":hy(u,n,h)}var M;if(fg)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else uo?Bw(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Fw&&n.locale!=="ko"&&(uo||E!=="onCompositionStart"?E==="onCompositionEnd"&&uo&&(M=kw()):(_r=h,lg="value"in _r?_r.value:_r.textContent,uo=!0)),_=Yu(c,E),0<_.length&&(E=new iy(E,e,null,n,h),u.push({event:E,listeners:_}),M?E.data=M:(M=zw(n),M!==null&&(E.data=M)))),(M=yT?vT(e,n):xT(e,n))&&(c=Yu(c,"onBeforeInput"),0<c.length&&(h=new iy("onBeforeInput","beforeinput",null,n,h),u.push({event:h,listeners:c}),h.data=M))}Jw(u,t)})}function _l(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=pl(e,n),s!=null&&i.unshift(_l(e,s,r)),s=pl(e,t),s!=null&&i.push(_l(e,s,r))),e=e.return}return i}function Hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function my(e,t,n,i,r){for(var s=t._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=pl(n,s),l!=null&&o.unshift(_l(n,l,a))):r||(l=pl(n,s),l!=null&&o.push(_l(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var DT=/\r\n?/g,NT=/\u0000|\uFFFD/g;function gy(e){return(typeof e=="string"?e:""+e).replace(DT,`
`).replace(NT,"")}function Lc(e,t,n){if(t=gy(t),gy(e)!==t&&n)throw Error(ee(425))}function $u(){}var np=null,ip=null;function rp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sp=typeof setTimeout=="function"?setTimeout:void 0,OT=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,kT=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(e){return yy.resolve(null).then(e).catch(FT)}:sp;function FT(e){setTimeout(function(){throw e})}function Nh(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),yl(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);yl(t)}function Ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var aa=Math.random().toString(36).slice(2),bi="__reactFiber$"+aa,bl="__reactProps$"+aa,qi="__reactContainer$"+aa,op="__reactEvents$"+aa,BT="__reactListeners$"+aa,zT="__reactHandles$"+aa;function cs(e){var t=e[bi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qi]||n[bi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vy(e);e!==null;){if(n=e[bi])return n;e=vy(e)}return t}e=n,n=e.parentNode}return null}function sc(e){return e=e[bi]||e[qi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function po(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function Gf(e){return e[bl]||null}var ap=[],mo=-1;function Hr(e){return{current:e}}function lt(e){0>mo||(e.current=ap[mo],ap[mo]=null,mo--)}function st(e,t){mo++,ap[mo]=e.current,e.current=t}var Fr={},Qt=Hr(Fr),xn=Hr(!1),bs=Fr;function Go(e,t){var n=e.type.contextTypes;if(!n)return Fr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function wn(e){return e=e.childContextTypes,e!=null}function Zu(){lt(xn),lt(Qt)}function xy(e,t,n){if(Qt.current!==Fr)throw Error(ee(168));st(Qt,t),st(xn,n)}function Qw(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(ee(108,M3(e)||"Unknown",r));return yt({},n,i)}function Ju(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fr,bs=Qt.current,st(Qt,e),st(xn,xn.current),!0}function wy(e,t,n){var i=e.stateNode;if(!i)throw Error(ee(169));n?(e=Qw(e,t,bs),i.__reactInternalMemoizedMergedChildContext=e,lt(xn),lt(Qt),st(Qt,e)):lt(xn),st(xn,n)}var Gi=null,Hf=!1,Oh=!1;function e_(e){Gi===null?Gi=[e]:Gi.push(e)}function UT(e){Hf=!0,e_(e)}function Wr(){if(!Oh&&Gi!==null){Oh=!0;var e=0,t=Ke;try{var n=Gi;for(Ke=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Gi=null,Hf=!1}catch(r){throw Gi!==null&&(Gi=Gi.slice(e+1)),Tw(rg,Wr),r}finally{Ke=t,Oh=!1}}return null}var go=[],yo=0,Ku=null,Qu=0,Fn=[],Bn=0,Ms=null,Hi=1,Wi="";function ss(e,t){go[yo++]=Qu,go[yo++]=Ku,Ku=e,Qu=t}function t_(e,t,n){Fn[Bn++]=Hi,Fn[Bn++]=Wi,Fn[Bn++]=Ms,Ms=e;var i=Hi;e=Wi;var r=32-ui(i)-1;i&=~(1<<r),n+=1;var s=32-ui(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Hi=1<<32-ui(t)+r|n<<r|i,Wi=s+e}else Hi=1<<s|n<<r|i,Wi=e}function dg(e){e.return!==null&&(ss(e,1),t_(e,1,0))}function pg(e){for(;e===Ku;)Ku=go[--yo],go[yo]=null,Qu=go[--yo],go[yo]=null;for(;e===Ms;)Ms=Fn[--Bn],Fn[Bn]=null,Wi=Fn[--Bn],Fn[Bn]=null,Hi=Fn[--Bn],Fn[Bn]=null}var An=null,Cn=null,ft=!1,li=null;function n_(e,t){var n=zn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _y(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,An=e,Cn=Ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,An=e,Cn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ms!==null?{id:Hi,overflow:Wi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=zn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,An=e,Cn=null,!0):!1;default:return!1}}function lp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cp(e){if(ft){var t=Cn;if(t){var n=t;if(!_y(e,t)){if(lp(e))throw Error(ee(418));t=Ar(n.nextSibling);var i=An;t&&_y(e,t)?n_(i,n):(e.flags=e.flags&-4097|2,ft=!1,An=e)}}else{if(lp(e))throw Error(ee(418));e.flags=e.flags&-4097|2,ft=!1,An=e}}}function by(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;An=e}function Rc(e){if(e!==An)return!1;if(!ft)return by(e),ft=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rp(e.type,e.memoizedProps)),t&&(t=Cn)){if(lp(e))throw i_(),Error(ee(418));for(;t;)n_(e,t),t=Ar(t.nextSibling)}if(by(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Cn=Ar(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Cn=null}}else Cn=An?Ar(e.stateNode.nextSibling):null;return!0}function i_(){for(var e=Cn;e;)e=Ar(e.nextSibling)}function Ho(){Cn=An=null,ft=!1}function mg(e){li===null?li=[e]:li.push(e)}var VT=ir.ReactCurrentBatchConfig;function Sa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var i=n.stateNode}if(!i)throw Error(ee(147,e));var r=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,e))}return e}function Ic(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function My(e){var t=e._init;return t(e._payload)}function r_(e){function t(g,m){if(e){var x=g.deletions;x===null?(g.deletions=[m],g.flags|=16):x.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function i(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function r(g,m){return g=Ir(g,m),g.index=0,g.sibling=null,g}function s(g,m,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<m?(g.flags|=2,m):x):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,m,x,w){return m===null||m.tag!==6?(m=Gh(x,g.mode,w),m.return=g,m):(m=r(m,x),m.return=g,m)}function l(g,m,x,w){var b=x.type;return b===co?h(g,m,x.props.children,w,x.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===gr&&My(b)===m.type)?(w=r(m,x.props),w.ref=Sa(g,m,x),w.return=g,w):(w=Ru(x.type,x.key,x.props,null,g.mode,w),w.ref=Sa(g,m,x),w.return=g,w)}function c(g,m,x,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=Hh(x,g.mode,w),m.return=g,m):(m=r(m,x.children||[]),m.return=g,m)}function h(g,m,x,w,b){return m===null||m.tag!==7?(m=ys(x,g.mode,w,b),m.return=g,m):(m=r(m,x),m.return=g,m)}function u(g,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Gh(""+m,g.mode,x),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case _c:return x=Ru(m.type,m.key,m.props,null,g.mode,x),x.ref=Sa(g,null,m),x.return=g,x;case lo:return m=Hh(m,g.mode,x),m.return=g,m;case gr:var w=m._init;return u(g,w(m._payload),x)}if(Ba(m)||xa(m))return m=ys(m,g.mode,x,null),m.return=g,m;Ic(g,m)}return null}function f(g,m,x,w){var b=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return b!==null?null:a(g,m,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _c:return x.key===b?l(g,m,x,w):null;case lo:return x.key===b?c(g,m,x,w):null;case gr:return b=x._init,f(g,m,b(x._payload),w)}if(Ba(x)||xa(x))return b!==null?null:h(g,m,x,w,null);Ic(g,x)}return null}function d(g,m,x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(x)||null,a(m,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _c:return g=g.get(w.key===null?x:w.key)||null,l(m,g,w,b);case lo:return g=g.get(w.key===null?x:w.key)||null,c(m,g,w,b);case gr:var _=w._init;return d(g,m,x,_(w._payload),b)}if(Ba(w)||xa(w))return g=g.get(x)||null,h(m,g,w,b,null);Ic(m,w)}return null}function p(g,m,x,w){for(var b=null,_=null,M=m,E=m=0,P=null;M!==null&&E<x.length;E++){M.index>E?(P=M,M=null):P=M.sibling;var I=f(g,M,x[E],w);if(I===null){M===null&&(M=P);break}e&&M&&I.alternate===null&&t(g,M),m=s(I,m,E),_===null?b=I:_.sibling=I,_=I,M=P}if(E===x.length)return n(g,M),ft&&ss(g,E),b;if(M===null){for(;E<x.length;E++)M=u(g,x[E],w),M!==null&&(m=s(M,m,E),_===null?b=M:_.sibling=M,_=M);return ft&&ss(g,E),b}for(M=i(g,M);E<x.length;E++)P=d(M,g,E,x[E],w),P!==null&&(e&&P.alternate!==null&&M.delete(P.key===null?E:P.key),m=s(P,m,E),_===null?b=P:_.sibling=P,_=P);return e&&M.forEach(function(N){return t(g,N)}),ft&&ss(g,E),b}function y(g,m,x,w){var b=xa(x);if(typeof b!="function")throw Error(ee(150));if(x=b.call(x),x==null)throw Error(ee(151));for(var _=b=null,M=m,E=m=0,P=null,I=x.next();M!==null&&!I.done;E++,I=x.next()){M.index>E?(P=M,M=null):P=M.sibling;var N=f(g,M,I.value,w);if(N===null){M===null&&(M=P);break}e&&M&&N.alternate===null&&t(g,M),m=s(N,m,E),_===null?b=N:_.sibling=N,_=N,M=P}if(I.done)return n(g,M),ft&&ss(g,E),b;if(M===null){for(;!I.done;E++,I=x.next())I=u(g,I.value,w),I!==null&&(m=s(I,m,E),_===null?b=I:_.sibling=I,_=I);return ft&&ss(g,E),b}for(M=i(g,M);!I.done;E++,I=x.next())I=d(M,g,E,I.value,w),I!==null&&(e&&I.alternate!==null&&M.delete(I.key===null?E:I.key),m=s(I,m,E),_===null?b=I:_.sibling=I,_=I);return e&&M.forEach(function(R){return t(g,R)}),ft&&ss(g,E),b}function v(g,m,x,w){if(typeof x=="object"&&x!==null&&x.type===co&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case _c:e:{for(var b=x.key,_=m;_!==null;){if(_.key===b){if(b=x.type,b===co){if(_.tag===7){n(g,_.sibling),m=r(_,x.props.children),m.return=g,g=m;break e}}else if(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===gr&&My(b)===_.type){n(g,_.sibling),m=r(_,x.props),m.ref=Sa(g,_,x),m.return=g,g=m;break e}n(g,_);break}else t(g,_);_=_.sibling}x.type===co?(m=ys(x.props.children,g.mode,w,x.key),m.return=g,g=m):(w=Ru(x.type,x.key,x.props,null,g.mode,w),w.ref=Sa(g,m,x),w.return=g,g=w)}return o(g);case lo:e:{for(_=x.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(g,m.sibling),m=r(m,x.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=Hh(x,g.mode,w),m.return=g,g=m}return o(g);case gr:return _=x._init,v(g,m,_(x._payload),w)}if(Ba(x))return p(g,m,x,w);if(xa(x))return y(g,m,x,w);Ic(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(g,m.sibling),m=r(m,x),m.return=g,g=m):(n(g,m),m=Gh(x,g.mode,w),m.return=g,g=m),o(g)):n(g,m)}return v}var Wo=r_(!0),s_=r_(!1),ef=Hr(null),tf=null,vo=null,gg=null;function yg(){gg=vo=tf=null}function vg(e){var t=ef.current;lt(ef),e._currentValue=t}function up(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){tf=e,gg=vo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gn=!0),e.firstContext=null)}function jn(e){var t=e._currentValue;if(gg!==e)if(e={context:e,memoizedValue:t,next:null},vo===null){if(tf===null)throw Error(ee(308));vo=e,tf.dependencies={lanes:0,firstContext:e}}else vo=vo.next=e;return t}var us=null;function xg(e){us===null?us=[e]:us.push(e)}function o_(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,xg(t)):(n.next=r.next,r.next=n),t.interleaved=n,Yi(e,i)}function Yi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yr=!1;function wg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ji(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Ze&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Yi(e,n)}return r=i.interleaved,r===null?(t.next=t,xg(i)):(t.next=r.next,r.next=t),i.interleaved=t,Yi(e,n)}function Tu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,sg(e,n)}}function Sy(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nf(e,t,n,i){var r=e.updateQueue;yr=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var u=r.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,y=a;switch(f=t,d=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){u=p.call(d,u,f);break e}u=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(d,u,f):p,f==null)break e;u=yt({},u,f);break e;case 2:yr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=d,l=u):h=h.next=d,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(h===null&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);Ts|=o,e.lanes=o,e.memoizedState=u}}function Ty(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(ee(191,r));r.call(i)}}}var oc={},Ei=Hr(oc),Ml=Hr(oc),Sl=Hr(oc);function fs(e){if(e===oc)throw Error(ee(174));return e}function _g(e,t){switch(st(Sl,t),st(Ml,e),st(Ei,oc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wd(t,e)}lt(Ei),st(Ei,t)}function jo(){lt(Ei),lt(Ml),lt(Sl)}function l_(e){fs(Sl.current);var t=fs(Ei.current),n=Wd(t,e.type);t!==n&&(st(Ml,e),st(Ei,n))}function bg(e){Ml.current===e&&(lt(Ei),lt(Ml))}var dt=Hr(0);function rf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kh=[];function Mg(){for(var e=0;e<kh.length;e++)kh[e]._workInProgressVersionPrimary=null;kh.length=0}var Eu=ir.ReactCurrentDispatcher,Fh=ir.ReactCurrentBatchConfig,Ss=0,gt=null,Pt=null,Ot=null,sf=!1,$a=!1,Tl=0,GT=0;function jt(){throw Error(ee(321))}function Sg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mi(e[n],t[n]))return!1;return!0}function Tg(e,t,n,i,r,s){if(Ss=s,gt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Eu.current=e===null||e.memoizedState===null?XT:qT,e=n(i,r),$a){s=0;do{if($a=!1,Tl=0,25<=s)throw Error(ee(301));s+=1,Ot=Pt=null,t.updateQueue=null,Eu.current=YT,e=n(i,r)}while($a)}if(Eu.current=of,t=Pt!==null&&Pt.next!==null,Ss=0,Ot=Pt=gt=null,sf=!1,t)throw Error(ee(300));return e}function Eg(){var e=Tl!==0;return Tl=0,e}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?gt.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Xn(){if(Pt===null){var e=gt.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var t=Ot===null?gt.memoizedState:Ot.next;if(t!==null)Ot=t,Pt=e;else{if(e===null)throw Error(ee(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Ot===null?gt.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function El(e,t){return typeof t=="function"?t(e):t}function Bh(e){var t=Xn(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var i=Pt,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Ss&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var u={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,o=i):l=l.next=u,gt.lanes|=h,Ts|=h}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,mi(i,t.memoizedState)||(gn=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do s=r.lane,gt.lanes|=s,Ts|=s,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zh(e){var t=Xn(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=e(s,o.action),o=o.next;while(o!==r);mi(s,t.memoizedState)||(gn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function c_(){}function u_(e,t){var n=gt,i=Xn(),r=t(),s=!mi(i.memoizedState,r);if(s&&(i.memoizedState=r,gn=!0),i=i.queue,Cg(d_.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,Cl(9,h_.bind(null,n,i,r,t),void 0,null),kt===null)throw Error(ee(349));Ss&30||f_(n,t,r)}return r}function f_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=gt.updateQueue,t===null?(t={lastEffect:null,stores:null},gt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function h_(e,t,n,i){t.value=n,t.getSnapshot=i,p_(t)&&m_(e)}function d_(e,t,n){return n(function(){p_(t)&&m_(e)})}function p_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mi(e,n)}catch{return!0}}function m_(e){var t=Yi(e,1);t!==null&&fi(t,e,1,-1)}function Ey(e){var t=xi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:e},t.queue=e,e=e.dispatch=jT.bind(null,gt,e),[t.memoizedState,e]}function Cl(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=gt.updateQueue,t===null?(t={lastEffect:null,stores:null},gt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function g_(){return Xn().memoizedState}function Cu(e,t,n,i){var r=xi();gt.flags|=e,r.memoizedState=Cl(1|t,n,void 0,i===void 0?null:i)}function Wf(e,t,n,i){var r=Xn();i=i===void 0?null:i;var s=void 0;if(Pt!==null){var o=Pt.memoizedState;if(s=o.destroy,i!==null&&Sg(i,o.deps)){r.memoizedState=Cl(t,n,s,i);return}}gt.flags|=e,r.memoizedState=Cl(1|t,n,s,i)}function Cy(e,t){return Cu(8390656,8,e,t)}function Cg(e,t){return Wf(2048,8,e,t)}function y_(e,t){return Wf(4,2,e,t)}function v_(e,t){return Wf(4,4,e,t)}function x_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function w_(e,t,n){return n=n!=null?n.concat([e]):null,Wf(4,4,x_.bind(null,t,e),n)}function Ag(){}function __(e,t){var n=Xn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Sg(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function b_(e,t){var n=Xn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Sg(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function M_(e,t,n){return Ss&21?(mi(n,t)||(n=Aw(),gt.lanes|=n,Ts|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gn=!0),e.memoizedState=n)}function HT(e,t){var n=Ke;Ke=n!==0&&4>n?n:4,e(!0);var i=Fh.transition;Fh.transition={};try{e(!1),t()}finally{Ke=n,Fh.transition=i}}function S_(){return Xn().memoizedState}function WT(e,t,n){var i=Rr(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},T_(e))E_(t,n);else if(n=o_(e,t,n,i),n!==null){var r=ln();fi(n,e,i,r),C_(n,t,i)}}function jT(e,t,n){var i=Rr(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(T_(e))E_(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,mi(a,o)){var l=t.interleaved;l===null?(r.next=r,xg(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=o_(e,t,r,i),n!==null&&(r=ln(),fi(n,e,i,r),C_(n,t,i))}}function T_(e){var t=e.alternate;return e===gt||t!==null&&t===gt}function E_(e,t){$a=sf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function C_(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,sg(e,n)}}var of={readContext:jn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},XT={readContext:jn,useCallback:function(e,t){return xi().memoizedState=[e,t===void 0?null:t],e},useContext:jn,useEffect:Cy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cu(4194308,4,x_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cu(4,2,e,t)},useMemo:function(e,t){var n=xi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=xi();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=WT.bind(null,gt,e),[i.memoizedState,e]},useRef:function(e){var t=xi();return e={current:e},t.memoizedState=e},useState:Ey,useDebugValue:Ag,useDeferredValue:function(e){return xi().memoizedState=e},useTransition:function(){var e=Ey(!1),t=e[0];return e=HT.bind(null,e[1]),xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=gt,r=xi();if(ft){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),kt===null)throw Error(ee(349));Ss&30||f_(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Cy(d_.bind(null,i,s,e),[e]),i.flags|=2048,Cl(9,h_.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=xi(),t=kt.identifierPrefix;if(ft){var n=Wi,i=Hi;n=(i&~(1<<32-ui(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Tl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=GT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qT={readContext:jn,useCallback:__,useContext:jn,useEffect:Cg,useImperativeHandle:w_,useInsertionEffect:y_,useLayoutEffect:v_,useMemo:b_,useReducer:Bh,useRef:g_,useState:function(){return Bh(El)},useDebugValue:Ag,useDeferredValue:function(e){var t=Xn();return M_(t,Pt.memoizedState,e)},useTransition:function(){var e=Bh(El)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:c_,useSyncExternalStore:u_,useId:S_,unstable_isNewReconciler:!1},YT={readContext:jn,useCallback:__,useContext:jn,useEffect:Cg,useImperativeHandle:w_,useInsertionEffect:y_,useLayoutEffect:v_,useMemo:b_,useReducer:zh,useRef:g_,useState:function(){return zh(El)},useDebugValue:Ag,useDeferredValue:function(e){var t=Xn();return Pt===null?t.memoizedState=e:M_(t,Pt.memoizedState,e)},useTransition:function(){var e=zh(El)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:c_,useSyncExternalStore:u_,useId:S_,unstable_isNewReconciler:!1};function oi(e,t){if(e&&e.defaultProps){t=yt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fp(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:yt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jf={isMounted:function(e){return(e=e._reactInternals)?zs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ln(),r=Rr(e),s=ji(i,r);s.payload=t,n!=null&&(s.callback=n),t=Pr(e,s,r),t!==null&&(fi(t,e,r,i),Tu(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ln(),r=Rr(e),s=ji(i,r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Pr(e,s,r),t!==null&&(fi(t,e,r,i),Tu(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ln(),i=Rr(e),r=ji(n,i);r.tag=2,t!=null&&(r.callback=t),t=Pr(e,r,i),t!==null&&(fi(t,e,i,n),Tu(t,e,i))}};function Ay(e,t,n,i,r,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,o):t.prototype&&t.prototype.isPureReactComponent?!xl(n,i)||!xl(r,s):!0}function A_(e,t,n){var i=!1,r=Fr,s=t.contextType;return typeof s=="object"&&s!==null?s=jn(s):(r=wn(t)?bs:Qt.current,i=t.contextTypes,s=(i=i!=null)?Go(e,r):Fr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jf,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function Py(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&jf.enqueueReplaceState(t,t.state,null)}function hp(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},wg(e);var s=t.contextType;typeof s=="object"&&s!==null?r.context=jn(s):(s=wn(t)?bs:Qt.current,r.context=Go(e,s)),r.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(fp(e,t,s,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&jf.enqueueReplaceState(r,r.state,null),nf(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Xo(e,t){try{var n="",i=t;do n+=b3(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:r,digest:null}}function Uh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function dp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $T=typeof WeakMap=="function"?WeakMap:Map;function P_(e,t,n){n=ji(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){lf||(lf=!0,Mp=i),dp(e,t)},n}function L_(e,t,n){n=ji(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){dp(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){dp(e,t),typeof i!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ly(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new $T;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=cE.bind(null,e,t,n),t.then(e,e))}function Ry(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Iy(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ji(-1,1),t.tag=2,Pr(n,t,1))),n.lanes|=1),e)}var ZT=ir.ReactCurrentOwner,gn=!1;function sn(e,t,n,i){t.child=e===null?s_(t,null,n,i):Wo(t,e.child,n,i)}function Dy(e,t,n,i,r){n=n.render;var s=t.ref;return ko(t,r),i=Tg(e,t,n,i,s,r),n=Eg(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,$i(e,t,r)):(ft&&n&&dg(t),t.flags|=1,sn(e,t,i,r),t.child)}function Ny(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!kg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,R_(e,t,s,i,r)):(e=Ru(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xl,n(o,i)&&e.ref===t.ref)return $i(e,t,r)}return t.flags|=1,e=Ir(s,i),e.ref=t.ref,e.return=t,t.child=e}function R_(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(xl(s,i)&&e.ref===t.ref)if(gn=!1,t.pendingProps=i=s,(e.lanes&r)!==0)e.flags&131072&&(gn=!0);else return t.lanes=e.lanes,$i(e,t,r)}return pp(e,t,n,i,r)}function I_(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(wo,En),En|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,st(wo,En),En|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,st(wo,En),En|=i}else s!==null?(i=s.baseLanes|n,t.memoizedState=null):i=n,st(wo,En),En|=i;return sn(e,t,r,n),t.child}function D_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pp(e,t,n,i,r){var s=wn(n)?bs:Qt.current;return s=Go(t,s),ko(t,r),n=Tg(e,t,n,i,s,r),i=Eg(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,$i(e,t,r)):(ft&&i&&dg(t),t.flags|=1,sn(e,t,n,r),t.child)}function Oy(e,t,n,i,r){if(wn(n)){var s=!0;Ju(t)}else s=!1;if(ko(t,r),t.stateNode===null)Au(e,t),A_(t,n,i),hp(t,n,i,r),i=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=jn(c):(c=wn(n)?bs:Qt.current,c=Go(t,c));var h=n.getDerivedStateFromProps,u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Py(t,o,i,c),yr=!1;var f=t.memoizedState;o.state=f,nf(t,i,o,r),l=t.memoizedState,a!==i||f!==l||xn.current||yr?(typeof h=="function"&&(fp(t,n,h,i),l=t.memoizedState),(a=yr||Ay(t,n,a,i,f,l,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,a_(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:oi(t.type,a),o.props=c,u=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=wn(n)?bs:Qt.current,l=Go(t,l));var d=n.getDerivedStateFromProps;(h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||f!==l)&&Py(t,o,i,l),yr=!1,f=t.memoizedState,o.state=f,nf(t,i,o,r);var p=t.memoizedState;a!==u||f!==p||xn.current||yr?(typeof d=="function"&&(fp(t,n,d,i),p=t.memoizedState),(c=yr||Ay(t,n,c,i,f,p,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return mp(e,t,n,i,s,r)}function mp(e,t,n,i,r,s){D_(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return r&&wy(t,n,!1),$i(e,t,s);i=t.stateNode,ZT.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=Wo(t,e.child,null,s),t.child=Wo(t,null,a,s)):sn(e,t,a,s),t.memoizedState=i.state,r&&wy(t,n,!0),t.child}function N_(e){var t=e.stateNode;t.pendingContext?xy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xy(e,t.context,!1),_g(e,t.containerInfo)}function ky(e,t,n,i,r){return Ho(),mg(r),t.flags|=256,sn(e,t,n,i),t.child}var gp={dehydrated:null,treeContext:null,retryLane:0};function yp(e){return{baseLanes:e,cachePool:null,transitions:null}}function O_(e,t,n){var i=t.pendingProps,r=dt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(r&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),st(dt,r&1),e===null)return cp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yf(o,i,0,null),e=ys(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=yp(n),t.memoizedState=gp,e):Pg(t,o));if(r=e.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return JT(e,t,o,i,a,r,n);if(s){s=i.fallback,o=t.mode,r=e.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ir(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ir(a,s):(s=ys(s,o,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o=o===null?yp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=gp,i}return s=e.child,e=s.sibling,i=Ir(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Pg(e,t){return t=Yf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dc(e,t,n,i){return i!==null&&mg(i),Wo(t,e.child,null,n),e=Pg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function JT(e,t,n,i,r,s,o){if(n)return t.flags&256?(t.flags&=-257,i=Uh(Error(ee(422))),Dc(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=Yf({mode:"visible",children:i.children},r,0,null),s=ys(s,r,o,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&Wo(t,e.child,null,o),t.child.memoizedState=yp(o),t.memoizedState=gp,s);if(!(t.mode&1))return Dc(e,t,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(ee(419)),i=Uh(s,i,void 0),Dc(e,t,o,i)}if(a=(o&e.childLanes)!==0,gn||a){if(i=kt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Yi(e,r),fi(i,e,r,-1))}return Og(),i=Uh(Error(ee(421))),Dc(e,t,o,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=uE.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,Cn=Ar(r.nextSibling),An=t,ft=!0,li=null,e!==null&&(Fn[Bn++]=Hi,Fn[Bn++]=Wi,Fn[Bn++]=Ms,Hi=e.id,Wi=e.overflow,Ms=t),t=Pg(t,i.children),t.flags|=4096,t)}function Fy(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),up(e.return,t,n)}function Vh(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function k_(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(sn(e,t,i.children,n),i=dt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fy(e,n,t);else if(e.tag===19)Fy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(st(dt,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&rf(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Vh(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&rf(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Vh(t,!0,n,null,s);break;case"together":Vh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Au(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $i(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ts|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=Ir(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ir(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function KT(e,t,n){switch(t.tag){case 3:N_(t),Ho();break;case 5:l_(t);break;case 1:wn(t.type)&&Ju(t);break;case 4:_g(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;st(ef,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(st(dt,dt.current&1),t.flags|=128,null):n&t.child.childLanes?O_(e,t,n):(st(dt,dt.current&1),e=$i(e,t,n),e!==null?e.sibling:null);st(dt,dt.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return k_(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),st(dt,dt.current),i)break;return null;case 22:case 23:return t.lanes=0,I_(e,t,n)}return $i(e,t,n)}var F_,vp,B_,z_;F_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vp=function(){};B_=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,fs(Ei.current);var s=null;switch(n){case"input":r=Ud(e,r),i=Ud(e,i),s=[];break;case"select":r=yt({},r,{value:void 0}),i=yt({},i,{value:void 0}),s=[];break;case"textarea":r=Hd(e,r),i=Hd(e,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=$u)}jd(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&at("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};z_=function(e,t,n,i){n!==i&&(t.flags|=4)};function Ta(e,t){if(!ft)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function QT(e,t,n){var i=t.pendingProps;switch(pg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(t),null;case 1:return wn(t.type)&&Zu(),Xt(t),null;case 3:return i=t.stateNode,jo(),lt(xn),lt(Qt),Mg(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Rc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,li!==null&&(Ep(li),li=null))),vp(e,t),Xt(t),null;case 5:bg(t);var r=fs(Sl.current);if(n=t.type,e!==null&&t.stateNode!=null)B_(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(ee(166));return Xt(t),null}if(e=fs(Ei.current),Rc(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[bi]=t,i[bl]=s,e=(t.mode&1)!==0,n){case"dialog":at("cancel",i),at("close",i);break;case"iframe":case"object":case"embed":at("load",i);break;case"video":case"audio":for(r=0;r<Ua.length;r++)at(Ua[r],i);break;case"source":at("error",i);break;case"img":case"image":case"link":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"input":X0(i,s),at("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},at("invalid",i);break;case"textarea":Y0(i,s),at("invalid",i)}jd(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Lc(i.textContent,a,e),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Lc(i.textContent,a,e),r=["children",""+a]):hl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&at("scroll",i)}switch(n){case"input":bc(i),q0(i,s,!0);break;case"textarea":bc(i),$0(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=$u)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[bi]=t,e[bl]=i,F_(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xd(n,i),n){case"dialog":at("cancel",e),at("close",e),r=i;break;case"iframe":case"object":case"embed":at("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ua.length;r++)at(Ua[r],e);r=i;break;case"source":at("error",e),r=i;break;case"img":case"image":case"link":at("error",e),at("load",e),r=i;break;case"details":at("toggle",e),r=i;break;case"input":X0(e,i),r=Ud(e,i),at("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=yt({},i,{value:void 0}),at("invalid",e);break;case"textarea":Y0(e,i),r=Hd(e,i),at("invalid",e);break;default:r=i}jd(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?gw(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pw(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&dl(e,l):typeof l=="number"&&dl(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&at("scroll",e):l!=null&&Qm(e,s,l,o))}switch(n){case"input":bc(e),q0(e,i,!1);break;case"textarea":bc(e),$0(e);break;case"option":i.value!=null&&e.setAttribute("value",""+kr(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?Io(e,!!i.multiple,s,!1):i.defaultValue!=null&&Io(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=$u)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xt(t),null;case 6:if(e&&t.stateNode!=null)z_(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(ee(166));if(n=fs(Sl.current),fs(Ei.current),Rc(t)){if(i=t.stateNode,n=t.memoizedProps,i[bi]=t,(s=i.nodeValue!==n)&&(e=An,e!==null))switch(e.tag){case 3:Lc(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lc(i.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[bi]=t,t.stateNode=i}return Xt(t),null;case 13:if(lt(dt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ft&&Cn!==null&&t.mode&1&&!(t.flags&128))i_(),Ho(),t.flags|=98560,s=!1;else if(s=Rc(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(ee(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ee(317));s[bi]=t}else Ho(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xt(t),s=!1}else li!==null&&(Ep(li),li=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||dt.current&1?Lt===0&&(Lt=3):Og())),t.updateQueue!==null&&(t.flags|=4),Xt(t),null);case 4:return jo(),vp(e,t),e===null&&wl(t.stateNode.containerInfo),Xt(t),null;case 10:return vg(t.type._context),Xt(t),null;case 17:return wn(t.type)&&Zu(),Xt(t),null;case 19:if(lt(dt),s=t.memoizedState,s===null)return Xt(t),null;if(i=(t.flags&128)!==0,o=s.rendering,o===null)if(i)Ta(s,!1);else{if(Lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=rf(e),o!==null){for(t.flags|=128,Ta(s,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return st(dt,dt.current&1|2),t.child}e=e.sibling}s.tail!==null&&bt()>qo&&(t.flags|=128,i=!0,Ta(s,!1),t.lanes=4194304)}else{if(!i)if(e=rf(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ta(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ft)return Xt(t),null}else 2*bt()-s.renderingStartTime>qo&&n!==1073741824&&(t.flags|=128,i=!0,Ta(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=bt(),t.sibling=null,n=dt.current,st(dt,i?n&1|2:n&1),t):(Xt(t),null);case 22:case 23:return Ng(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?En&1073741824&&(Xt(t),t.subtreeFlags&6&&(t.flags|=8192)):Xt(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function eE(e,t){switch(pg(t),t.tag){case 1:return wn(t.type)&&Zu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jo(),lt(xn),lt(Qt),Mg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bg(t),null;case 13:if(lt(dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));Ho()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(dt),null;case 4:return jo(),null;case 10:return vg(t.type._context),null;case 22:case 23:return Ng(),null;case 24:return null;default:return null}}var Nc=!1,$t=!1,tE=typeof WeakSet=="function"?WeakSet:Set,fe=null;function xo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){wt(e,t,i)}else n.current=null}function xp(e,t,n){try{n()}catch(i){wt(e,t,i)}}var By=!1;function nE(e,t){if(np=Xu,e=Ww(),hg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,u=e,f=null;t:for(;;){for(var d;u!==n||r!==0&&u.nodeType!==3||(a=o+r),u!==s||i!==0&&u.nodeType!==3||(l=o+i),u.nodeType===3&&(o+=u.nodeValue.length),(d=u.firstChild)!==null;)f=u,u=d;for(;;){if(u===e)break t;if(f===n&&++c===r&&(a=o),f===s&&++h===i&&(l=o),(d=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ip={focusedElem:e,selectionRange:n},Xu=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,v=p.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:oi(t.type,y),v);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(w){wt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return p=By,By=!1,p}function Za(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,s!==void 0&&xp(t,n,s)}r=r.next}while(r!==i)}}function Xf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function wp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function U_(e){var t=e.alternate;t!==null&&(e.alternate=null,U_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bi],delete t[bl],delete t[op],delete t[BT],delete t[zT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function V_(e){return e.tag===5||e.tag===3||e.tag===4}function zy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||V_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _p(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$u));else if(i!==4&&(e=e.child,e!==null))for(_p(e,t,n),e=e.sibling;e!==null;)_p(e,t,n),e=e.sibling}function bp(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(bp(e,t,n),e=e.sibling;e!==null;)bp(e,t,n),e=e.sibling}var zt=null,ai=!1;function or(e,t,n){for(n=n.child;n!==null;)G_(e,t,n),n=n.sibling}function G_(e,t,n){if(Ti&&typeof Ti.onCommitFiberUnmount=="function")try{Ti.onCommitFiberUnmount(Bf,n)}catch{}switch(n.tag){case 5:$t||xo(n,t);case 6:var i=zt,r=ai;zt=null,or(e,t,n),zt=i,ai=r,zt!==null&&(ai?(e=zt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(ai?(e=zt,n=n.stateNode,e.nodeType===8?Nh(e.parentNode,n):e.nodeType===1&&Nh(e,n),yl(e)):Nh(zt,n.stateNode));break;case 4:i=zt,r=ai,zt=n.stateNode.containerInfo,ai=!0,or(e,t,n),zt=i,ai=r;break;case 0:case 11:case 14:case 15:if(!$t&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&xp(n,t,o),r=r.next}while(r!==i)}or(e,t,n);break;case 1:if(!$t&&(xo(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){wt(n,t,a)}or(e,t,n);break;case 21:or(e,t,n);break;case 22:n.mode&1?($t=(i=$t)||n.memoizedState!==null,or(e,t,n),$t=i):or(e,t,n);break;default:or(e,t,n)}}function Uy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tE),t.forEach(function(i){var r=fE.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Qn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:zt=a.stateNode,ai=!1;break e;case 3:zt=a.stateNode.containerInfo,ai=!0;break e;case 4:zt=a.stateNode.containerInfo,ai=!0;break e}a=a.return}if(zt===null)throw Error(ee(160));G_(s,o,r),zt=null,ai=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){wt(r,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)H_(t,e),t=t.sibling}function H_(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qn(t,e),gi(e),i&4){try{Za(3,e,e.return),Xf(3,e)}catch(y){wt(e,e.return,y)}try{Za(5,e,e.return)}catch(y){wt(e,e.return,y)}}break;case 1:Qn(t,e),gi(e),i&512&&n!==null&&xo(n,n.return);break;case 5:if(Qn(t,e),gi(e),i&512&&n!==null&&xo(n,n.return),e.flags&32){var r=e.stateNode;try{dl(r,"")}catch(y){wt(e,e.return,y)}}if(i&4&&(r=e.stateNode,r!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&fw(r,s),Xd(a,o);var c=Xd(a,s);for(o=0;o<l.length;o+=2){var h=l[o],u=l[o+1];h==="style"?gw(r,u):h==="dangerouslySetInnerHTML"?pw(r,u):h==="children"?dl(r,u):Qm(r,h,u,c)}switch(a){case"input":Vd(r,s);break;case"textarea":hw(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Io(r,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?Io(r,!!s.multiple,s.defaultValue,!0):Io(r,!!s.multiple,s.multiple?[]:"",!1))}r[bl]=s}catch(y){wt(e,e.return,y)}}break;case 6:if(Qn(t,e),gi(e),i&4){if(e.stateNode===null)throw Error(ee(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(y){wt(e,e.return,y)}}break;case 3:if(Qn(t,e),gi(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{yl(t.containerInfo)}catch(y){wt(e,e.return,y)}break;case 4:Qn(t,e),gi(e);break;case 13:Qn(t,e),gi(e),r=e.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Ig=bt())),i&4&&Uy(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?($t=(c=$t)||h,Qn(t,e),$t=c):Qn(t,e),gi(e),i&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(fe=e,h=e.child;h!==null;){for(u=fe=h;fe!==null;){switch(f=fe,d=f.child,f.tag){case 0:case 11:case 14:case 15:Za(4,f,f.return);break;case 1:xo(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){i=f,n=f.return;try{t=i,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){wt(i,n,y)}}break;case 5:xo(f,f.return);break;case 22:if(f.memoizedState!==null){Gy(u);continue}}d!==null?(d.return=f,fe=d):Gy(u)}h=h.sibling}e:for(h=null,u=e;;){if(u.tag===5){if(h===null){h=u;try{r=u.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mw("display",o))}catch(y){wt(e,e.return,y)}}}else if(u.tag===6){if(h===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(y){wt(e,e.return,y)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Qn(t,e),gi(e),i&4&&Uy(e);break;case 21:break;default:Qn(t,e),gi(e)}}function gi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(V_(n)){var i=n;break e}n=n.return}throw Error(ee(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(dl(r,""),i.flags&=-33);var s=zy(e);bp(e,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=zy(e);_p(e,a,o);break;default:throw Error(ee(161))}}catch(l){wt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iE(e,t,n){fe=e,W_(e)}function W_(e,t,n){for(var i=(e.mode&1)!==0;fe!==null;){var r=fe,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Nc;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||$t;a=Nc;var c=$t;if(Nc=o,($t=l)&&!c)for(fe=r;fe!==null;)o=fe,l=o.child,o.tag===22&&o.memoizedState!==null?Hy(r):l!==null?(l.return=o,fe=l):Hy(r);for(;s!==null;)fe=s,W_(s),s=s.sibling;fe=r,Nc=a,$t=c}Vy(e)}else r.subtreeFlags&8772&&s!==null?(s.return=r,fe=s):Vy(e)}}function Vy(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$t||Xf(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!$t)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:oi(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Ty(t,s,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ty(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var u=h.dehydrated;u!==null&&yl(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}$t||t.flags&512&&wp(t)}catch(f){wt(t,t.return,f)}}if(t===e){fe=null;break}if(n=t.sibling,n!==null){n.return=t.return,fe=n;break}fe=t.return}}function Gy(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,fe=n;break}fe=t.return}}function Hy(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xf(4,t)}catch(l){wt(t,n,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(l){wt(t,r,l)}}var s=t.return;try{wp(t)}catch(l){wt(t,s,l)}break;case 5:var o=t.return;try{wp(t)}catch(l){wt(t,o,l)}}}catch(l){wt(t,t.return,l)}if(t===e){fe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,fe=a;break}fe=t.return}}var rE=Math.ceil,af=ir.ReactCurrentDispatcher,Lg=ir.ReactCurrentOwner,Gn=ir.ReactCurrentBatchConfig,Ze=0,kt=null,Et=null,Ht=0,En=0,wo=Hr(0),Lt=0,Al=null,Ts=0,qf=0,Rg=0,Ja=null,pn=null,Ig=0,qo=1/0,Vi=null,lf=!1,Mp=null,Lr=null,Oc=!1,br=null,cf=0,Ka=0,Sp=null,Pu=-1,Lu=0;function ln(){return Ze&6?bt():Pu!==-1?Pu:Pu=bt()}function Rr(e){return e.mode&1?Ze&2&&Ht!==0?Ht&-Ht:VT.transition!==null?(Lu===0&&(Lu=Aw()),Lu):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:Ow(e.type)),e):1}function fi(e,t,n,i){if(50<Ka)throw Ka=0,Sp=null,Error(ee(185));ic(e,n,i),(!(Ze&2)||e!==kt)&&(e===kt&&(!(Ze&2)&&(qf|=n),Lt===4&&xr(e,Ht)),_n(e,i),n===1&&Ze===0&&!(t.mode&1)&&(qo=bt()+500,Hf&&Wr()))}function _n(e,t){var n=e.callbackNode;V3(e,t);var i=ju(e,e===kt?Ht:0);if(i===0)n!==null&&K0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&K0(n),t===1)e.tag===0?UT(Wy.bind(null,e)):e_(Wy.bind(null,e)),kT(function(){!(Ze&6)&&Wr()}),n=null;else{switch(Pw(i)){case 1:n=rg;break;case 4:n=Ew;break;case 16:n=Wu;break;case 536870912:n=Cw;break;default:n=Wu}n=K_(n,j_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function j_(e,t){if(Pu=-1,Lu=0,Ze&6)throw Error(ee(327));var n=e.callbackNode;if(Fo()&&e.callbackNode!==n)return null;var i=ju(e,e===kt?Ht:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=uf(e,i);else{t=i;var r=Ze;Ze|=2;var s=q_();(kt!==e||Ht!==t)&&(Vi=null,qo=bt()+500,gs(e,t));do try{aE();break}catch(a){X_(e,a)}while(!0);yg(),af.current=s,Ze=r,Et!==null?t=0:(kt=null,Ht=0,t=Lt)}if(t!==0){if(t===2&&(r=Jd(e),r!==0&&(i=r,t=Tp(e,r))),t===1)throw n=Al,gs(e,0),xr(e,i),_n(e,bt()),n;if(t===6)xr(e,i);else{if(r=e.current.alternate,!(i&30)&&!sE(r)&&(t=uf(e,i),t===2&&(s=Jd(e),s!==0&&(i=s,t=Tp(e,s))),t===1))throw n=Al,gs(e,0),xr(e,i),_n(e,bt()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(ee(345));case 2:os(e,pn,Vi);break;case 3:if(xr(e,i),(i&130023424)===i&&(t=Ig+500-bt(),10<t)){if(ju(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){ln(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=sp(os.bind(null,e,pn,Vi),t);break}os(e,pn,Vi);break;case 4:if(xr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-ui(i);s=1<<o,o=t[o],o>r&&(r=o),i&=~s}if(i=r,i=bt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*rE(i/1960))-i,10<i){e.timeoutHandle=sp(os.bind(null,e,pn,Vi),i);break}os(e,pn,Vi);break;case 5:os(e,pn,Vi);break;default:throw Error(ee(329))}}}return _n(e,bt()),e.callbackNode===n?j_.bind(null,e):null}function Tp(e,t){var n=Ja;return e.current.memoizedState.isDehydrated&&(gs(e,t).flags|=256),e=uf(e,t),e!==2&&(t=pn,pn=n,t!==null&&Ep(t)),e}function Ep(e){pn===null?pn=e:pn.push.apply(pn,e)}function sE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!mi(s(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xr(e,t){for(t&=~Rg,t&=~qf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ui(t),i=1<<n;e[n]=-1,t&=~i}}function Wy(e){if(Ze&6)throw Error(ee(327));Fo();var t=ju(e,0);if(!(t&1))return _n(e,bt()),null;var n=uf(e,t);if(e.tag!==0&&n===2){var i=Jd(e);i!==0&&(t=i,n=Tp(e,i))}if(n===1)throw n=Al,gs(e,0),xr(e,t),_n(e,bt()),n;if(n===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,os(e,pn,Vi),_n(e,bt()),null}function Dg(e,t){var n=Ze;Ze|=1;try{return e(t)}finally{Ze=n,Ze===0&&(qo=bt()+500,Hf&&Wr())}}function Es(e){br!==null&&br.tag===0&&!(Ze&6)&&Fo();var t=Ze;Ze|=1;var n=Gn.transition,i=Ke;try{if(Gn.transition=null,Ke=1,e)return e()}finally{Ke=i,Gn.transition=n,Ze=t,!(Ze&6)&&Wr()}}function Ng(){En=wo.current,lt(wo)}function gs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,OT(n)),Et!==null)for(n=Et.return;n!==null;){var i=n;switch(pg(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Zu();break;case 3:jo(),lt(xn),lt(Qt),Mg();break;case 5:bg(i);break;case 4:jo();break;case 13:lt(dt);break;case 19:lt(dt);break;case 10:vg(i.type._context);break;case 22:case 23:Ng()}n=n.return}if(kt=e,Et=e=Ir(e.current,null),Ht=En=t,Lt=0,Al=null,Rg=qf=Ts=0,pn=Ja=null,us!==null){for(t=0;t<us.length;t++)if(n=us[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}us=null}return e}function X_(e,t){do{var n=Et;try{if(yg(),Eu.current=of,sf){for(var i=gt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}sf=!1}if(Ss=0,Ot=Pt=gt=null,$a=!1,Tl=0,Lg.current=null,n===null||n.return===null){Lt=1,Al=t,Et=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,u=h.tag;if(!(h.mode&1)&&(u===0||u===11||u===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=Ry(o);if(d!==null){d.flags&=-257,Iy(d,o,a,s,t),d.mode&1&&Ly(s,c,t),t=d,l=c;var p=t.updateQueue;if(p===null){var y=new Set;y.add(l),t.updateQueue=y}else p.add(l);break e}else{if(!(t&1)){Ly(s,c,t),Og();break e}l=Error(ee(426))}}else if(ft&&a.mode&1){var v=Ry(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Iy(v,o,a,s,t),mg(Xo(l,a));break e}}s=l=Xo(l,a),Lt!==4&&(Lt=2),Ja===null?Ja=[s]:Ja.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=P_(s,l,t);Sy(s,g);break e;case 1:a=l;var m=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Lr===null||!Lr.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=L_(s,a,t);Sy(s,w);break e}}s=s.return}while(s!==null)}$_(n)}catch(b){t=b,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function q_(){var e=af.current;return af.current=of,e===null?of:e}function Og(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),kt===null||!(Ts&268435455)&&!(qf&268435455)||xr(kt,Ht)}function uf(e,t){var n=Ze;Ze|=2;var i=q_();(kt!==e||Ht!==t)&&(Vi=null,gs(e,t));do try{oE();break}catch(r){X_(e,r)}while(!0);if(yg(),Ze=n,af.current=i,Et!==null)throw Error(ee(261));return kt=null,Ht=0,Lt}function oE(){for(;Et!==null;)Y_(Et)}function aE(){for(;Et!==null&&!I3();)Y_(Et)}function Y_(e){var t=J_(e.alternate,e,En);e.memoizedProps=e.pendingProps,t===null?$_(e):Et=t,Lg.current=null}function $_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=eE(n,t),n!==null){n.flags&=32767,Et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lt=6,Et=null;return}}else if(n=QT(n,t,En),n!==null){Et=n;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);Lt===0&&(Lt=5)}function os(e,t,n){var i=Ke,r=Gn.transition;try{Gn.transition=null,Ke=1,lE(e,t,n,i)}finally{Gn.transition=r,Ke=i}return null}function lE(e,t,n,i){do Fo();while(br!==null);if(Ze&6)throw Error(ee(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(G3(e,s),e===kt&&(Et=kt=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oc||(Oc=!0,K_(Wu,function(){return Fo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Gn.transition,Gn.transition=null;var o=Ke;Ke=1;var a=Ze;Ze|=4,Lg.current=null,nE(e,n),H_(n,e),AT(ip),Xu=!!np,ip=np=null,e.current=n,iE(n),D3(),Ze=a,Ke=o,Gn.transition=s}else e.current=n;if(Oc&&(Oc=!1,br=e,cf=r),s=e.pendingLanes,s===0&&(Lr=null),k3(n.stateNode),_n(e,bt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(lf)throw lf=!1,e=Mp,Mp=null,e;return cf&1&&e.tag!==0&&Fo(),s=e.pendingLanes,s&1?e===Sp?Ka++:(Ka=0,Sp=e):Ka=0,Wr(),null}function Fo(){if(br!==null){var e=Pw(cf),t=Gn.transition,n=Ke;try{if(Gn.transition=null,Ke=16>e?16:e,br===null)var i=!1;else{if(e=br,br=null,cf=0,Ze&6)throw Error(ee(331));var r=Ze;for(Ze|=4,fe=e.current;fe!==null;){var s=fe,o=s.child;if(fe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(fe=c;fe!==null;){var h=fe;switch(h.tag){case 0:case 11:case 15:Za(8,h,s)}var u=h.child;if(u!==null)u.return=h,fe=u;else for(;fe!==null;){h=fe;var f=h.sibling,d=h.return;if(U_(h),h===c){fe=null;break}if(f!==null){f.return=d,fe=f;break}fe=d}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}fe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,fe=o;else e:for(;fe!==null;){if(s=fe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Za(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,fe=g;break e}fe=s.return}}var m=e.current;for(fe=m;fe!==null;){o=fe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,fe=x;else e:for(o=m;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xf(9,a)}}catch(b){wt(a,a.return,b)}if(a===o){fe=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,fe=w;break e}fe=a.return}}if(Ze=r,Wr(),Ti&&typeof Ti.onPostCommitFiberRoot=="function")try{Ti.onPostCommitFiberRoot(Bf,e)}catch{}i=!0}return i}finally{Ke=n,Gn.transition=t}}return!1}function jy(e,t,n){t=Xo(n,t),t=P_(e,t,1),e=Pr(e,t,1),t=ln(),e!==null&&(ic(e,1,t),_n(e,t))}function wt(e,t,n){if(e.tag===3)jy(e,e,n);else for(;t!==null;){if(t.tag===3){jy(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Lr===null||!Lr.has(i))){e=Xo(n,e),e=L_(t,e,1),t=Pr(t,e,1),e=ln(),t!==null&&(ic(t,1,e),_n(t,e));break}}t=t.return}}function cE(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=ln(),e.pingedLanes|=e.suspendedLanes&n,kt===e&&(Ht&n)===n&&(Lt===4||Lt===3&&(Ht&130023424)===Ht&&500>bt()-Ig?gs(e,0):Rg|=n),_n(e,t)}function Z_(e,t){t===0&&(e.mode&1?(t=Tc,Tc<<=1,!(Tc&130023424)&&(Tc=4194304)):t=1);var n=ln();e=Yi(e,t),e!==null&&(ic(e,t,n),_n(e,n))}function uE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Z_(e,n)}function fE(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(ee(314))}i!==null&&i.delete(t),Z_(e,n)}var J_;J_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xn.current)gn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gn=!1,KT(e,t,n);gn=!!(e.flags&131072)}else gn=!1,ft&&t.flags&1048576&&t_(t,Qu,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Au(e,t),e=t.pendingProps;var r=Go(t,Qt.current);ko(t,n),r=Tg(null,t,i,e,r,n);var s=Eg();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wn(i)?(s=!0,Ju(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,wg(t),r.updater=jf,t.stateNode=r,r._reactInternals=t,hp(t,i,e,n),t=mp(null,t,i,!0,s,n)):(t.tag=0,ft&&s&&dg(t),sn(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Au(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=dE(i),e=oi(i,e),r){case 0:t=pp(null,t,i,e,n);break e;case 1:t=Oy(null,t,i,e,n);break e;case 11:t=Dy(null,t,i,e,n);break e;case 14:t=Ny(null,t,i,oi(i.type,e),n);break e}throw Error(ee(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:oi(i,r),pp(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:oi(i,r),Oy(e,t,i,r,n);case 3:e:{if(N_(t),e===null)throw Error(ee(387));i=t.pendingProps,s=t.memoizedState,r=s.element,a_(e,t),nf(t,i,null,n);var o=t.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=Xo(Error(ee(423)),t),t=ky(e,t,i,n,r);break e}else if(i!==r){r=Xo(Error(ee(424)),t),t=ky(e,t,i,n,r);break e}else for(Cn=Ar(t.stateNode.containerInfo.firstChild),An=t,ft=!0,li=null,n=s_(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ho(),i===r){t=$i(e,t,n);break e}sn(e,t,i,n)}t=t.child}return t;case 5:return l_(t),e===null&&cp(t),i=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,o=r.children,rp(i,r)?o=null:s!==null&&rp(i,s)&&(t.flags|=32),D_(e,t),sn(e,t,o,n),t.child;case 6:return e===null&&cp(t),null;case 13:return O_(e,t,n);case 4:return _g(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Wo(t,null,i,n):sn(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:oi(i,r),Dy(e,t,i,r,n);case 7:return sn(e,t,t.pendingProps,n),t.child;case 8:return sn(e,t,t.pendingProps.children,n),t.child;case 12:return sn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,st(ef,i._currentValue),i._currentValue=o,s!==null)if(mi(s.value,o)){if(s.children===r.children&&!xn.current){t=$i(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=ji(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),up(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ee(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),up(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}sn(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,ko(t,n),r=jn(r),i=i(r),t.flags|=1,sn(e,t,i,n),t.child;case 14:return i=t.type,r=oi(i,t.pendingProps),r=oi(i.type,r),Ny(e,t,i,r,n);case 15:return R_(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:oi(i,r),Au(e,t),t.tag=1,wn(i)?(e=!0,Ju(t)):e=!1,ko(t,n),A_(t,i,r),hp(t,i,r,n),mp(null,t,i,!0,e,n);case 19:return k_(e,t,n);case 22:return I_(e,t,n)}throw Error(ee(156,t.tag))};function K_(e,t){return Tw(e,t)}function hE(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,t,n,i){return new hE(e,t,n,i)}function kg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dE(e){if(typeof e=="function")return kg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tg)return 11;if(e===ng)return 14}return 2}function Ir(e,t){var n=e.alternate;return n===null?(n=zn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,i,r,s){var o=2;if(i=e,typeof e=="function")kg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case co:return ys(n.children,r,s,t);case eg:o=8,r|=8;break;case kd:return e=zn(12,n,t,r|2),e.elementType=kd,e.lanes=s,e;case Fd:return e=zn(13,n,t,r),e.elementType=Fd,e.lanes=s,e;case Bd:return e=zn(19,n,t,r),e.elementType=Bd,e.lanes=s,e;case lw:return Yf(n,r,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ow:o=10;break e;case aw:o=9;break e;case tg:o=11;break e;case ng:o=14;break e;case gr:o=16,i=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=zn(o,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function ys(e,t,n,i){return e=zn(7,e,i,t),e.lanes=n,e}function Yf(e,t,n,i){return e=zn(22,e,i,t),e.elementType=lw,e.lanes=n,e.stateNode={isHidden:!1},e}function Gh(e,t,n){return e=zn(6,e,null,t),e.lanes=n,e}function Hh(e,t,n){return t=zn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pE(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mh(0),this.expirationTimes=Mh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mh(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Fg(e,t,n,i,r,s,o,a,l){return e=new pE(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=zn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wg(s),e}function mE(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lo,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Q_(e){if(!e)return Fr;e=e._reactInternals;e:{if(zs(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var n=e.type;if(wn(n))return Qw(e,n,t)}return t}function e2(e,t,n,i,r,s,o,a,l){return e=Fg(n,i,!0,e,r,s,o,a,l),e.context=Q_(null),n=e.current,i=ln(),r=Rr(n),s=ji(i,r),s.callback=t??null,Pr(n,s,r),e.current.lanes=r,ic(e,r,i),_n(e,i),e}function $f(e,t,n,i){var r=t.current,s=ln(),o=Rr(r);return n=Q_(n),t.context===null?t.context=n:t.pendingContext=n,t=ji(s,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Pr(r,t,o),e!==null&&(fi(e,r,o,s),Tu(e,r,o)),o}function ff(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bg(e,t){Xy(e,t),(e=e.alternate)&&Xy(e,t)}function gE(){return null}var t2=typeof reportError=="function"?reportError:function(e){console.error(e)};function zg(e){this._internalRoot=e}Zf.prototype.render=zg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));$f(e,t,null,null)};Zf.prototype.unmount=zg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Es(function(){$f(null,e,null,null)}),t[qi]=null}};function Zf(e){this._internalRoot=e}Zf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Iw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vr.length&&t!==0&&t<vr[n].priority;n++);vr.splice(n,0,e),n===0&&Nw(e)}};function Ug(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qy(){}function yE(e,t,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=ff(o);s.call(c)}}var o=e2(t,i,e,0,null,!1,!1,"",qy);return e._reactRootContainer=o,e[qi]=o.current,wl(e.nodeType===8?e.parentNode:e),Es(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=ff(l);a.call(c)}}var l=Fg(e,0,!1,null,null,!1,!1,"",qy);return e._reactRootContainer=l,e[qi]=l.current,wl(e.nodeType===8?e.parentNode:e),Es(function(){$f(t,l,n,i)}),l}function Kf(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=ff(o);a.call(l)}}$f(t,o,e,r)}else o=yE(n,t,e,r,i);return ff(o)}Lw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=za(t.pendingLanes);n!==0&&(sg(t,n|1),_n(t,bt()),!(Ze&6)&&(qo=bt()+500,Wr()))}break;case 13:Es(function(){var i=Yi(e,1);if(i!==null){var r=ln();fi(i,e,1,r)}}),Bg(e,1)}};og=function(e){if(e.tag===13){var t=Yi(e,134217728);if(t!==null){var n=ln();fi(t,e,134217728,n)}Bg(e,134217728)}};Rw=function(e){if(e.tag===13){var t=Rr(e),n=Yi(e,t);if(n!==null){var i=ln();fi(n,e,t,i)}Bg(e,t)}};Iw=function(){return Ke};Dw=function(e,t){var n=Ke;try{return Ke=e,t()}finally{Ke=n}};Yd=function(e,t,n){switch(t){case"input":if(Vd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Gf(i);if(!r)throw Error(ee(90));uw(i),Vd(i,r)}}}break;case"textarea":hw(e,n);break;case"select":t=n.value,t!=null&&Io(e,!!n.multiple,t,!1)}};xw=Dg;ww=Es;var vE={usingClientEntryPoint:!1,Events:[sc,po,Gf,yw,vw,Dg]},Ea={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xE={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mw(e),e===null?null:e.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||gE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{Bf=kc.inject(xE),Ti=kc}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vE;Dn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ug(t))throw Error(ee(200));return mE(e,t,null,n)};Dn.createRoot=function(e,t){if(!Ug(e))throw Error(ee(299));var n=!1,i="",r=t2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Fg(e,1,!1,null,null,n,!1,i,r),e[qi]=t.current,wl(e.nodeType===8?e.parentNode:e),new zg(t)};Dn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=Mw(t),e=e===null?null:e.stateNode,e};Dn.flushSync=function(e){return Es(e)};Dn.hydrate=function(e,t,n){if(!Jf(t))throw Error(ee(200));return Kf(null,e,t,!0,n)};Dn.hydrateRoot=function(e,t,n){if(!Ug(e))throw Error(ee(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=t2;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=e2(t,null,e,1,n??null,r,!1,s,o),e[qi]=t.current,wl(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Zf(t)};Dn.render=function(e,t,n){if(!Jf(t))throw Error(ee(200));return Kf(null,e,t,!1,n)};Dn.unmountComponentAtNode=function(e){if(!Jf(e))throw Error(ee(40));return e._reactRootContainer?(Es(function(){Kf(null,null,e,!1,function(){e._reactRootContainer=null,e[qi]=null})}),!0):!1};Dn.unstable_batchedUpdates=Dg;Dn.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Jf(n))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return Kf(e,t,n,!1,i)};Dn.version="18.3.1-next-f1338f8080-20240426";function n2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n2)}catch(e){console.error(e)}}n2(),nw.exports=Dn;var wE=nw.exports,i2,Yy=wE;i2=Yy.createRoot,Yy.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pl.apply(this,arguments)}var Mr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mr||(Mr={}));const $y="popstate";function _E(e){e===void 0&&(e={});function t(i,r){let{pathname:s,search:o,hash:a}=i.location;return Cp("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:hf(r)}return ME(t,n,null,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function r2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bE(){return Math.random().toString(36).substr(2,8)}function Zy(e,t){return{usr:e.state,key:e.key,idx:t}}function Cp(e,t,n,i){return n===void 0&&(n=null),Pl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?la(t):t,{state:n,key:t&&t.key||i||bE()})}function hf(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function la(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function ME(e,t,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Mr.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Pl({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function u(){a=Mr.Pop;let v=h(),g=v==null?null:v-c;c=v,l&&l({action:a,location:y.location,delta:g})}function f(v,g){a=Mr.Push;let m=Cp(y.location,v,g);c=h()+1;let x=Zy(m,c),w=y.createHref(m);try{o.pushState(x,"",w)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;r.location.assign(w)}s&&l&&l({action:a,location:y.location,delta:1})}function d(v,g){a=Mr.Replace;let m=Cp(y.location,v,g);c=h();let x=Zy(m,c),w=y.createHref(m);o.replaceState(x,"",w),s&&l&&l({action:a,location:y.location,delta:0})}function p(v){let g=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof v=="string"?v:hf(v);return m=m.replace(/ $/,"%20"),Ct(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return a},get location(){return e(r,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener($y,u),l=v,()=>{r.removeEventListener($y,u),l=null}},createHref(v){return t(r,v)},createURL:p,encodeLocation(v){let g=p(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:d,go(v){return o.go(v)}};return y}var Jy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jy||(Jy={}));function SE(e,t,n){return n===void 0&&(n="/"),TE(e,t,n,!1)}function TE(e,t,n,i){let r=typeof t=="string"?la(t):t,s=Vg(r.pathname||"/",n);if(s==null)return null;let o=s2(e);EE(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=FE(s);a=OE(o[l],c,i)}return a}function s2(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ct(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Dr([i,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Ct(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),s2(s.children,t,h,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:DE(c,s.index),routesMeta:h})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of o2(s.path))r(s,o,l)}),t}function o2(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=o2(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function EE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:NE(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const CE=/^:[\w-]+$/,AE=3,PE=2,LE=1,RE=10,IE=-2,Ky=e=>e==="*";function DE(e,t){let n=e.split("/"),i=n.length;return n.some(Ky)&&(i+=IE),t&&(i+=PE),n.filter(r=>!Ky(r)).reduce((r,s)=>r+(CE.test(s)?AE:s===""?LE:RE),i)}function NE(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function OE(e,t,n){let{routesMeta:i}=e,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,h=s==="/"?t:t.slice(s.length)||"/",u=Qy({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!u&&c&&n&&!i[i.length-1].route.index&&(u=Qy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!u)return null;Object.assign(r,u.params),o.push({params:r,pathname:Dr([s,u.pathname]),pathnameBase:VE(Dr([s,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(s=Dr([s,u.pathnameBase]))}return o}function Qy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=kE(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,h,u)=>{let{paramName:f,isOptional:d}=h;if(f==="*"){let y=a[u]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const p=a[u];return d&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function kE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),r2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function FE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return r2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function BE(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?la(e):e;return{pathname:n?n.startsWith("/")?n:zE(n,t):t,search:GE(i),hash:HE(r)}}function zE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Wh(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function a2(e,t){let n=UE(e);return t?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function l2(e,t,n,i){i===void 0&&(i=!1);let r;typeof e=="string"?r=la(e):(r=Pl({},e),Ct(!r.pathname||!r.pathname.includes("?"),Wh("?","pathname","search",r)),Ct(!r.pathname||!r.pathname.includes("#"),Wh("#","pathname","hash",r)),Ct(!r.search||!r.search.includes("#"),Wh("#","search","hash",r)));let s=e===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let u=t.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),u-=1;r.pathname=f.join("/")}a=u>=0?t[u]:"/"}let l=BE(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Dr=e=>e.join("/").replace(/\/\/+/g,"/"),VE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),GE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const c2=["post","put","patch","delete"];new Set(c2);const jE=["get",...c2];new Set(jE);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ll.apply(this,arguments)}const Gg=z.createContext(null),XE=z.createContext(null),Us=z.createContext(null),Qf=z.createContext(null),jr=z.createContext({outlet:null,matches:[],isDataRoute:!1}),u2=z.createContext(null);function qE(e,t){let{relative:n}=t===void 0?{}:t;ac()||Ct(!1);let{basename:i,navigator:r}=z.useContext(Us),{hash:s,pathname:o,search:a}=h2(e,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Dr([i,o])),r.createHref({pathname:l,search:a,hash:s})}function ac(){return z.useContext(Qf)!=null}function ca(){return ac()||Ct(!1),z.useContext(Qf).location}function f2(e){z.useContext(Us).static||z.useLayoutEffect(e)}function YE(){let{isDataRoute:e}=z.useContext(jr);return e?cC():$E()}function $E(){ac()||Ct(!1);let e=z.useContext(Gg),{basename:t,future:n,navigator:i}=z.useContext(Us),{matches:r}=z.useContext(jr),{pathname:s}=ca(),o=JSON.stringify(a2(r,n.v7_relativeSplatPath)),a=z.useRef(!1);return f2(()=>{a.current=!0}),z.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let u=l2(c,JSON.parse(o),s,h.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Dr([t,u.pathname])),(h.replace?i.replace:i.push)(u,h.state,h)},[t,i,o,s,e])}const ZE=z.createContext(null);function JE(e){let t=z.useContext(jr).outlet;return t&&z.createElement(ZE.Provider,{value:e},t)}function h2(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=z.useContext(Us),{matches:r}=z.useContext(jr),{pathname:s}=ca(),o=JSON.stringify(a2(r,i.v7_relativeSplatPath));return z.useMemo(()=>l2(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function KE(e,t){return QE(e,t)}function QE(e,t,n,i){ac()||Ct(!1);let{navigator:r}=z.useContext(Us),{matches:s}=z.useContext(jr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ca(),h;if(t){var u;let v=typeof t=="string"?la(t):t;l==="/"||(u=v.pathname)!=null&&u.startsWith(l)||Ct(!1),h=v}else h=c;let f=h.pathname||"/",d=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");d="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=SE(e,{pathname:d}),y=rC(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Dr([l,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Dr([l,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,i);return t&&y?z.createElement(Qf.Provider,{value:{location:Ll({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Mr.Pop}},y):y}function eC(){let e=lC(),t=WE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),n?z.createElement("pre",{style:r},n):null,null)}const tC=z.createElement(eC,null);class nC extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?z.createElement(jr.Provider,{value:this.props.routeContext},z.createElement(u2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iC(e){let{routeContext:t,match:n,children:i}=e,r=z.useContext(Gg);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(jr.Provider,{value:t},i)}function rC(e,t,n,i){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let h=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);h>=0||Ct(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let u=o[h];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=h),u.route.id){let{loaderData:f,errors:d}=n,p=u.route.loader&&f[u.route.id]===void 0&&(!d||d[u.route.id]===void 0);if(u.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,u,f)=>{let d,p=!1,y=null,v=null;n&&(d=a&&u.route.id?a[u.route.id]:void 0,y=u.route.errorElement||tC,l&&(c<0&&f===0?(p=!0,v=null):c===f&&(p=!0,v=u.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),m=()=>{let x;return d?x=y:p?x=v:u.route.Component?x=z.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=h,z.createElement(iC,{match:u,routeContext:{outlet:h,matches:g,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?z.createElement(nC,{location:n.location,revalidation:n.revalidation,component:y,error:d,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var d2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(d2||{}),df=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(df||{});function sC(e){let t=z.useContext(Gg);return t||Ct(!1),t}function oC(e){let t=z.useContext(XE);return t||Ct(!1),t}function aC(e){let t=z.useContext(jr);return t||Ct(!1),t}function p2(e){let t=aC(),n=t.matches[t.matches.length-1];return n.route.id||Ct(!1),n.route.id}function lC(){var e;let t=z.useContext(u2),n=oC(df.UseRouteError),i=p2(df.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function cC(){let{router:e}=sC(d2.UseNavigateStable),t=p2(df.UseNavigateStable),n=z.useRef(!1);return f2(()=>{n.current=!0}),z.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Ll({fromRouteId:t},s)))},[e,t])}function uC(e){return JE(e.context)}function Ui(e){Ct(!1)}function fC(e){let{basename:t="/",children:n=null,location:i,navigationType:r=Mr.Pop,navigator:s,static:o=!1,future:a}=e;ac()&&Ct(!1);let l=t.replace(/^\/*/,"/"),c=z.useMemo(()=>({basename:l,navigator:s,static:o,future:Ll({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=la(i));let{pathname:h="/",search:u="",hash:f="",state:d=null,key:p="default"}=i,y=z.useMemo(()=>{let v=Vg(h,l);return v==null?null:{location:{pathname:v,search:u,hash:f,state:d,key:p},navigationType:r}},[l,h,u,f,d,p,r]);return y==null?null:z.createElement(Us.Provider,{value:c},z.createElement(Qf.Provider,{children:n,value:y}))}function hC(e){let{children:t,location:n}=e;return KE(Ap(t),n)}new Promise(()=>{});function Ap(e,t){t===void 0&&(t=[]);let n=[];return z.Children.forEach(e,(i,r)=>{if(!z.isValidElement(i))return;let s=[...t,r];if(i.type===z.Fragment){n.push.apply(n,Ap(i.props.children,s));return}i.type!==Ui&&Ct(!1),!i.props.index||!i.props.children||Ct(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Ap(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pp.apply(this,arguments)}function dC(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function pC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mC(e,t){return e.button===0&&(!t||t==="_self")&&!pC(e)}const gC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],yC="6";try{window.__reactRouterVersion=yC}catch{}const vC="startTransition",ev=c3[vC];function xC(e){let{basename:t,children:n,future:i,window:r}=e,s=z.useRef();s.current==null&&(s.current=_E({window:r,v5Compat:!0}));let o=s.current,[a,l]=z.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},h=z.useCallback(u=>{c&&ev?ev(()=>l(u)):l(u)},[l,c]);return z.useLayoutEffect(()=>o.listen(h),[o,h]),z.createElement(fC,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const wC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_C=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bC=z.forwardRef(function(t,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,unstable_viewTransition:u}=t,f=dC(t,gC),{basename:d}=z.useContext(Us),p,y=!1;if(typeof c=="string"&&_C.test(c)&&(p=c,wC))try{let x=new URL(window.location.href),w=c.startsWith("//")?new URL(x.protocol+c):new URL(c),b=Vg(w.pathname,d);w.origin===x.origin&&b!=null?c=b+w.search+w.hash:y=!0}catch{}let v=qE(c,{relative:r}),g=MC(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,unstable_viewTransition:u});function m(x){i&&i(x),x.defaultPrevented||g(x)}return z.createElement("a",Pp({},f,{href:p||v,onClick:y||s?i:m,ref:n,target:l}))});var tv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tv||(tv={}));var nv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nv||(nv={}));function MC(e,t){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=YE(),c=ca(),h=h2(e,{relative:o});return z.useCallback(u=>{if(mC(u,n)){u.preventDefault();let f=i!==void 0?i:hf(c)===hf(h);l(e,{replace:f,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,h,i,r,n,e,s,o,a])}const Hg=z.createContext({});function Wg(e){const t=z.useRef(null);return t.current===null&&(t.current=e()),t.current}const jg=typeof window<"u",m2=jg?z.useLayoutEffect:z.useEffect,eh=z.createContext(null);function Xg(e,t){e.indexOf(t)===-1&&e.push(t)}function qg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Zi=(e,t,n)=>n>t?t:n<e?e:n;let pf=()=>{};const Ji={},g2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function y2(e){return typeof e=="object"&&e!==null}const v2=e=>/^0[^.\s]+$/u.test(e);function Yg(e){let t;return()=>(t===void 0&&(t=e()),t)}const Hn=e=>e,SC=(e,t)=>n=>t(e(n)),lc=(...e)=>e.reduce(SC),Rl=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class $g{constructor(){this.subscriptions=[]}add(t){return Xg(this.subscriptions,t),()=>qg(this.subscriptions,t)}notify(t,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ci=e=>e*1e3,Un=e=>e/1e3;function x2(e,t){return t?e*(1e3/t):0}const w2=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,TC=1e-7,EC=12;function CC(e,t,n,i,r){let s,o,a=0;do o=t+(n-t)/2,s=w2(o,i,r)-e,s>0?n=o:t=o;while(Math.abs(s)>TC&&++a<EC);return o}function cc(e,t,n,i){if(e===t&&n===i)return Hn;const r=s=>CC(s,0,1,e,n);return s=>s===0||s===1?s:w2(r(s),t,i)}const _2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,b2=e=>t=>1-e(1-t),M2=cc(.33,1.53,.69,.99),Zg=b2(M2),S2=_2(Zg),T2=e=>(e*=2)<1?.5*Zg(e):.5*(2-Math.pow(2,-10*(e-1))),Jg=e=>1-Math.sin(Math.acos(e)),E2=b2(Jg),C2=_2(Jg),AC=cc(.42,0,1,1),PC=cc(0,0,.58,1),A2=cc(.42,0,.58,1),LC=e=>Array.isArray(e)&&typeof e[0]!="number",P2=e=>Array.isArray(e)&&typeof e[0]=="number",iv={linear:Hn,easeIn:AC,easeInOut:A2,easeOut:PC,circIn:Jg,circInOut:C2,circOut:E2,backIn:Zg,backInOut:S2,backOut:M2,anticipate:T2},RC=e=>typeof e=="string",rv=e=>{if(P2(e)){pf(e.length===4);const[t,n,i,r]=e;return cc(t,n,i,r)}else if(RC(e))return pf(iv[e]!==void 0),iv[e];return e},Fc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],sv={value:null,addProjectionMetrics:null};function IC(e,t){let n=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(u){o.has(u)&&(h.schedule(u),e()),l++,u(a)}const h={schedule:(u,f=!1,d=!1)=>{const y=d&&r?n:i;return f&&o.add(u),y.has(u)||y.add(u),u},cancel:u=>{i.delete(u),o.delete(u)},process:u=>{if(a=u,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(c),t&&sv.value&&sv.value.frameloop[t].push(l),l=0,n.clear(),r=!1,s&&(s=!1,h.process(u))}};return h}const DC=40;function L2(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Fc.reduce((x,w)=>(x[w]=IC(s,t?w:void 0),x),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:h,update:u,preRender:f,render:d,postRender:p}=o,y=()=>{const x=Ji.useManualTiming?r.timestamp:performance.now();n=!1,Ji.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(x-r.timestamp,DC),1)),r.timestamp=x,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),h.process(r),u.process(r),f.process(r),d.process(r),p.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(y))},v=()=>{n=!0,i=!0,r.isProcessing||e(y)};return{schedule:Fc.reduce((x,w)=>{const b=o[w];return x[w]=(_,M=!1,E=!1)=>(n||v(),b.schedule(_,M,E)),x},{}),cancel:x=>{for(let w=0;w<Fc.length;w++)o[Fc[w]].cancel(x)},state:r,steps:o}}const{schedule:ht,cancel:Br,state:Ut,steps:jh}=L2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hn,!0);let Iu;function NC(){Iu=void 0}const yn={now:()=>(Iu===void 0&&yn.set(Ut.isProcessing||Ji.useManualTiming?Ut.timestamp:performance.now()),Iu),set:e=>{Iu=e,queueMicrotask(NC)}},R2=e=>t=>typeof t=="string"&&t.startsWith(e),Kg=R2("--"),OC=R2("var(--"),Qg=e=>OC(e)?kC.test(e.split("/*")[0].trim()):!1,kC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ua={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Il={...ua,transform:e=>Zi(0,1,e)},Bc={...ua,default:1},Qa=e=>Math.round(e*1e5)/1e5,e0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FC(e){return e==null}const BC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,t0=(e,t)=>n=>!!(typeof n=="string"&&BC.test(n)&&n.startsWith(e)||t&&!FC(n)&&Object.prototype.hasOwnProperty.call(n,t)),I2=(e,t,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(e0);return{[e]:parseFloat(r),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},zC=e=>Zi(0,255,e),Xh={...ua,transform:e=>Math.round(zC(e))},hs={test:t0("rgb","red"),parse:I2("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Xh.transform(e)+", "+Xh.transform(t)+", "+Xh.transform(n)+", "+Qa(Il.transform(i))+")"};function UC(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Lp={test:t0("#"),parse:UC,transform:hs.transform},uc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),mr=uc("deg"),Ai=uc("%"),Re=uc("px"),VC=uc("vh"),GC=uc("vw"),ov={...Ai,parse:e=>Ai.parse(e)/100,transform:e=>Ai.transform(e*100)},_o={test:t0("hsl","hue"),parse:I2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Ai.transform(Qa(t))+", "+Ai.transform(Qa(n))+", "+Qa(Il.transform(i))+")"},St={test:e=>hs.test(e)||Lp.test(e)||_o.test(e),parse:e=>hs.test(e)?hs.parse(e):_o.test(e)?_o.parse(e):Lp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?hs.transform(e):_o.transform(e),getAnimatableNone:e=>{const t=St.parse(e);return t.alpha=0,St.transform(t)}},HC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WC(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(e0))==null?void 0:t.length)||0)+(((n=e.match(HC))==null?void 0:n.length)||0)>0}const D2="number",N2="color",jC="var",XC="var(",av="${}",qC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dl(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=t.replace(qC,l=>(St.test(l)?(i.color.push(s),r.push(N2),n.push(St.parse(l))):l.startsWith(XC)?(i.var.push(s),r.push(jC),n.push(l)):(i.number.push(s),r.push(D2),n.push(parseFloat(l))),++s,av)).split(av);return{values:n,split:a,indexes:i,types:r}}function O2(e){return Dl(e).values}function k2(e){const{split:t,types:n}=Dl(e),i=t.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=t[o],r[o]!==void 0){const a=n[o];a===D2?s+=Qa(r[o]):a===N2?s+=St.transform(r[o]):s+=r[o]}return s}}const YC=e=>typeof e=="number"?0:St.test(e)?St.getAnimatableNone(e):e;function $C(e){const t=O2(e);return k2(e)(t.map(YC))}const zr={test:WC,parse:O2,createTransformer:k2,getAnimatableNone:$C};function qh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ZC({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let r=0,s=0,o=0;if(!t)r=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=qh(l,a,e+1/3),s=qh(l,a,e),o=qh(l,a,e-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function mf(e,t){return n=>n>0?t:e}const pt=(e,t,n)=>e+(t-e)*n,Yh=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},JC=[Lp,hs,_o],KC=e=>JC.find(t=>t.test(e));function lv(e){const t=KC(e);if(!t)return!1;let n=t.parse(e);return t===_o&&(n=ZC(n)),n}const cv=(e,t)=>{const n=lv(e),i=lv(t);if(!n||!i)return mf(e,t);const r={...n};return s=>(r.red=Yh(n.red,i.red,s),r.green=Yh(n.green,i.green,s),r.blue=Yh(n.blue,i.blue,s),r.alpha=pt(n.alpha,i.alpha,s),hs.transform(r))},Rp=new Set(["none","hidden"]);function QC(e,t){return Rp.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function eA(e,t){return n=>pt(e,t,n)}function n0(e){return typeof e=="number"?eA:typeof e=="string"?Qg(e)?mf:St.test(e)?cv:iA:Array.isArray(e)?F2:typeof e=="object"?St.test(e)?cv:tA:mf}function F2(e,t){const n=[...e],i=n.length,r=e.map((s,o)=>n0(s)(s,t[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function tA(e,t){const n={...e,...t},i={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(i[r]=n0(e[r])(e[r],t[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function nA(e,t){const n=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const s=t.types[r],o=e.indexes[s][i[s]],a=e.values[o]??0;n[r]=a,i[s]++}return n}const iA=(e,t)=>{const n=zr.createTransformer(t),i=Dl(e),r=Dl(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Rp.has(e)&&!r.values.length||Rp.has(t)&&!i.values.length?QC(e,t):lc(F2(nA(i,r),r.values),n):mf(e,t)};function B2(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?pt(e,t,n):n0(e)(e,t)}const rA=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ht.update(t,n),stop:()=>Br(t),now:()=>Ut.isProcessing?Ut.timestamp:yn.now()}},z2=(e,t,n=10)=>{let i="";const r=Math.max(Math.round(t/n),2);for(let s=0;s<r;s++)i+=Math.round(e(s/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},gf=2e4;function i0(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<gf;)t+=n,i=e.next(t);return t>=gf?1/0:t}function sA(e,t=100,n){const i=n({...e,keyframes:[0,t]}),r=Math.min(i0(i),gf);return{type:"keyframes",ease:s=>i.next(r*s).value/t,duration:Un(r)}}const oA=5;function U2(e,t,n){const i=Math.max(t-oA,0);return x2(n-e(i),t-i)}const xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$h=.001;function aA({duration:e=xt.duration,bounce:t=xt.bounce,velocity:n=xt.velocity,mass:i=xt.mass}){let r,s,o=1-t;o=Zi(xt.minDamping,xt.maxDamping,o),e=Zi(xt.minDuration,xt.maxDuration,Un(e)),o<1?(r=c=>{const h=c*o,u=h*e,f=h-n,d=Ip(c,o),p=Math.exp(-u);return $h-f/d*p},s=c=>{const u=c*o*e,f=u*n+n,d=Math.pow(o,2)*Math.pow(c,2)*e,p=Math.exp(-u),y=Ip(Math.pow(c,2),o);return(-r(c)+$h>0?-1:1)*((f-d)*p)/y}):(r=c=>{const h=Math.exp(-c*e),u=(c-n)*e+1;return-$h+h*u},s=c=>{const h=Math.exp(-c*e),u=(n-c)*(e*e);return h*u});const a=5/e,l=cA(r,s,a);if(e=Ci(e),isNaN(l))return{stiffness:xt.stiffness,damping:xt.damping,duration:e};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:e}}}const lA=12;function cA(e,t,n){let i=n;for(let r=1;r<lA;r++)i=i-e(i)/t(i);return i}function Ip(e,t){return e*Math.sqrt(1-t*t)}const uA=["duration","bounce"],fA=["stiffness","damping","mass"];function uv(e,t){return t.some(n=>e[n]!==void 0)}function hA(e){let t={velocity:xt.velocity,stiffness:xt.stiffness,damping:xt.damping,mass:xt.mass,isResolvedFromDuration:!1,...e};if(!uv(e,fA)&&uv(e,uA))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Zi(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:xt.mass,stiffness:r,damping:s}}else{const n=aA(e);t={...t,...n,mass:xt.mass},t.isResolvedFromDuration=!0}return t}function yf(e=xt.visualDuration,t=xt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:u,velocity:f,isResolvedFromDuration:d}=hA({...n,velocity:-Un(n.velocity||0)}),p=f||0,y=c/(2*Math.sqrt(l*h)),v=o-s,g=Un(Math.sqrt(l/h)),m=Math.abs(v)<5;i||(i=m?xt.restSpeed.granular:xt.restSpeed.default),r||(r=m?xt.restDelta.granular:xt.restDelta.default);let x;if(y<1){const b=Ip(g,y);x=_=>{const M=Math.exp(-y*g*_);return o-M*((p+y*g*v)/b*Math.sin(b*_)+v*Math.cos(b*_))}}else if(y===1)x=b=>o-Math.exp(-g*b)*(v+(p+g*v)*b);else{const b=g*Math.sqrt(y*y-1);x=_=>{const M=Math.exp(-y*g*_),E=Math.min(b*_,300);return o-M*((p+y*g*v)*Math.sinh(E)+b*v*Math.cosh(E))/b}}const w={calculatedDuration:d&&u||null,next:b=>{const _=x(b);if(d)a.done=b>=u;else{let M=b===0?p:0;y<1&&(M=b===0?Ci(p):U2(x,b,_));const E=Math.abs(M)<=i,P=Math.abs(o-_)<=r;a.done=E&&P}return a.value=a.done?o:_,a},toString:()=>{const b=Math.min(i0(w),gf),_=z2(M=>w.next(b*M).value,b,30);return b+"ms "+_},toTransition:()=>{}};return w}yf.applyToOptions=e=>{const t=sA(e,100,yf);return e.ease=t.ease,e.duration=Ci(t.duration),e.type="keyframes",e};function Dp({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const u=e[0],f={done:!1,value:u},d=E=>a!==void 0&&E<a||l!==void 0&&E>l,p=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let y=n*t;const v=u+y,g=o===void 0?v:o(v);g!==v&&(y=g-u);const m=E=>-y*Math.exp(-E/i),x=E=>g+m(E),w=E=>{const P=m(E),I=x(E);f.done=Math.abs(P)<=c,f.value=f.done?g:I};let b,_;const M=E=>{d(f.value)&&(b=E,_=yf({keyframes:[f.value,p(f.value)],velocity:U2(x,E,f.value),damping:r,stiffness:s,restDelta:c,restSpeed:h}))};return M(0),{calculatedDuration:null,next:E=>{let P=!1;return!_&&b===void 0&&(P=!0,w(E),M(E)),b!==void 0&&E>=b?_.next(E-b):(!P&&w(E),f)}}}function dA(e,t,n){const i=[],r=n||Ji.mix||B2,s=e.length-1;for(let o=0;o<s;o++){let a=r(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Hn:t;a=lc(l,a)}i.push(a)}return i}function pA(e,t,{clamp:n=!0,ease:i,mixer:r}={}){const s=e.length;if(pf(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=dA(t,i,r),l=a.length,c=h=>{if(o&&h<e[0])return t[0];let u=0;if(l>1)for(;u<e.length-2&&!(h<e[u+1]);u++);const f=Rl(e[u],e[u+1],h);return a[u](f)};return n?h=>c(Zi(e[0],e[s-1],h)):c}function mA(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=Rl(0,t,i);e.push(pt(n,1,r))}}function gA(e){const t=[0];return mA(t,e.length-1),t}function yA(e,t){return e.map(n=>n*t)}function vA(e,t){return e.map(()=>t||A2).splice(0,e.length-1)}function el({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const r=LC(i)?i.map(rv):rv(i),s={done:!1,value:t[0]},o=yA(n&&n.length===t.length?n:gA(t),e),a=pA(o,t,{ease:Array.isArray(r)?r:vA(t,r)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const xA=e=>e!==null;function r0(e,{repeat:t,repeatType:n="loop"},i,r=1){const s=e.filter(xA),a=r<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const wA={decay:Dp,inertia:Dp,tween:el,keyframes:el,spring:yf};function V2(e){typeof e.type=="string"&&(e.type=wA[e.type])}class s0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const _A=e=>e/100;class o0 extends s0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:n}=this.options;n&&n.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;V2(t);const{type:n=el,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||el;l!==el&&typeof a[0]!="number"&&(this.mixKeyframes=lc(_A,B2(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=i0(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:c=0,keyframes:h,repeat:u,repeatType:f,repeatDelay:d,type:p,onUpdate:y,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),m=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let x=this.currentTime,w=i;if(u){const E=Math.min(this.currentTime,r)/a;let P=Math.floor(E),I=E%1;!I&&E>=1&&(I=1),I===1&&P--,P=Math.min(P,u+1),!!(P%2)&&(f==="reverse"?(I=1-I,d&&(I-=d/a)):f==="mirror"&&(w=o)),x=Zi(0,1,I)*a}const b=m?{done:!1,value:h[0]}:w.next(x);s&&(b.value=s(b.value));let{done:_}=b;!m&&l!==null&&(_=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return M&&p!==Dp&&(b.value=r0(h,this.options,v,this.speed)),y&&y(b.value),M&&this.finish(),b}then(t,n){return this.finished.then(t,n)}get duration(){return Un(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Un(t)}get time(){return Un(this.currentTime)}set time(t){var n;t=Ci(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(yn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Un(this.currentTime))}play(){var r,s;if(this.isStopped)return;const{driver:t=rA,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(r=this.options).onPlay)==null||s.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function bA(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ds=e=>e*180/Math.PI,Np=e=>{const t=ds(Math.atan2(e[1],e[0]));return Op(t)},MA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Np,rotateZ:Np,skewX:e=>ds(Math.atan(e[1])),skewY:e=>ds(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Op=e=>(e=e%360,e<0&&(e+=360),e),fv=Np,hv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),dv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),SA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hv,scaleY:dv,scale:e=>(hv(e)+dv(e))/2,rotateX:e=>Op(ds(Math.atan2(e[6],e[5]))),rotateY:e=>Op(ds(Math.atan2(-e[2],e[0]))),rotateZ:fv,rotate:fv,skewX:e=>ds(Math.atan(e[4])),skewY:e=>ds(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function kp(e){return e.includes("scale")?1:0}function Fp(e,t){if(!e||e==="none")return kp(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=SA,r=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=MA,r=a}if(!r)return kp(t);const s=i[t],o=r[1].split(",").map(EA);return typeof s=="function"?s(o):o[s]}const TA=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Fp(n,t)};function EA(e){return parseFloat(e.trim())}const fa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ha=new Set(fa),pv=e=>e===ua||e===Re,CA=new Set(["x","y","z"]),AA=fa.filter(e=>!CA.has(e));function PA(e){const t=[];return AA.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const vs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Fp(t,"x"),y:(e,{transform:t})=>Fp(t,"y")};vs.translateX=vs.x;vs.translateY=vs.y;const xs=new Set;let Bp=!1,zp=!1,Up=!1;function G2(){if(zp){const e=Array.from(xs).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const r=PA(i);r.length&&(n.set(i,r),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))==null||a.set(o)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}zp=!1,Bp=!1,xs.forEach(e=>e.complete(Up)),xs.clear()}function H2(){xs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(zp=!0)})}function LA(){Up=!0,H2(),G2(),Up=!1}class a0{constructor(t,n,i,r,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(xs.add(this),Bp||(Bp=!0,ht.read(H2),ht.resolveKeyframes(G2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:r}=this;if(t[0]===null){const s=r==null?void 0:r.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(i&&n){const a=i.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),r&&s===void 0&&r.set(t[0])}bA(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),xs.delete(this)}cancel(){this.state==="scheduled"&&(xs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const RA=e=>e.startsWith("--");function IA(e,t,n){RA(t)?e.style.setProperty(t,n):e.style[t]=n}const DA=Yg(()=>window.ScrollTimeline!==void 0),NA={};function OA(e,t){const n=Yg(e);return()=>NA[t]??n()}const W2=OA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Va=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,mv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Va([0,.65,.55,1]),circOut:Va([.55,0,1,.45]),backIn:Va([.31,.01,.66,-.59]),backOut:Va([.33,1.53,.69,.99])};function j2(e,t){if(e)return typeof e=="function"?W2()?z2(e,t):"ease-out":P2(e)?Va(e):Array.isArray(e)?e.map(n=>j2(n,t)||mv.easeOut):mv[e]}function kA(e,t,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const h={[t]:n};l&&(h.offset=l);const u=j2(a,r);Array.isArray(u)&&(h.easing=u);const f={delay:i,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),e.animate(h,f)}function X2(e){return typeof e=="function"&&"applyToOptions"in e}function FA({type:e,...t}){return X2(e)&&W2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class BA extends s0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:r,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,pf(typeof t.type!="string");const c=FA(t);this.animation=kA(n,i,r,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=r0(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):IA(n,i,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Un(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Un(t)}get time(){return Un(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ci(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&DA()?(this.animation.timeline=t,Hn):n(this)}}const q2={anticipate:T2,backInOut:S2,circInOut:C2};function zA(e){return e in q2}function UA(e){typeof e.ease=="string"&&zA(e.ease)&&(e.ease=q2[e.ease])}const gv=10;class VA extends BA{constructor(t){UA(t),V2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:r,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new o0({...o,autoplay:!1}),l=Ci(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-gv).value,a.sample(l).value,gv),a.stop()}}const yv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(zr.test(e)||e==="0")&&!e.startsWith("url("));function GA(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function HA(e,t,n,i){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=yv(r,t),a=yv(s,t);return!o||!a?!1:GA(e)||(n==="spring"||X2(n))&&i}function Vp(e){e.duration=0,e.type="keyframes"}const WA=new Set(["opacity","clipPath","filter","transform"]),jA=Yg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function XA(e){var h;const{motionValue:t,name:n,repeatDelay:i,repeatType:r,damping:s,type:o}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return jA()&&n&&WA.has(n)&&(n!=="transform"||!c)&&!l&&!i&&r!=="mirror"&&s!==0&&o!=="inertia"}const qA=40;class YA extends s0{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:h,...u}){var p;super(),this.stop=()=>{var y,v;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=yn.now();const f={autoplay:t,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:h,...u},d=(h==null?void 0:h.KeyframeResolver)||a0;this.keyframeResolver=new d(a,(y,v,g)=>this.onKeyframesResolved(y,v,f,!g),l,c,h),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,n,i,r){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:h}=i;this.resolvedAt=yn.now(),HA(t,s,o,a)||((Ji.instantAnimations||!l)&&(h==null||h(r0(t,i,n))),t[0]=t[t.length-1],Vp(i),i.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>qA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},d=!c&&XA(f)?new VA({...f,element:f.motionValue.owner.current}):new o0(f);d.finished.then(()=>this.notifyFinished()).catch(Hn),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),LA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const $A=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZA(e){const t=$A.exec(e);if(!t)return[,];const[,n,i,r]=t;return[`--${n??i}`,r]}function Y2(e,t,n=1){const[i,r]=ZA(e);if(!i)return;const s=window.getComputedStyle(t).getPropertyValue(i);if(s){const o=s.trim();return g2(o)?parseFloat(o):o}return Qg(r)?Y2(r,t,n+1):r}function l0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const $2=new Set(["width","height","top","left","right","bottom",...fa]),JA={test:e=>e==="auto",parse:e=>e},Z2=e=>t=>t.test(e),J2=[ua,Re,Ai,mr,GC,VC,JA],vv=e=>J2.find(Z2(e));function KA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||v2(e):!0}const QA=new Set(["brightness","contrast","saturate","opacity"]);function e4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(e0)||[];if(!i)return e;const r=n.replace(i,"");let s=QA.has(t)?1:0;return i!==n&&(s*=100),t+"("+s+r+")"}const t4=/\b([a-z-]*)\(.*?\)/gu,Gp={...zr,getAnimatableNone:e=>{const t=e.match(t4);return t?t.map(e4).join(" "):e}},xv={...ua,transform:Math.round},n4={rotate:mr,rotateX:mr,rotateY:mr,rotateZ:mr,scale:Bc,scaleX:Bc,scaleY:Bc,scaleZ:Bc,skew:mr,skewX:mr,skewY:mr,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:Il,originX:ov,originY:ov,originZ:Re},c0={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...n4,zIndex:xv,fillOpacity:Il,strokeOpacity:Il,numOctaves:xv},i4={...c0,color:St,backgroundColor:St,outlineColor:St,fill:St,stroke:St,borderColor:St,borderTopColor:St,borderRightColor:St,borderBottomColor:St,borderLeftColor:St,filter:Gp,WebkitFilter:Gp},K2=e=>i4[e];function Q2(e,t){let n=K2(e);return n!==Gp&&(n=zr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const r4=new Set(["auto","none","0"]);function s4(e,t,n){let i=0,r;for(;i<e.length&&!r;){const s=e[i];typeof s=="string"&&!r4.has(s)&&Dl(s).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=Q2(n,r)}class o4 extends a0{constructor(t,n,i,r,s){super(t,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Qg(c))){const h=Y2(c,n.current);h!==void 0&&(t[l]=h),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!$2.has(i)||t.length!==2)return;const[r,s]=t,o=vv(r),a=vv(s);if(o!==a)if(pv(o)&&pv(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else vs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let r=0;r<t.length;r++)(t[r]===null||KA(t[r]))&&i.push(r);i.length&&s4(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vs[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=vs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function a4(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const r=document.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const eb=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function tb(e){return y2(e)&&"offsetHeight"in e}const wv=30,l4=e=>!isNaN(parseFloat(e));class c4{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var s;const r=yn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=yn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=l4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new $g);const i=this.events[t].add(n);return t==="change"?()=>{i(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>wv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,wv);return x2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yo(e,t){return new c4(e,t)}const{schedule:u0,cancel:m9}=L2(queueMicrotask,!1),si={x:!1,y:!1};function nb(){return si.x||si.y}function u4(e){return e==="x"||e==="y"?si[e]?null:(si[e]=!0,()=>{si[e]=!1}):si.x||si.y?null:(si.x=si.y=!0,()=>{si.x=si.y=!1})}function ib(e,t){const n=a4(e),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[n,r,()=>i.abort()]}function _v(e){return!(e.pointerType==="touch"||nb())}function f4(e,t,n={}){const[i,r,s]=ib(e,n),o=a=>{if(!_v(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const h=u=>{_v(u)&&(c(u),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const rb=(e,t)=>t?e===t?!0:rb(e,t.parentElement):!1,f0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,h4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function d4(e){return h4.has(e.tagName)||e.tabIndex!==-1}const Du=new WeakSet;function bv(e){return t=>{t.key==="Enter"&&e(t)}}function Zh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const p4=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=bv(()=>{if(Du.has(n))return;Zh(n,"down");const r=bv(()=>{Zh(n,"up")}),s=()=>Zh(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function Mv(e){return f0(e)&&!nb()}function m4(e,t,n={}){const[i,r,s]=ib(e,n),o=a=>{const l=a.currentTarget;if(!Mv(a))return;Du.add(l);const c=t(l,a),h=(d,p)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",f),Du.has(l)&&Du.delete(l),Mv(d)&&typeof c=="function"&&c(d,{success:p})},u=d=>{h(d,l===window||l===document||n.useGlobalTarget||rb(l,d.target))},f=d=>{h(d,!1)};window.addEventListener("pointerup",u,r),window.addEventListener("pointercancel",f,r)};return i.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),tb(a)&&(a.addEventListener("focus",c=>p4(c,r)),!d4(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function sb(e){return y2(e)&&"ownerSVGElement"in e}function g4(e){return sb(e)&&e.tagName==="svg"}const Jt=e=>!!(e&&e.getVelocity),y4=[...J2,St,zr],v4=e=>y4.find(Z2(e)),h0=z.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Sv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function x4(...e){return t=>{let n=!1;const i=e.map(r=>{const s=Sv(r,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():Sv(e[r],null)}}}}function w4(...e){return z.useCallback(x4(...e),e)}class _4 extends z.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=tb(i)&&i.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function b4({children:e,isPresent:t,anchorX:n,root:i}){const r=z.useId(),s=z.useRef(null),o=z.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=z.useContext(h0),l=w4(s,e==null?void 0:e.ref);return z.useInsertionEffect(()=>{const{width:c,height:h,top:u,left:f,right:d}=o.current;if(t||!s.current||!c||!h)return;const p=n==="left"?`left: ${f}`:`right: ${d}`;s.current.dataset.motionPopId=r;const y=document.createElement("style");a&&(y.nonce=a);const v=i??document.head;return v.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${p}px !important;
            top: ${u}px !important;
          }
        `),()=>{v.contains(y)&&v.removeChild(y)}},[t]),q.jsx(_4,{isPresent:t,childRef:s,sizeRef:o,children:z.cloneElement(e,{ref:l})})}const M4=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const c=Wg(S4),h=z.useId();let u=!0,f=z.useMemo(()=>(u=!1,{id:h,initial:t,isPresent:n,custom:r,onExitComplete:d=>{c.set(d,!0);for(const p of c.values())if(!p)return;i&&i()},register:d=>(c.set(d,!1),()=>c.delete(d))}),[n,c,i]);return s&&u&&(f={...f}),z.useMemo(()=>{c.forEach((d,p)=>c.set(p,!1))},[n]),z.useEffect(()=>{!n&&!c.size&&i&&i()},[n]),o==="popLayout"&&(e=q.jsx(b4,{isPresent:n,anchorX:a,root:l,children:e})),q.jsx(eh.Provider,{value:f,children:e})};function S4(){return new Map}function ob(e=!0){const t=z.useContext(eh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=t,s=z.useId();z.useEffect(()=>{if(e)return r(s)},[e]);const o=z.useCallback(()=>e&&i&&i(s),[s,i,e]);return!n&&i?[!1,o]:[!0]}const zc=e=>e.key||"";function Tv(e){const t=[];return z.Children.forEach(e,n=>{z.isValidElement(n)&&t.push(n)}),t}const T4=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,h]=ob(o),u=z.useMemo(()=>Tv(e),[e]),f=o&&!c?[]:u.map(zc),d=z.useRef(!0),p=z.useRef(u),y=Wg(()=>new Map),[v,g]=z.useState(u),[m,x]=z.useState(u);m2(()=>{d.current=!1,p.current=u;for(let _=0;_<m.length;_++){const M=zc(m[_]);f.includes(M)?y.delete(M):y.get(M)!==!0&&y.set(M,!1)}},[m,f.length,f.join("-")]);const w=[];if(u!==v){let _=[...u];for(let M=0;M<m.length;M++){const E=m[M],P=zc(E);f.includes(P)||(_.splice(M,0,E),w.push(E))}return s==="wait"&&w.length&&(_=w),x(Tv(_)),g(u),null}const{forceRender:b}=z.useContext(Hg);return q.jsx(q.Fragment,{children:m.map(_=>{const M=zc(_),E=o&&!c?!1:u===m||f.includes(M),P=()=>{if(y.has(M))y.set(M,!0);else return;let I=!0;y.forEach(N=>{N||(I=!1)}),I&&(b==null||b(),x(p.current),o&&(h==null||h()),i&&i())};return q.jsx(M4,{isPresent:E,initial:!d.current||n?void 0:!1,custom:t,presenceAffectsLayout:r,mode:s,root:l,onExitComplete:E?void 0:P,anchorX:a,children:_},M)})})},ab=z.createContext({strict:!1}),Ev={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$o={};for(const e in Ev)$o[e]={isEnabled:t=>Ev[e].some(n=>!!t[n])};function E4(e){for(const t in e)$o[t]={...$o[t],...e[t]}}const C4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||C4.has(e)}let lb=e=>!vf(e);function A4(e){typeof e=="function"&&(lb=t=>t.startsWith("on")?!vf(t):e(t))}try{A4(require("@emotion/is-prop-valid").default)}catch{}function P4(e,t,n){const i={};for(const r in e)r==="values"&&typeof e.values=="object"||(lb(r)||n===!0&&vf(r)||!t&&!vf(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}const th=z.createContext({});function nh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Nl(e){return typeof e=="string"||Array.isArray(e)}const d0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],p0=["initial",...d0];function ih(e){return nh(e.animate)||p0.some(t=>Nl(e[t]))}function cb(e){return!!(ih(e)||e.variants)}function L4(e,t){if(ih(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Nl(n)?n:void 0,animate:Nl(i)?i:void 0}}return e.inherit!==!1?t:{}}function R4(e){const{initial:t,animate:n}=L4(e,z.useContext(th));return z.useMemo(()=>({initial:t,animate:n}),[Cv(t),Cv(n)])}function Cv(e){return Array.isArray(e)?e.join(" "):e}const Ol={};function I4(e){for(const t in e)Ol[t]=e[t],Kg(t)&&(Ol[t].isCSSVariable=!0)}function ub(e,{layout:t,layoutId:n}){return ha.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ol[e]||e==="opacity")}const D4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},N4=fa.length;function O4(e,t,n){let i="",r=!0;for(let s=0;s<N4;s++){const o=fa[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=eb(a,c0[o]);if(!l){r=!1;const h=D4[o]||o;i+=`${h}(${c}) `}n&&(t[o]=c)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}function m0(e,t,n){const{style:i,vars:r,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(ha.has(l)){o=!0;continue}else if(Kg(l)){r[l]=c;continue}else{const h=eb(c,c0[l]);l.startsWith("origin")?(a=!0,s[l]=h):i[l]=h}}if(t.transform||(o||n?i.transform=O4(t,e.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;i.transformOrigin=`${l} ${c} ${h}`}}const g0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fb(e,t,n){for(const i in t)!Jt(t[i])&&!ub(i,n)&&(e[i]=t[i])}function k4({transformTemplate:e},t){return z.useMemo(()=>{const n=g0();return m0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function F4(e,t){const n=e.style||{},i={};return fb(i,n,e),Object.assign(i,k4(e,t)),i}function B4(e,t){const n={},i=F4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const z4={offset:"stroke-dashoffset",array:"stroke-dasharray"},U4={offset:"strokeDashoffset",array:"strokeDasharray"};function V4(e,t,n=1,i=0,r=!0){e.pathLength=1;const s=r?z4:U4;e[s.offset]=Re.transform(-i);const o=Re.transform(t),a=Re.transform(n);e[s.array]=`${o} ${a}`}function hb(e,{attrX:t,attrY:n,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:o=0,...a},l,c,h){if(m0(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:u,style:f}=e;u.transform&&(f.transform=u.transform,delete u.transform),(f.transform||u.transformOrigin)&&(f.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),f.transform&&(f.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete u.transformBox),t!==void 0&&(u.x=t),n!==void 0&&(u.y=n),i!==void 0&&(u.scale=i),r!==void 0&&V4(u,r,s,o,!1)}const db=()=>({...g0(),attrs:{}}),pb=e=>typeof e=="string"&&e.toLowerCase()==="svg";function G4(e,t,n,i){const r=z.useMemo(()=>{const s=db();return hb(s,t,pb(i),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};fb(s,e.style,e),r.style={...s,...r.style}}return r}const H4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function y0(e){return typeof e!="string"||e.includes("-")?!1:!!(H4.indexOf(e)>-1||/[A-Z]/u.test(e))}function W4(e,t,n,{latestValues:i},r,s=!1){const a=(y0(e)?G4:B4)(t,i,r,e),l=P4(t,typeof e=="string",s),c=e!==z.Fragment?{...l,...a,ref:n}:{},{children:h}=t,u=z.useMemo(()=>Jt(h)?h.get():h,[h]);return z.createElement(e,{...c,children:u})}function Av(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function v0(e,t,n,i){if(typeof t=="function"){const[r,s]=Av(i);t=t(n!==void 0?n:e.custom,r,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,s]=Av(i);t=t(n!==void 0?n:e.custom,r,s)}return t}function Nu(e){return Jt(e)?e.get():e}function j4({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,r){return{latestValues:X4(n,i,r,e),renderState:t()}}function X4(e,t,n,i){const r={},s=i(e,{});for(const f in s)r[f]=Nu(s[f]);let{initial:o,animate:a}=e;const l=ih(e),c=cb(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const u=h?a:o;if(u&&typeof u!="boolean"&&!nh(u)){const f=Array.isArray(u)?u:[u];for(let d=0;d<f.length;d++){const p=v0(e,f[d]);if(p){const{transitionEnd:y,transition:v,...g}=p;for(const m in g){let x=g[m];if(Array.isArray(x)){const w=h?x.length-1:0;x=x[w]}x!==null&&(r[m]=x)}for(const m in y)r[m]=y[m]}}}return r}const mb=e=>(t,n)=>{const i=z.useContext(th),r=z.useContext(eh),s=()=>j4(e,t,i,r);return n?s():Wg(s)};function x0(e,t,n){var s;const{style:i}=e,r={};for(const o in i)(Jt(i[o])||t.style&&Jt(t.style[o])||ub(o,e)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(r[o]=i[o]);return r}const q4=mb({scrapeMotionValuesFromProps:x0,createRenderState:g0});function gb(e,t,n){const i=x0(e,t,n);for(const r in e)if(Jt(e[r])||Jt(t[r])){const s=fa.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=e[r]}return i}const Y4=mb({scrapeMotionValuesFromProps:gb,createRenderState:db}),$4=Symbol.for("motionComponentSymbol");function bo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Z4(e,t,n){return z.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):bo(n)&&(n.current=i))},[t])}const w0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),J4="framerAppearId",yb="data-"+w0(J4),vb=z.createContext({});function K4(e,t,n,i,r){var y,v;const{visualElement:s}=z.useContext(th),o=z.useContext(ab),a=z.useContext(eh),l=z.useContext(h0).reducedMotion,c=z.useRef(null);i=i||o.renderer,!c.current&&i&&(c.current=i(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=c.current,u=z.useContext(vb);h&&!h.projection&&r&&(h.type==="html"||h.type==="svg")&&Q4(c.current,n,r,u);const f=z.useRef(!1);z.useInsertionEffect(()=>{h&&f.current&&h.update(n,a)});const d=n[yb],p=z.useRef(!!d&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,d))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,d)));return m2(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),p.current&&h.animationState&&h.animationState.animateChanges())}),z.useEffect(()=>{h&&(!p.current&&h.animationState&&h.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,d)}),p.current=!1),h.enteringChildren=void 0)}),h}function Q4(e,t,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:xb(e.parent)),e.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&bo(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:h,layoutScroll:l,layoutRoot:c})}function xb(e){if(e)return e.options.allowProjection!==!1?e.projection:xb(e.parent)}function Jh(e,{forwardMotionProps:t=!1}={},n,i){n&&E4(n);const r=y0(e)?Y4:q4;function s(a,l){let c;const h={...z.useContext(h0),...a,layoutId:e5(a)},{isStatic:u}=h,f=R4(a),d=r(a,u);if(!u&&jg){t5();const p=n5(h);c=p.MeasureLayout,f.visualElement=K4(e,d,h,i,p.ProjectionNode)}return q.jsxs(th.Provider,{value:f,children:[c&&f.visualElement?q.jsx(c,{visualElement:f.visualElement,...h}):null,W4(e,a,Z4(d,f.visualElement,l),d,u,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=z.forwardRef(s);return o[$4]=e,o}function e5({layoutId:e}){const t=z.useContext(Hg).id;return t&&e!==void 0?t+"-"+e:e}function t5(e,t){z.useContext(ab).strict}function n5(e){const{drag:t,layout:n}=$o;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function i5(e,t){if(typeof Proxy>"u")return Jh;const n=new Map,i=(s,o)=>Jh(s,o,e,t),r=(s,o)=>i(s,o);return new Proxy(r,{get:(s,o)=>o==="create"?i:(n.has(o)||n.set(o,Jh(o,void 0,e,t)),n.get(o))})}function wb({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function r5({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function s5(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Kh(e){return e===void 0||e===1}function Hp({scale:e,scaleX:t,scaleY:n}){return!Kh(e)||!Kh(t)||!Kh(n)}function as(e){return Hp(e)||_b(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _b(e){return Pv(e.x)||Pv(e.y)}function Pv(e){return e&&e!=="0%"}function xf(e,t,n){const i=e-n,r=t*i;return n+r}function Lv(e,t,n,i,r){return r!==void 0&&(e=xf(e,r,i)),xf(e,n,i)+t}function Wp(e,t=0,n=1,i,r){e.min=Lv(e.min,t,n,i,r),e.max=Lv(e.max,t,n,i,r)}function bb(e,{x:t,y:n}){Wp(e.x,t.translate,t.scale,t.originPoint),Wp(e.y,n.translate,n.scale,n.originPoint)}const Rv=.999999999999,Iv=1.0000000000001;function o5(e,t,n,i=!1){const r=n.length;if(!r)return;t.x=t.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&So(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,bb(e,o)),i&&as(s.latestValues)&&So(e,s.latestValues))}t.x<Iv&&t.x>Rv&&(t.x=1),t.y<Iv&&t.y>Rv&&(t.y=1)}function Mo(e,t){e.min=e.min+t,e.max=e.max+t}function Dv(e,t,n,i,r=.5){const s=pt(e.min,e.max,r);Wp(e,t,n,s,i)}function So(e,t){Dv(e.x,t.x,t.scaleX,t.scale,t.originX),Dv(e.y,t.y,t.scaleY,t.scale,t.originY)}function Mb(e,t){return wb(s5(e.getBoundingClientRect(),t))}function a5(e,t,n){const i=Mb(e,n),{scroll:r}=t;return r&&(Mo(i.x,r.offset.x),Mo(i.y,r.offset.y)),i}const Nv=()=>({translate:0,scale:1,origin:0,originPoint:0}),To=()=>({x:Nv(),y:Nv()}),Ov=()=>({min:0,max:0}),At=()=>({x:Ov(),y:Ov()}),jp={current:null},Sb={current:!1};function l5(){if(Sb.current=!0,!!jg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jp.current=e.matches;e.addEventListener("change",t),t()}else jp.current=!1}const c5=new WeakMap;function u5(e,t,n){for(const i in t){const r=t[i],s=n[i];if(Jt(r))e.addValue(i,r);else if(Jt(s))e.addValue(i,Yo(r,{owner:e}));else if(s!==r)if(e.hasValue(i)){const o=e.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(i);e.addValue(i,Yo(o!==void 0?o:r,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const kv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class f5{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=yn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ht.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=ih(n),this.isVariantNode=cb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...u}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in u){const d=u[f];l[f]!==void 0&&Jt(d)&&d.set(l[f])}}mount(t){var n;this.current=t,c5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),Sb.current||l5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jp.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Br(this.notifyUpdate),Br(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=ha.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ht.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $o){const n=$o[t];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):At()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<kv.length;i++){const r=kv[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=t[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=u5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Yo(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(g2(i)||v2(i))?i=parseFloat(i):!v4(i)&&zr.test(n)&&(i=Q2(t,n)),this.setBaseTarget(t,Jt(i)?i.get():i)),Jt(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=v0(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Jt(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new $g),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){u0.render(this.render)}}class Tb extends f5{constructor(){super(...arguments),this.KeyframeResolver=o4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Jt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Eb(e,{style:t,vars:n},i,r){const s=e.style;let o;for(o in t)s[o]=t[o];r==null||r.applyProjectionStyles(s,i);for(o in n)s.setProperty(o,n[o])}function h5(e){return window.getComputedStyle(e)}class d5 extends Tb{constructor(){super(...arguments),this.type="html",this.renderInstance=Eb}readValueFromInstance(t,n){var i;if(ha.has(n))return(i=this.projection)!=null&&i.isProjecting?kp(n):TA(t,n);{const r=h5(t),s=(Kg(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Mb(t,n)}build(t,n,i){m0(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return x0(t,n,i)}}const Cb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function p5(e,t,n,i){Eb(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(Cb.has(r)?r:w0(r),t.attrs[r])}class m5 extends Tb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=At}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ha.has(n)){const i=K2(n);return i&&i.default||0}return n=Cb.has(n)?n:w0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return gb(t,n,i)}build(t,n,i){hb(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,r){p5(t,n,i,r)}mount(t){this.isSVGTag=pb(t.tagName),super.mount(t)}}const g5=(e,t)=>y0(e)?new m5(t):new d5(t,{allowProjection:e!==z.Fragment});function Bo(e,t,n){const i=e.getProps();return v0(i,t,n!==void 0?n:i.custom,e)}const Xp=e=>Array.isArray(e);function y5(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Yo(n))}function v5(e){return Xp(e)?e[e.length-1]||0:e}function x5(e,t){const n=Bo(e,t);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=v5(s[o]);y5(e,o,a)}}function w5(e){return!!(Jt(e)&&e.add)}function qp(e,t){const n=e.getValue("willChange");if(w5(n))return n.add(t);if(!n&&Ji.WillChange){const i=new Ji.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function Ab(e){return e.props[yb]}const _5=e=>e!==null;function b5(e,{repeat:t,repeatType:n="loop"},i){const r=e.filter(_5),s=t&&n!=="loop"&&t%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const M5={type:"spring",stiffness:500,damping:25,restSpeed:10},S5=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),T5={type:"keyframes",duration:.8},E5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},C5=(e,{keyframes:t})=>t.length>2?T5:ha.has(e)?e.startsWith("scale")?S5(t[1]):M5:E5;function A5({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const _0=(e,t,n,i={},r,s)=>o=>{const a=l0(i,e)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Ci(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:r};A5(a)||Object.assign(h,C5(e,h)),h.duration&&(h.duration=Ci(h.duration)),h.repeatDelay&&(h.repeatDelay=Ci(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let u=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Vp(h),h.delay===0&&(u=!0)),(Ji.instantAnimations||Ji.skipAnimations)&&(u=!0,Vp(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,u&&!s&&t.get()!==void 0){const f=b5(h.keyframes,a);if(f!==void 0){ht.update(()=>{h.onUpdate(f),h.onComplete()});return}}return a.isSync?new o0(h):new YA(h)};function P5({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function Pb(e,t,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;i&&(s=i);const l=[],c=r&&e.animationState&&e.animationState.getState()[r];for(const h in a){const u=e.getValue(h,e.latestValues[h]??null),f=a[h];if(f===void 0||c&&P5(c,h))continue;const d={delay:n,...l0(s||{},h)},p=u.get();if(p!==void 0&&!u.isAnimating&&!Array.isArray(f)&&f===p&&!d.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=Ab(e);if(g){const m=window.MotionHandoffAnimation(g,h,ht);m!==null&&(d.startTime=m,y=!0)}}qp(e,h),u.start(_0(h,u,f,e.shouldReduceMotion&&$2.has(h)?{type:!1}:d,e,y));const v=u.animation;v&&l.push(v)}return o&&Promise.all(l).then(()=>{ht.update(()=>{o&&x5(e,o)})}),l}function Lb(e,t,n,i=0,r=1){const s=Array.from(e).sort((c,h)=>c.sortNodePosition(h)).indexOf(t),o=e.size,a=(o-1)*i;return typeof n=="function"?n(s,o):r===1?s*i:a-s*i}function Yp(e,t,n={}){var l;const i=Bo(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>Promise.all(Pb(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:u,staggerDirection:f}=r;return L5(e,t,c,h,u,f,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[c,h]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function L5(e,t,n=0,i=0,r=0,s=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Yp(l,t,{...o,delay:n+(typeof i=="function"?0:i)+Lb(e.variantChildren,l,i,r,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function R5(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(s=>Yp(e,s,n));i=Promise.all(r)}else if(typeof t=="string")i=Yp(e,t,n);else{const r=typeof t=="function"?Bo(e,t,n.custom):t;i=Promise.all(Pb(e,r,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function Rb(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const I5=p0.length;function Ib(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Ib(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<I5;n++){const i=p0[n],r=e.props[i];(Nl(r)||r===!1)&&(t[i]=r)}return t}const D5=[...d0].reverse(),N5=d0.length;function O5(e){return t=>Promise.all(t.map(({animation:n,options:i})=>R5(e,n,i)))}function k5(e){let t=O5(e),n=Fv(),i=!0;const r=l=>(c,h)=>{var f;const u=Bo(e,h,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(u){const{transition:d,transitionEnd:p,...y}=u;c={...c,...y,...p}}return c};function s(l){t=l(e)}function o(l){const{props:c}=e,h=Ib(e.parent)||{},u=[],f=new Set;let d={},p=1/0;for(let v=0;v<N5;v++){const g=D5[v],m=n[g],x=c[g]!==void 0?c[g]:h[g],w=Nl(x),b=g===l?m.isActive:null;b===!1&&(p=v);let _=x===h[g]&&x!==c[g]&&w;if(_&&i&&e.manuallyAnimateOnMount&&(_=!1),m.protectedKeys={...d},!m.isActive&&b===null||!x&&!m.prevProp||nh(x)||typeof x=="boolean")continue;const M=F5(m.prevProp,x);let E=M||g===l&&m.isActive&&!_&&w||v>p&&w,P=!1;const I=Array.isArray(x)?x:[x];let N=I.reduce(r(g),{});b===!1&&(N={});const{prevResolvedValues:R={}}=m,F={...R,...N},L=V=>{E=!0,f.has(V)&&(P=!0,f.delete(V)),m.needsAnimating[V]=!0;const k=e.getValue(V);k&&(k.liveStyle=!1)};for(const V in F){const k=N[V],U=R[V];if(d.hasOwnProperty(V))continue;let H=!1;Xp(k)&&Xp(U)?H=!Rb(k,U):H=k!==U,H?k!=null?L(V):f.add(V):k!==void 0&&f.has(V)?L(V):m.protectedKeys[V]=!0}m.prevProp=x,m.prevResolvedValues=N,m.isActive&&(d={...d,...N}),i&&e.blockInitialAnimation&&(E=!1);const O=_&&M;E&&(!O||P)&&u.push(...I.map(V=>{const k={type:g};if(typeof V=="string"&&i&&!O&&e.manuallyAnimateOnMount&&e.parent){const{parent:U}=e,H=Bo(U,V);if(U.enteringChildren&&H){const{delayChildren:X}=H.transition||{};k.delay=Lb(U.enteringChildren,e,X)}}return{animation:V,options:k}}))}if(f.size){const v={};if(typeof c.initial!="boolean"){const g=Bo(e,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(v.transition=g.transition)}f.forEach(g=>{const m=e.getBaseTarget(g),x=e.getValue(g);x&&(x.liveStyle=!0),v[g]=m??null}),u.push({animation:v})}let y=!!u.length;return i&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(y=!1),i=!1,y?t(u):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=e.variantChildren)==null||u.forEach(f=>{var d;return(d=f.animationState)==null?void 0:d.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Fv()}}}function F5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Rb(t,e):!1}function es(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fv(){return{animate:es(!0),whileInView:es(),whileHover:es(),whileTap:es(),whileDrag:es(),whileFocus:es(),exit:es()}}class Xr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class B5 extends Xr{constructor(t){super(t),t.animationState||(t.animationState=k5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();nh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let z5=0;class U5 extends Xr{constructor(){super(...arguments),this.id=z5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const V5={animation:{Feature:B5},exit:{Feature:U5}};function kl(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function fc(e){return{point:{x:e.pageX,y:e.pageY}}}const G5=e=>t=>f0(t)&&e(t,fc(t));function tl(e,t,n,i){return kl(e,t,G5(n),i)}const Db=1e-4,H5=1-Db,W5=1+Db,Nb=.01,j5=0-Nb,X5=0+Nb;function an(e){return e.max-e.min}function q5(e,t,n){return Math.abs(e-t)<=n}function Bv(e,t,n,i=.5){e.origin=i,e.originPoint=pt(t.min,t.max,e.origin),e.scale=an(n)/an(t),e.translate=pt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=H5&&e.scale<=W5||isNaN(e.scale))&&(e.scale=1),(e.translate>=j5&&e.translate<=X5||isNaN(e.translate))&&(e.translate=0)}function nl(e,t,n,i){Bv(e.x,t.x,n.x,i?i.originX:void 0),Bv(e.y,t.y,n.y,i?i.originY:void 0)}function zv(e,t,n){e.min=n.min+t.min,e.max=e.min+an(t)}function Y5(e,t,n){zv(e.x,t.x,n.x),zv(e.y,t.y,n.y)}function Uv(e,t,n){e.min=t.min-n.min,e.max=e.min+an(t)}function wf(e,t,n){Uv(e.x,t.x,n.x),Uv(e.y,t.y,n.y)}function kn(e){return[e("x"),e("y")]}const Ob=({current:e})=>e?e.ownerDocument.defaultView:null,Vv=(e,t)=>Math.abs(e-t);function $5(e,t){const n=Vv(e.x,t.x),i=Vv(e.y,t.y);return Math.sqrt(n**2+i**2)}class kb{constructor(t,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ed(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=$5(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!d&&!p)return;const{point:y}=f,{timestamp:v}=Ut;this.history.push({...y,timestamp:v});const{onStart:g,onMove:m}=this.handlers;d||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Qh(d,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=ed(f.type==="pointercancel"?this.lastMoveEventInfo:Qh(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,g),y&&y(f,g)},!f0(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=r||window;const a=fc(t),l=Qh(a,this.transformPagePoint),{point:c}=l,{timestamp:h}=Ut;this.history=[{...c,timestamp:h}];const{onSessionStart:u}=n;u&&u(t,ed(l,this.history)),this.removeListeners=lc(tl(this.contextWindow,"pointermove",this.handlePointerMove),tl(this.contextWindow,"pointerup",this.handlePointerUp),tl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Br(this.updatePoint)}}function Qh(e,t){return t?{point:t(e.point)}:e}function Gv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ed({point:e},t){return{point:e,delta:Gv(e,Fb(t)),offset:Gv(e,Z5(t)),velocity:J5(t,.1)}}function Z5(e){return e[0]}function Fb(e){return e[e.length-1]}function J5(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=Fb(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>Ci(t)));)n--;if(!i)return{x:0,y:0};const s=Un(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function K5(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?pt(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?pt(n,e,i.max):Math.min(e,n)),e}function Hv(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Q5(e,{top:t,left:n,bottom:i,right:r}){return{x:Hv(e.x,n,r),y:Hv(e.y,t,i)}}function Wv(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function eP(e,t){return{x:Wv(e.x,t.x),y:Wv(e.y,t.y)}}function tP(e,t){let n=.5;const i=an(e),r=an(t);return r>i?n=Rl(t.min,t.max-i,e.min):i>r&&(n=Rl(e.min,e.max-r,t.min)),Zi(0,1,n)}function nP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const $p=.35;function iP(e=$p){return e===!1?e=0:e===!0&&(e=$p),{x:jv(e,"left","right"),y:jv(e,"top","bottom")}}function jv(e,t,n){return{min:Xv(e,t),max:Xv(e,n)}}function Xv(e,t){return typeof e=="number"?e:e[t]||0}const rP=new WeakMap;class sP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=At(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fc(u).point)},o=(u,f)=>{const{drag:d,dragPropagation:p,onDragStart:y}=this.getProps();if(d&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=u4(d),!this.openDragLock))return;this.latestPointerEvent=u,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kn(g=>{let m=this.getAxisMotionValue(g).get()||0;if(Ai.test(m)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[g];w&&(m=an(w)*(parseFloat(m)/100))}}this.originPoint[g]=m}),y&&ht.postRender(()=>y(u,f)),qp(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(u,f)=>{this.latestPointerEvent=u,this.latestPanInfo=f;const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:y,onDrag:v}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:g}=f;if(p&&this.currentDirection===null){this.currentDirection=oP(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),v&&v(u,f)},l=(u,f)=>{this.latestPointerEvent=u,this.latestPanInfo=f,this.stop(u,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>kn(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new kb(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:i,contextWindow:Ob(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,r=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&ht.postRender(()=>a(i,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:r}=this.getProps();if(!i||!Uc(t,r,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=K5(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,r=this.constraints;t&&bo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Q5(i.layoutBox,t):this.constraints=!1,this.elastic=iP(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&kn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=nP(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!bo(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=a5(i,r.root,this.visualElement.getTransformPagePoint());let o=eP(r.layout.layoutBox,s);if(n){const a=n(r5(o));this.hasMutatedConstraints=!!a,a&&(o=wb(a))}return o}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=kn(h=>{if(!Uc(h,n,this.currentDirection))return;let u=l&&l[h]||{};o&&(u={min:0,max:0});const f=r?200:1e6,d=r?40:1e7,p={type:"inertia",velocity:i?t[h]:0,bounceStiffness:f,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...u};return this.startAxisValueAnimation(h,p)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return qp(this.visualElement,t),i.start(_0(t,i,0,n,this.visualElement,!1))}stopAnimation(){kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){kn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){kn(n=>{const{drag:i}=this.getProps();if(!Uc(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(t[n]-pt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!bo(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};kn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=tP({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),kn(o=>{if(!Uc(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(pt(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;rP.set(this.visualElement,this);const t=this.visualElement.current,n=tl(t,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();bo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ht.read(i);const o=kl(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(kn(h=>{const u=this.getAxisMotionValue(h);u&&(this.originPoint[h]+=l[h].translate,u.set(u.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=$p,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Uc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function oP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class aP extends Xr{constructor(t){super(t),this.removeGroupControls=Hn,this.removeListeners=Hn,this.controls=new sP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const qv=e=>(t,n)=>{e&&ht.postRender(()=>e(t,n))};class lP extends Xr{constructor(){super(...arguments),this.removePointerDownListener=Hn}onPointerDown(t){this.session=new kb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ob(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:qv(t),onStart:qv(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&ht.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=tl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ou={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Yv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ca={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Re.test(e))e=parseFloat(e);else return e;const n=Yv(e,t.target.x),i=Yv(e,t.target.y);return`${n}% ${i}%`}},cP={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,r=zr.parse(e);if(r.length>5)return i;const s=zr.createTransformer(e),o=typeof r[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;r[0+o]/=a,r[1+o]/=l;const c=pt(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};let td=!1;class uP extends z.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=t;I4(fP),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),td&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ou.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,{projection:o}=i;return o&&(o.isPresent=s,td=!0,r||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||ht.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),u0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=t;td=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Bb(e){const[t,n]=ob(),i=z.useContext(Hg);return q.jsx(uP,{...e,layoutGroup:i,switchLayoutGroup:z.useContext(vb),isPresent:t,safeToRemove:n})}const fP={borderRadius:{...Ca,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ca,borderTopRightRadius:Ca,borderBottomLeftRadius:Ca,borderBottomRightRadius:Ca,boxShadow:cP};function hP(e,t,n){const i=Jt(e)?e:Yo(e);return i.start(_0("",i,t,n)),i.animation}const dP=(e,t)=>e.depth-t.depth;class pP{constructor(){this.children=[],this.isDirty=!1}add(t){Xg(this.children,t),this.isDirty=!0}remove(t){qg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(dP),this.isDirty=!1,this.children.forEach(t)}}function mP(e,t){const n=yn.now(),i=({timestamp:r})=>{const s=r-n;s>=t&&(Br(i),e(s-t))};return ht.setup(i,!0),()=>Br(i)}const zb=["TopLeft","TopRight","BottomLeft","BottomRight"],gP=zb.length,$v=e=>typeof e=="string"?parseFloat(e):e,Zv=e=>typeof e=="number"||Re.test(e);function yP(e,t,n,i,r,s){r?(e.opacity=pt(0,n.opacity??1,vP(i)),e.opacityExit=pt(t.opacity??1,0,xP(i))):s&&(e.opacity=pt(t.opacity??1,n.opacity??1,i));for(let o=0;o<gP;o++){const a=`border${zb[o]}Radius`;let l=Jv(t,a),c=Jv(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Zv(l)===Zv(c)?(e[a]=Math.max(pt($v(l),$v(c),i),0),(Ai.test(c)||Ai.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=pt(t.rotate||0,n.rotate||0,i))}function Jv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const vP=Ub(0,.5,E2),xP=Ub(.5,.95,Hn);function Ub(e,t,n){return i=>i<e?0:i>t?1:n(Rl(e,t,i))}function Kv(e,t){e.min=t.min,e.max=t.max}function ei(e,t){Kv(e.x,t.x),Kv(e.y,t.y)}function Qv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function e1(e,t,n,i,r){return e-=t,e=xf(e,1/n,i),r!==void 0&&(e=xf(e,1/r,i)),e}function wP(e,t=0,n=1,i=.5,r,s=e,o=e){if(Ai.test(t)&&(t=parseFloat(t),t=pt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=pt(s.min,s.max,i);e===s&&(a-=t),e.min=e1(e.min,t,n,a,r),e.max=e1(e.max,t,n,a,r)}function t1(e,t,[n,i,r],s,o){wP(e,t[n],t[i],t[r],t.scale,s,o)}const _P=["x","scaleX","originX"],bP=["y","scaleY","originY"];function n1(e,t,n,i){t1(e.x,t,_P,n?n.x:void 0,i?i.x:void 0),t1(e.y,t,bP,n?n.y:void 0,i?i.y:void 0)}function i1(e){return e.translate===0&&e.scale===1}function Vb(e){return i1(e.x)&&i1(e.y)}function r1(e,t){return e.min===t.min&&e.max===t.max}function MP(e,t){return r1(e.x,t.x)&&r1(e.y,t.y)}function s1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Gb(e,t){return s1(e.x,t.x)&&s1(e.y,t.y)}function o1(e){return an(e.x)/an(e.y)}function a1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class SP{constructor(){this.members=[]}add(t){Xg(this.members,t),t.scheduleRender()}remove(t){if(qg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TP(e,t,n){let i="";const r=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:u,rotateY:f,skewX:d,skewY:p}=n;c&&(i=`perspective(${c}px) ${i}`),h&&(i+=`rotate(${h}deg) `),u&&(i+=`rotateX(${u}deg) `),f&&(i+=`rotateY(${f}deg) `),d&&(i+=`skewX(${d}deg) `),p&&(i+=`skewY(${p}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const nd=["","X","Y","Z"],EP=1e3;let CP=0;function id(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function Hb(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ab(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(r||s))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&Hb(i)}function Wb({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=t==null?void 0:t()){this.id=CP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(LP),this.nodes.forEach(NP),this.nodes.forEach(OP),this.nodes.forEach(RP)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new pP)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new $g),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=sb(o)&&!g4(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let h,u=0;const f=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{u=window.innerWidth}),e(o,()=>{const d=window.innerWidth;d!==u&&(u=d,this.root.updateBlockedByResize=!0,h&&h(),h=mP(f,250),Ou.hasAnimatedSinceResize&&(Ou.hasAnimatedSinceResize=!1,this.nodes.forEach(u1)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:u,hasRelativeLayoutChanged:f,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||UP,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=c.getProps(),g=!this.targetLayout||!Gb(this.targetLayout,d),m=!u&&f;if(this.options.layoutRoot||this.resumeFrom||m||u&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...l0(p,"layout"),onPlay:y,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(h,m)}else u||u1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kP),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Hb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const u=this.path[h];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(l1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(c1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(DP),this.nodes.forEach(AP),this.nodes.forEach(PP)):this.nodes.forEach(c1),this.clearAllSnapshots();const a=yn.now();Ut.delta=Zi(0,1e3/60,a-Ut.timestamp),Ut.timestamp=a,Ut.isProcessing=!0,jh.update.process(Ut),jh.preRender.process(Ut),jh.render.process(Ut),Ut.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,u0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IP),this.sharedNodes.forEach(FP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!an(this.snapshot.measuredBox.x)&&!an(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=At(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Vb(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||as(this.latestValues)||h)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),VP(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return At();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(GP))){const{scroll:h}=this.root;h&&(Mo(a.x,h.offset.x),Mo(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=At();if(ei(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:u,options:f}=h;h!==this.root&&u&&f.layoutScroll&&(u.wasRoot&&ei(a,o),Mo(a.x,u.offset.x),Mo(a.y,u.offset.y))}return a}applyTransform(o,a=!1){const l=At();ei(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&So(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),as(h.latestValues)&&So(l,h.latestValues)}return as(this.latestValues)&&So(l,this.latestValues),l}removeTransform(o){const a=At();ei(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!as(c.latestValues))continue;Hp(c.latestValues)&&c.updateSnapshot();const h=At(),u=c.measurePageBox();ei(h,u),n1(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return as(this.latestValues)&&n1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ut.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var d;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:u}=this.options;if(!this.layout||!(h||u))return;this.resolvedRelativeTargetAt=Ut.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=At(),this.targetWithTransforms=At()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Y5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ei(this.target,this.layout.layoutBox),bb(this.target,this.targetDelta)):ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Hp(this.parent.latestValues)||_b(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),wf(this.relativeTargetOrigin,a,l),ei(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var p;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ut.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;ei(this.layoutCorrected,this.layout.layoutBox);const u=this.treeScale.x,f=this.treeScale.y;o5(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=At());const{target:d}=o;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qv(this.prevProjectionDelta.x,this.projectionDelta.x),Qv(this.prevProjectionDelta.y,this.projectionDelta.y)),nl(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==u||this.treeScale.y!==f||!a1(this.projectionDelta.x,this.prevProjectionDelta.x)||!a1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=To(),this.projectionDelta=To(),this.projectionDeltaWithTransform=To()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},u=To();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=At(),d=l?l.source:void 0,p=this.layout?this.layout.source:void 0,y=d!==p,v=this.getStack(),g=!v||v.members.length<=1,m=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(zP));this.animationProgress=0;let x;this.mixTargetDelta=w=>{const b=w/1e3;f1(u.x,o.x,b),f1(u.y,o.y,b),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BP(this.relativeTarget,this.relativeTargetOrigin,f,b),x&&MP(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=At()),ei(x,this.relativeTarget)),y&&(this.animationValues=h,yP(h,c,this.latestValues,b,m,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Ou.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yo(0)),this.currentAnimation=hP(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&jb(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||At();const u=an(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+u;const f=an(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}ei(a,l),So(a,h),nl(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new SP),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&id("z",o,c,this.animationValues);for(let h=0;h<nd.length;h++)id(`rotate${nd[h]}`,o,c,this.animationValues),id(`skew${nd[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Nu(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Nu(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!as(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let u=TP(this.projectionDeltaWithTransform,this.treeScale,h);l&&(u=l(h,u)),o.transform=u;const{x:f,y:d}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${d.origin*100}% 0`,c.animationValues?o.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const p in Ol){if(h[p]===void 0)continue;const{correct:y,applyTo:v,isCSSVariable:g}=Ol[p],m=u==="none"?h[p]:y(h[p],c);if(v){const x=v.length;for(let w=0;w<x;w++)o[v[w]]=m}else g?this.options.visualElement.renderState.vars[p]=m:o[p]=m}this.options.layoutId&&(o.pointerEvents=c===this?Nu(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(l1),this.root.sharedNodes.clear()}}}function AP(e){e.updateLayout()}function PP(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?kn(u=>{const f=o?t.measuredBox[u]:t.layoutBox[u],d=an(f);f.min=i[u].min,f.max=f.min+d}):jb(s,t.layoutBox,i)&&kn(u=>{const f=o?t.measuredBox[u]:t.layoutBox[u],d=an(i[u]);f.max=f.min+d,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+d)});const a=To();nl(a,i,t.layoutBox);const l=To();o?nl(l,e.applyTransform(r,!0),t.measuredBox):nl(l,i,t.layoutBox);const c=!Vb(a);let h=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:f,layout:d}=u;if(f&&d){const p=At();wf(p,t.layoutBox,f.layoutBox);const y=At();wf(y,i,d.layoutBox),Gb(p,y)||(h=!0),u.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=p,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function LP(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function RP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function IP(e){e.clearSnapshot()}function l1(e){e.clearMeasurements()}function c1(e){e.isLayoutDirty=!1}function DP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function u1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function NP(e){e.resolveTargetDelta()}function OP(e){e.calcProjection()}function kP(e){e.resetSkewAndRotation()}function FP(e){e.removeLeadSnapshot()}function f1(e,t,n){e.translate=pt(t.translate,0,n),e.scale=pt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function h1(e,t,n,i){e.min=pt(t.min,n.min,i),e.max=pt(t.max,n.max,i)}function BP(e,t,n,i){h1(e.x,t.x,n.x,i),h1(e.y,t.y,n.y,i)}function zP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const UP={duration:.45,ease:[.4,0,.1,1]},d1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),p1=d1("applewebkit/")&&!d1("chrome/")?Math.round:Hn;function m1(e){e.min=p1(e.min),e.max=p1(e.max)}function VP(e){m1(e.x),m1(e.y)}function jb(e,t,n){return e==="position"||e==="preserve-aspect"&&!q5(o1(t),o1(n),.2)}function GP(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const HP=Wb({attachResizeListener:(e,t)=>kl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rd={current:void 0},Xb=Wb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rd.current){const e=new HP({});e.mount(window),e.setOptions({layoutScroll:!0}),rd.current=e}return rd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),WP={pan:{Feature:lP},drag:{Feature:aP,ProjectionNode:Xb,MeasureLayout:Bb}};function g1(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&ht.postRender(()=>s(t,fc(t)))}class jP extends Xr{mount(){const{current:t}=this.node;t&&(this.unmount=f4(t,(n,i)=>(g1(this.node,i,"Start"),r=>g1(this.node,r,"End"))))}unmount(){}}class XP extends Xr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lc(kl(this.node.current,"focus",()=>this.onFocus()),kl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function y1(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&ht.postRender(()=>s(t,fc(t)))}class qP extends Xr{mount(){const{current:t}=this.node;t&&(this.unmount=m4(t,(n,i)=>(y1(this.node,i,"Start"),(r,{success:s})=>y1(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zp=new WeakMap,sd=new WeakMap,YP=e=>{const t=Zp.get(e.target);t&&t(e)},$P=e=>{e.forEach(YP)};function ZP({root:e,...t}){const n=e||document;sd.has(n)||sd.set(n,{});const i=sd.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver($P,{root:e,...t})),i[r]}function JP(e,t,n){const i=ZP(t);return Zp.set(e,n),i.observe(e),()=>{Zp.delete(e),i.unobserve(e)}}const KP={some:0,all:1};class QP extends Xr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:KP[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:u}=this.node.getProps(),f=c?h:u;f&&f(l)};return JP(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(eL(t,n))&&this.startObserver()}unmount(){}}function eL({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const tL={inView:{Feature:QP},tap:{Feature:qP},focus:{Feature:XP},hover:{Feature:jP}},nL={layout:{ProjectionNode:Xb,MeasureLayout:Bb}},iL={...V5,...tL,...WP,...nL},b0=i5(iL,g5);var he={},Jp={exports:{}};(function(e,t){(function(n,i){var r="1.0.41",s="",o="?",a="function",l="undefined",c="object",h="string",u="major",f="model",d="name",p="type",y="vendor",v="version",g="architecture",m="console",x="mobile",w="tablet",b="smarttv",_="wearable",M="embedded",E=500,P="Amazon",I="Apple",N="ASUS",R="BlackBerry",F="Browser",L="Chrome",O="Edge",B="Firefox",V="Google",k="Honor",U="Huawei",H="Lenovo",X="LG",ie="Microsoft",de="Motorola",Se="Nvidia",j="OnePlus",We="Opera",pe="OPPO",De="Samsung",Ce="Sharp",ke="Sony",Pe="Xiaomi",J="Zebra",te="Facebook",ne="Chromium OS",me="Mac OS",oe=" Browser",T=function(ye,Le){var Ae={};for(var $e in ye)Le[$e]&&Le[$e].length%2===0?Ae[$e]=Le[$e].concat(ye[$e]):Ae[$e]=ye[$e];return Ae},A=function(ye){for(var Le={},Ae=0;Ae<ye.length;Ae++)Le[ye[Ae].toUpperCase()]=ye[Ae];return Le},K=function(ye,Le){return typeof ye===h?$(Le).indexOf($(ye))!==-1:!1},$=function(ye){return ye.toLowerCase()},D=function(ye){return typeof ye===h?ye.replace(/[^\d\.]/g,s).split(".")[0]:i},Q=function(ye,Le){if(typeof ye===h)return ye=ye.replace(/^\s\s*/,s),typeof Le===l?ye:ye.substring(0,E)},re=function(ye,Le){for(var Ae=0,$e,Rt,It,ze,Te,vt;Ae<Le.length&&!Te;){var Jn=Le[Ae],Kn=Le[Ae+1];for($e=Rt=0;$e<Jn.length&&!Te&&Jn[$e];)if(Te=Jn[$e++].exec(ye),Te)for(It=0;It<Kn.length;It++)vt=Te[++Rt],ze=Kn[It],typeof ze===c&&ze.length>0?ze.length===2?typeof ze[1]==a?this[ze[0]]=ze[1].call(this,vt):this[ze[0]]=ze[1]:ze.length===3?typeof ze[1]===a&&!(ze[1].exec&&ze[1].test)?this[ze[0]]=vt?ze[1].call(this,vt,ze[2]):i:this[ze[0]]=vt?vt.replace(ze[1],ze[2]):i:ze.length===4&&(this[ze[0]]=vt?ze[3].call(this,vt.replace(ze[1],ze[2])):i):this[ze]=vt||i;Ae+=2}},ue=function(ye,Le){for(var Ae in Le)if(typeof Le[Ae]===c&&Le[Ae].length>0){for(var $e=0;$e<Le[Ae].length;$e++)if(K(Le[Ae][$e],ye))return Ae===o?i:Ae}else if(K(Le[Ae],ye))return Ae===o?i:Ae;return Le.hasOwnProperty("*")?Le["*"]:ye},se={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ge={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},xe={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,v],[/opios[\/ ]+([\w\.]+)/i],[v,[d,We+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[d,We+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[d,We]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[d,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[v,[d,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[d,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[d,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[d,"UC"+F]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[d,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[d,"Smart Lenovo "+F]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+F],v],[/\bfocus\/([\w\.]+)/i],[v,[d,B+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[d,We+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[d,We+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[d,"MIUI"+oe]],[/fxios\/([\w\.-]+)/i],[v,[d,B]],[/\bqihoobrowser\/?([\w\.]*)/i],[v,[d,"360"]],[/\b(qq)\/([\w\.]+)/i],[[d,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1"+oe],v],[/samsungbrowser\/([\w\.]+)/i],[v,[d,De+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[v,[d,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[d,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[d,v],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[d],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[v,d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,te],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[d,L+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,L+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[d,"Android "+F]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[v,ue,se]],[/(webkit|khtml)\/([\w\.]+)/i],[d,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],v],[/(wolvic|librewolf)\/([\w\.]+)/i],[d,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[d,B+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[d,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[d,[v,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[g,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[g,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[g,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[g,/ower/,s,$]],[/ sun4\w[;\)]/i],[[g,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[g,$]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[y,De],[p,w]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[y,De],[p,x]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[y,I],[p,x]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[y,I],[p,w]],[/(macintosh);/i],[f,[y,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[y,Ce],[p,x]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[f,[y,k],[p,w]],[/honor([-\w ]+)[;\)]/i],[f,[y,k],[p,x]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[f,[y,U],[p,w]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[y,U],[p,x]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[f,/_/g," "],[y,Pe],[p,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[f,/_/g," "],[y,Pe],[p,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[y,pe],[p,x]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[f,[y,ue,{OnePlus:["304","403","203"],"*":pe}],[p,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[y,"Vivo"],[p,x]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[y,"Realme"],[p,x]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[y,de],[p,x]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[y,de],[p,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[y,X],[p,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[y,X],[p,x]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[f,[y,H],[p,w]],[/(nokia) (t[12][01])/i],[y,f,[p,w]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[f,/_/g," "],[p,x],[y,"Nokia"]],[/(pixel (c|tablet))\b/i],[f,[y,V],[p,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[y,V],[p,x]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[y,ke],[p,x]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[y,ke],[p,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[y,j],[p,x]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[y,P],[p,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[y,P],[p,x]],[/(playbook);[-\w\),; ]+(rim)/i],[f,y,[p,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[y,R],[p,x]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[y,N],[p,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[y,N],[p,x]],[/(nexus 9)/i],[f,[y,"HTC"],[p,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[f,/_/g," "],[p,x]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[y,"TCL"],[p,w]],[/(itel) ((\w+))/i],[[y,$],f,[p,ue,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[y,"Acer"],[p,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[y,"Meizu"],[p,x]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[y,"Ulefone"],[p,x]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[y,"Energizer"],[p,x]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[y,"Cat"],[p,x]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[y,"Smartfren"],[p,x]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[y,"Nothing"],[p,x]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[f,[y,"Archos"],[p,w]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[f,[y,"Archos"],[p,x]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[y,f,[p,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[y,f,[p,x]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,f,[p,w]],[/(surface duo)/i],[f,[y,ie],[p,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[y,"Fairphone"],[p,x]],[/(u304aa)/i],[f,[y,"AT&T"],[p,x]],[/\bsie-(\w*)/i],[f,[y,"Siemens"],[p,x]],[/\b(rct\w+) b/i],[f,[y,"RCA"],[p,w]],[/\b(venue[\d ]{2,7}) b/i],[f,[y,"Dell"],[p,w]],[/\b(q(?:mv|ta)\w+) b/i],[f,[y,"Verizon"],[p,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[y,"Barnes & Noble"],[p,w]],[/\b(tm\d{3}\w+) b/i],[f,[y,"NuVision"],[p,w]],[/\b(k88) b/i],[f,[y,"ZTE"],[p,w]],[/\b(nx\d{3}j) b/i],[f,[y,"ZTE"],[p,x]],[/\b(gen\d{3}) b.+49h/i],[f,[y,"Swiss"],[p,x]],[/\b(zur\d{3}) b/i],[f,[y,"Swiss"],[p,w]],[/\b((zeki)?tb.*\b) b/i],[f,[y,"Zeki"],[p,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],f,[p,w]],[/\b(ns-?\w{0,9}) b/i],[f,[y,"Insignia"],[p,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[y,"NextBook"],[p,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],f,[p,x]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],f,[p,x]],[/\b(ph-1) /i],[f,[y,"Essential"],[p,x]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[y,"Envizen"],[p,w]],[/\b(trio[-\w\. ]+) b/i],[f,[y,"MachSpeed"],[p,w]],[/\btu_(1491) b/i],[f,[y,"Rotor"],[p,w]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[f,[y,Se],[p,w]],[/(sprint) (\w+)/i],[y,f,[p,x]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[y,ie],[p,x]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[y,J],[p,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[y,J],[p,x]],[/smart-tv.+(samsung)/i],[y,[p,b]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[y,De],[p,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,X],[p,b]],[/(apple) ?tv/i],[y,[f,I+" TV"],[p,b]],[/crkey/i],[[f,L+"cast"],[y,V],[p,b]],[/droid.+aft(\w+)( bui|\))/i],[f,[y,P],[p,b]],[/(shield \w+ tv)/i],[f,[y,Se],[p,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[y,Ce],[p,b]],[/(bravia[\w ]+)( bui|\))/i],[f,[y,ke],[p,b]],[/(mi(tv|box)-?\w+) bui/i],[f,[y,Pe],[p,b]],[/Hbbtv.*(technisat) (.*);/i],[y,f,[p,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,Q],[f,Q],[p,b]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[f,[p,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,f,[p,m]],[/droid.+; (shield)( bui|\))/i],[f,[y,Se],[p,m]],[/(playstation \w+)/i],[f,[y,ke],[p,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[y,ie],[p,m]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[f,[y,De],[p,_]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[y,f,[p,_]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[f,[y,pe],[p,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[y,I],[p,_]],[/(opwwe\d{3})/i],[f,[y,j],[p,_]],[/(moto 360)/i],[f,[y,de],[p,_]],[/(smartwatch 3)/i],[f,[y,ke],[p,_]],[/(g watch r)/i],[f,[y,X],[p,_]],[/droid.+; (wt63?0{2,3})\)/i],[f,[y,J],[p,_]],[/droid.+; (glass) \d/i],[f,[y,V],[p,_]],[/(pico) (4|neo3(?: link|pro)?)/i],[y,f,[p,_]],[/; (quest( \d| pro)?)/i],[f,[y,te],[p,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[p,M]],[/(aeobc)\b/i],[f,[y,P],[p,M]],[/(homepod).+mac os/i],[f,[y,I],[p,M]],[/windows iot/i],[[p,M]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[p,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[p,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,x]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[f,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[d,O+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[d,v],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,v],[/ladybird\//i],[[d,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,v],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[d,[v,ue,ge]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,ue,ge],[d,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,me],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,d],[/(ubuntu) ([\w\.]+) like android/i],[[d,/(.+)/,"$1 Touch"],v],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[d,v],[/\(bb(10);/i],[v,[d,R]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[v,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[d,B+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[d,L+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,ne],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,v],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,v]]},_e=function(ye,Le){if(typeof ye===c&&(Le=ye,ye=i),!(this instanceof _e))return new _e(ye,Le).getResult();var Ae=typeof n!==l&&n.navigator?n.navigator:i,$e=ye||(Ae&&Ae.userAgent?Ae.userAgent:s),Rt=Ae&&Ae.userAgentData?Ae.userAgentData:i,It=Le?T(xe,Le):xe,ze=Ae&&Ae.userAgent==$e;return this.getBrowser=function(){var Te={};return Te[d]=i,Te[v]=i,re.call(Te,$e,It.browser),Te[u]=D(Te[v]),ze&&Ae&&Ae.brave&&typeof Ae.brave.isBrave==a&&(Te[d]="Brave"),Te},this.getCPU=function(){var Te={};return Te[g]=i,re.call(Te,$e,It.cpu),Te},this.getDevice=function(){var Te={};return Te[y]=i,Te[f]=i,Te[p]=i,re.call(Te,$e,It.device),ze&&!Te[p]&&Rt&&Rt.mobile&&(Te[p]=x),ze&&Te[f]=="Macintosh"&&Ae&&typeof Ae.standalone!==l&&Ae.maxTouchPoints&&Ae.maxTouchPoints>2&&(Te[f]="iPad",Te[p]=w),Te},this.getEngine=function(){var Te={};return Te[d]=i,Te[v]=i,re.call(Te,$e,It.engine),Te},this.getOS=function(){var Te={};return Te[d]=i,Te[v]=i,re.call(Te,$e,It.os),ze&&!Te[d]&&Rt&&Rt.platform&&Rt.platform!="Unknown"&&(Te[d]=Rt.platform.replace(/chrome os/i,ne).replace(/macos/i,me)),Te},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return $e},this.setUA=function(Te){return $e=typeof Te===h&&Te.length>E?Q(Te,E):Te,this},this.setUA($e),this};_e.VERSION=r,_e.BROWSER=A([d,v,u]),_e.CPU=A([g]),_e.DEVICE=A([f,y,p,m,x,b,w,_,M]),_e.ENGINE=_e.OS=A([d,v]),e.exports&&(t=e.exports=_e),t.UAParser=_e;var ce=typeof n!==l&&(n.jQuery||n.Zepto);if(ce&&!ce.ua){var be=new _e;ce.ua=be.getResult(),ce.ua.get=function(){return be.getUA()},ce.ua.set=function(ye){be.setUA(ye);var Le=be.getResult();for(var Ae in Le)ce.ua[Ae]=Le[Ae]}}})(typeof window=="object"?window:XS)})(Jp,Jp.exports);var rL=Jp.exports;Object.defineProperty(he,"__esModule",{value:!0});function sL(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Kt=z,ot=sL(Kt),qb=rL,qr=new qb,tn=qr.getBrowser(),oL=qr.getCPU(),On=qr.getDevice(),M0=qr.getEngine(),Yr=qr.getOS(),hc=qr.getUA(),Yb=function(t){return qr.setUA(t)},dc=function(t){if(!t){console.error("No userAgent string was provided");return}var n=new qb(t);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(r){return n.setUA(r)}}},$b=Object.freeze({ClientUAInstance:qr,browser:tn,cpu:oL,device:On,engine:M0,os:Yr,ua:hc,setUa:Yb,parseUserAgent:dc});function v1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function aL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v1(Object(n),!0).forEach(function(i){fL(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function il(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?il=function(t){return typeof t}:il=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function lL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cL(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function uL(e,t,n){return t&&cL(e.prototype,t),e}function fL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kp(){return Kp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Kp.apply(this,arguments)}function hL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&em(e,t)}function Qp(e){return Qp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Qp(e)}function em(e,t){return em=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},em(e,t)}function dL(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Zn(e,t){if(e==null)return{};var n=dL(e,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function ku(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pL(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ku(e)}function mL(e,t){return gL(e)||yL(e,t)||vL(e,t)||xL()}function gL(e){if(Array.isArray(e))return e}function yL(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,o,a;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(i.push(o.value),!(t&&i.length===t));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw a}}return i}}function vL(e,t){if(e){if(typeof e=="string")return x1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x1(e,t)}}function x1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function xL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Yt={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},bn={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},da={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},wL={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},_L=function(t){switch(t){case Yt.Mobile:return{isMobile:!0};case Yt.Tablet:return{isTablet:!0};case Yt.SmartTv:return{isSmartTV:!0};case Yt.Console:return{isConsole:!0};case Yt.Wearable:return{isWearable:!0};case Yt.Browser:return{isBrowser:!0};case Yt.Embedded:return{isEmbedded:!0};default:return wL}},bL=function(t){return Yb(t)},Ne=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return t||n},S0=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},T0=function(t){var n=S0();return n&&n.platform&&(n.platform.indexOf(t)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},ML=function(t,n,i,r,s){return{isBrowser:t,browserMajorVersion:Ne(n.major),browserFullVersion:Ne(n.version),browserName:Ne(n.name),engineName:Ne(i.name),engineVersion:Ne(i.version),osName:Ne(r.name),osVersion:Ne(r.version),userAgent:Ne(s)}},w1=function(t,n,i,r){return aL({},t,{vendor:Ne(n.vendor),model:Ne(n.model),os:Ne(i.name),osVersion:Ne(i.version),ua:Ne(r)})},SL=function(t,n,i,r){return{isSmartTV:t,engineName:Ne(n.name),engineVersion:Ne(n.version),osName:Ne(i.name),osVersion:Ne(i.version),userAgent:Ne(r)}},TL=function(t,n,i,r){return{isConsole:t,engineName:Ne(n.name),engineVersion:Ne(n.version),osName:Ne(i.name),osVersion:Ne(i.version),userAgent:Ne(r)}},EL=function(t,n,i,r){return{isWearable:t,engineName:Ne(n.name),engineVersion:Ne(n.version),osName:Ne(i.name),osVersion:Ne(i.version),userAgent:Ne(r)}},CL=function(t,n,i,r,s){return{isEmbedded:t,vendor:Ne(n.vendor),model:Ne(n.model),engineName:Ne(i.name),engineVersion:Ne(i.version),osName:Ne(r.name),osVersion:Ne(r.version),userAgent:Ne(s)}};function AL(e){var t=e?dc(e):$b,n=t.device,i=t.browser,r=t.engine,s=t.os,o=t.ua,a=_L(n.type),l=a.isBrowser,c=a.isMobile,h=a.isTablet,u=a.isSmartTV,f=a.isConsole,d=a.isWearable,p=a.isEmbedded;if(l)return ML(l,i,r,s,o);if(u)return SL(u,r,s,o);if(f)return TL(f,r,s,o);if(c||h)return w1(a,n,s,o);if(d)return EL(d,r,s,o);if(p)return CL(p,n,r,s,o)}var Zb=function(t){var n=t.type;return n===Yt.Mobile},Jb=function(t){var n=t.type;return n===Yt.Tablet},Kb=function(t){var n=t.type;return n===Yt.Mobile||n===Yt.Tablet},Qb=function(t){var n=t.type;return n===Yt.SmartTv},_f=function(t){var n=t.type;return n===Yt.Browser},eM=function(t){var n=t.type;return n===Yt.Wearable},tM=function(t){var n=t.type;return n===Yt.Console},nM=function(t){var n=t.type;return n===Yt.Embedded},iM=function(t){var n=t.vendor;return Ne(n)},rM=function(t){var n=t.model;return Ne(n)},sM=function(t){var n=t.type;return Ne(n,"browser")},oM=function(t){var n=t.name;return n===da.Android},aM=function(t){var n=t.name;return n===da.Windows},lM=function(t){var n=t.name;return n===da.MAC_OS},cM=function(t){var n=t.name;return n===da.WindowsPhone},uM=function(t){var n=t.name;return n===da.IOS},fM=function(t){var n=t.version;return Ne(n)},hM=function(t){var n=t.name;return Ne(n)},dM=function(t){var n=t.name;return n===bn.Chrome},pM=function(t){var n=t.name;return n===bn.Firefox},mM=function(t){var n=t.name;return n===bn.Chromium},bf=function(t){var n=t.name;return n===bn.Edge},gM=function(t){var n=t.name;return n===bn.Yandex},yM=function(t){var n=t.name;return n===bn.Safari||n===bn.MobileSafari},vM=function(t){var n=t.name;return n===bn.MobileSafari},xM=function(t){var n=t.name;return n===bn.Opera},wM=function(t){var n=t.name;return n===bn.InternetExplorer||n===bn.Ie},_M=function(t){var n=t.name;return n===bn.MIUI},bM=function(t){var n=t.name;return n===bn.SamsungBrowser},MM=function(t){var n=t.version;return Ne(n)},SM=function(t){var n=t.major;return Ne(n)},TM=function(t){var n=t.name;return Ne(n)},EM=function(t){var n=t.name;return Ne(n)},CM=function(t){var n=t.version;return Ne(n)},AM=function(){var t=S0(),n=t&&t.userAgent&&t.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},zo=function(t){return typeof t=="string"&&t.indexOf("Edg/")!==-1},PM=function(){var t=S0();return t&&(/iPad|iPhone|iPod/.test(t.platform)||t.platform==="MacIntel"&&t.maxTouchPoints>1)&&!window.MSStream},Mi=function(){return T0("iPad")},LM=function(){return T0("iPhone")},RM=function(){return T0("iPod")},IM=function(t){return Ne(t)};function DM(e){var t=e||$b,n=t.device,i=t.browser,r=t.os,s=t.engine,o=t.ua;return{isSmartTV:Qb(n),isConsole:tM(n),isWearable:eM(n),isEmbedded:nM(n),isMobileSafari:vM(i)||Mi(),isChromium:mM(i),isMobile:Kb(n)||Mi(),isMobileOnly:Zb(n),isTablet:Jb(n)||Mi(),isBrowser:_f(n),isDesktop:_f(n),isAndroid:oM(r),isWinPhone:cM(r),isIOS:uM(r)||Mi(),isChrome:dM(i),isFirefox:pM(i),isSafari:yM(i),isOpera:xM(i),isIE:wM(i),osVersion:fM(r),osName:hM(r),fullBrowserVersion:MM(i),browserVersion:SM(i),browserName:TM(i),mobileVendor:iM(n),mobileModel:rM(n),engineName:EM(s),engineVersion:CM(s),getUA:IM(o),isEdge:bf(i)||zo(o),isYandex:gM(i),deviceType:sM(n),isIOS13:PM(),isIPad13:Mi(),isIPhone13:LM(),isIPod13:RM(),isElectron:AM(),isEdgeChromium:zo(o),isLegacyEdge:bf(i)&&!zo(o),isWindows:aM(r),isMacOs:lM(r),isMIUI:_M(i),isSamsungBrowser:bM(i)}}var NM=Qb(On),OM=tM(On),kM=eM(On),PL=nM(On),LL=vM(tn)||Mi(),RL=mM(tn),rh=Kb(On)||Mi(),FM=Zb(On),BM=Jb(On)||Mi(),zM=_f(On),IL=_f(On),UM=oM(Yr),VM=cM(Yr),GM=uM(Yr)||Mi(),DL=dM(tn),NL=pM(tn),OL=yM(tn),kL=xM(tn),HM=wM(tn),FL=fM(Yr),BL=hM(Yr),zL=MM(tn),UL=SM(tn),VL=TM(tn),GL=iM(On),HL=rM(On),WL=EM(M0),jL=CM(M0),XL=IM(hc),qL=bf(tn)||zo(hc),YL=gM(tn),$L=sM(On),ZL=PM(),JL=Mi(),KL=LM(),QL=RM(),eR=AM(),tR=zo(hc),nR=bf(tn)&&!zo(hc),iR=aM(Yr),rR=lM(Yr),sR=_M(tn),oR=bM(tn),aR=function(t){if(!t||typeof t!="string"){console.error("No valid user agent string was provided");return}var n=dc(t),i=n.device,r=n.browser,s=n.os,o=n.engine,a=n.ua;return DM({device:i,browser:r,os:s,engine:o,ua:a})},lR=function(t){var n=t.renderWithFragment,i=t.children,r=Zn(t,["renderWithFragment","children"]);return UM?n?ot.createElement(Kt.Fragment,null,i):ot.createElement("div",r,i):null},cR=function(t){var n=t.renderWithFragment,i=t.children,r=Zn(t,["renderWithFragment","children"]);return zM?n?ot.createElement(Kt.Fragment,null,i):ot.createElement("div",r,i):null},uR=function(t){var n=t.renderWithFragment,i=t.children,r=Zn(t,["renderWithFragment","children"]);return HM?n?ot.createElement(Kt.Fragment,null,i):ot.createElement("div",r,i):null},fR=function(t){var n=t.renderWithFragment,i=t.children,r=Zn(t,["renderWithFragment","children"]);return GM?n?ot.createElement(Kt.Fragment,null,i):ot.createElement("div",r,i):null},hR=function(t){var n=t.renderWithFragment,i=t.children,r=Zn(t,["renderWithFragment","children"]);return rh?n?ot.createElement(Kt.Fragment,null,i):ot.createElement("div",r,i):null},dR=function(t){var n=t.renderWithFragment,i=t.children,r=Zn(t,["renderWithFragment","children"]);return BM?n?ot.createElement(Kt.Fragment,null,i):ot.createElement("div",r,i):null},pR=function(t){var n=t.renderWithFragment,i=t.children,r=Zn(t,["renderWithFragment","children"]);return VM?n?ot.createElement(Kt.Fragment,null,i):ot.createElement("div",r,i):null},mR=function(t){var n=t.renderWithFragment,i=t.children;t.viewClassName,t.style;var r=Zn(t,["renderWithFragment","children","viewClassName","style"]);return FM?n?ot.createElement(Kt.Fragment,null,i):ot.createElement("div",r,i):null},gR=function(t){var n=t.renderWithFragment,i=t.children,r=Zn(t,["renderWithFragment","children"]);return NM?n?ot.createElement(Kt.Fragment,null,i):ot.createElement("div",r,i):null},yR=function(t){var n=t.renderWithFragment,i=t.children,r=Zn(t,["renderWithFragment","children"]);return OM?n?ot.createElement(Kt.Fragment,null,i):ot.createElement("div",r,i):null},vR=function(t){var n=t.renderWithFragment,i=t.children,r=Zn(t,["renderWithFragment","children"]);return kM?n?ot.createElement(Kt.Fragment,null,i):ot.createElement("div",r,i):null},xR=function(t){var n=t.renderWithFragment,i=t.children;t.viewClassName,t.style;var r=t.condition,s=Zn(t,["renderWithFragment","children","viewClassName","style","condition"]);return r?n?ot.createElement(Kt.Fragment,null,i):ot.createElement("div",s,i):null};function wR(e){return function(t){hL(n,t);function n(i){var r;return lL(this,n),r=pL(this,Qp(n).call(this,i)),r.isEventListenerAdded=!1,r.handleOrientationChange=r.handleOrientationChange.bind(ku(r)),r.onOrientationChange=r.onOrientationChange.bind(ku(r)),r.onPageLoad=r.onPageLoad.bind(ku(r)),r.state={isLandscape:!1,isPortrait:!1},r}return uL(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var r=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:r===0,isLandscape:r===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":il(window))!==void 0&&rh&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return ot.createElement(e,Kp({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(ot.Component)}function _R(){var e=Kt.useState(function(){var s=window.innerWidth>window.innerHeight?90:0;return{isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"}}),t=mL(e,2),n=t[0],i=t[1],r=Kt.useCallback(function(){var s=window.innerWidth>window.innerHeight?90:0,o={isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"};n.orientation!==o.orientation&&i(o)},[n.orientation]);return Kt.useEffect(function(){return(typeof window>"u"?"undefined":il(window))!==void 0&&rh&&(r(),window.addEventListener("load",r,!1),window.addEventListener("resize",r,!1)),function(){window.removeEventListener("resize",r,!1),window.removeEventListener("load",r,!1)}},[r]),n}function WM(e){var t=e||window.navigator.userAgent;return dc(t)}function bR(e){var t=e||window.navigator.userAgent,n=WM(t),i=DM(n);return[i,n]}he.AndroidView=lR;he.BrowserTypes=bn;he.BrowserView=cR;he.ConsoleView=yR;he.CustomView=xR;he.IEView=uR;he.IOSView=fR;he.MobileOnlyView=mR;he.MobileView=hR;he.OsTypes=da;he.SmartTVView=gR;he.TabletView=dR;he.WearableView=vR;he.WinPhoneView=pR;he.browserName=VL;he.browserVersion=UL;he.deviceDetect=AL;he.deviceType=$L;he.engineName=WL;he.engineVersion=jL;he.fullBrowserVersion=zL;he.getSelectorsByUserAgent=aR;he.getUA=XL;he.isAndroid=UM;he.isBrowser=zM;he.isChrome=DL;he.isChromium=RL;he.isConsole=OM;he.isDesktop=IL;he.isEdge=qL;he.isEdgeChromium=tR;he.isElectron=eR;he.isEmbedded=PL;he.isFirefox=NL;he.isIE=HM;he.isIOS=GM;he.isIOS13=ZL;he.isIPad13=JL;he.isIPhone13=KL;he.isIPod13=QL;he.isLegacyEdge=nR;he.isMIUI=sR;he.isMacOs=rR;he.isMobile=rh;he.isMobileOnly=FM;he.isMobileSafari=LL;he.isOpera=kL;he.isSafari=OL;he.isSamsungBrowser=oR;he.isSmartTV=NM;he.isTablet=BM;he.isWearable=kM;he.isWinPhone=VM;he.isWindows=iR;he.isYandex=YL;he.mobileModel=HL;he.mobileVendor=GL;he.osName=BL;he.osVersion=FL;he.parseUserAgent=dc;he.setUserAgent=bL;he.useDeviceData=WM;he.useDeviceSelectors=bR;he.useMobileOrientation=_R;he.withOrientationChange=wR;function MR(){return q.jsx("div",{className:"relative bg-gray-700 h-[5.43vh] text-center p-[1.5em] z-20",children:q.jsx("div",{className:"flex flex-col justify-center items-center h-full text-center text-shadow text-white",children:q.jsx("div",{children:q.jsx("span",{children:"Arash's About Me Website ( under construction )"})})})})}const jM=[{name:"Home",color:"#ef4444",path:"/"},{name:"About Me",color:"#3b82f6",path:"/aboutMe"},{name:"Tech Stack",color:"#10b981",path:"/techStacks"},{name:"Contact",color:"#8b5cf6",path:"/contactMe"}];function SR(e,t,n){return jM.map((i,r)=>q.jsx("div",{ref:s=>t.current[r]=s,className:"absolute top-0 left-0 pointer-events-auto flex pr-3.5",onMouseEnter:()=>n(r),onMouseLeave:()=>n(null),children:q.jsx(bC,{to:i.path,name:"About Me",children:q.jsxs("button",{className:"group relative px-4 py-2 rounded-lg transition-all duration-300 ease-out flex items-center gap-3",style:{transform:e===r?"scale(1.1) translateX(-10px)":"scale(1)",opacity:.5},children:[q.jsx("span",{style:{color:"black",fontWeight:e===r?"bold":"normal"},children:i.name}),q.jsx("div",{className:"absolute inset-0 -z-10 rounded-lg transition-all duration-300 border border-white/10",style:{backgroundColor:e===r?`${i.color}20`:"rgba(0, 0, 0, 0.1)",borderColor:e===r?i.color:"rgba(0,0,0,0.8)",boxShadow:e===r?`6px 2px 5px 0px ${i.color}`:""}})]})})},i.name))}function TR(e,t,n,i,r,s,o){const a=e.getContext("2d",{alpha:!0}),l=()=>{const{width:f,height:d}=n.getBoundingClientRect(),p=window.devicePixelRatio||1;e.width=f*p,e.height=d*p,a.scale(p,p),e.style.width=`${f}px`,e.style.height=`${d}px`};l(),window.addEventListener("resize",l);let c=0;const h=(f,d)=>{const p=e.offsetHeight,y=e.offsetWidth,v=f/p,g=y-50,m=Math.sin(d*.8)*20*v,x=Math.cos(v*Math.PI*5-d*2)*5,w=i.current!==null?Math.sin(d*10)*2:0,b=v;return g+(m+x+w)*b},u=()=>{var b;const f=e.offsetWidth,d=e.offsetHeight,p=f-50,y=d-50;a.clearRect(0,0,f,d),c+=.02,a.fillStyle="#475569",a.beginPath(),a.rect(p-10,0,20,8),a.fill(),a.beginPath(),a.fillStyle="#6366f1",a.arc(p,0,4,0,Math.PI*2),a.fill(),a.lineWidth=2,a.globalAlpha=.15,[-8,8].forEach(_=>{a.beginPath();for(let M=0;M<=y;M+=5){const E=M/d,P=h(M,c+_*.002)+_*E;M===0?a.moveTo(p,0):a.lineTo(P,M)}a.stroke()}),a.globalAlpha=1,a.shadowBlur=15,a.shadowColor="#6366f1",a.strokeStyle="gray",a.lineWidth=3,a.lineCap="round",a.lineJoin="round",a.beginPath(),a.moveTo(p,0);for(let _=0;_<=y;_+=4){const M=h(_,c);a.lineTo(M,_)}a.stroke();const v=h(y,c);if(a.beginPath(),a.fillStyle="#6366f1",a.arc(v,y,3,0,Math.PI*2),a.fill(),(b=o==null?void 0:o.current)!=null&&b.style){const _=h(y-5,c),M=v-_,P=Math.atan2(M,5)*(180/Math.PI);o.current.style.transform=`translate3d(${v}px, ${y}px, 0) translate(-50%, 0) rotate(${P}deg)`}const g=s.length,m=.15*d,w=.85*y-m;s.forEach((_,M)=>{const E=w/(g-1),P=m+E*M,I=h(P,c),N=i.current===M;a.fillStyle=N?"#ffffff":_.color,a.shadowColor=_.color,a.shadowBlur=N?25:10,a.beginPath(),a.arc(I,P,N?6:4,0,Math.PI*2),a.fill(),r.current[M]&&(r.current[M].style.transform=`translate3d(${I}px, ${P}px, 0) translate(-100%, -50%)`)}),t.current=requestAnimationFrame(u)};return u(),()=>{window.removeEventListener("resize",l),t.current&&cancelAnimationFrame(t.current)}}const _1="/assets/man-C73MKe06.webp",ER="/assets/contact_email_icon-CL8PJM3V.webp",CR="/assets/technology_stack-BjLuDqr5.webp",AR="/assets/error-B29_A46B.webp",PR={"/":{imgSrc:_1,imgAlt:"Home",imgWidth:"50px",imgHeight:"50px"},"/aboutMe":{imgSrc:_1,imgAlt:"About Me"},"/contactMe":{imgSrc:ER,imgAlt:"Contact & email"},"/techStacks":{imgSrc:CR,imgAlt:"Tech Stack"}};function LR(e){return PR[e]||{imgSrc:AR,imgAlt:"Error"}}function RR(){const e=ca(),{imgSrc:t,imgAlt:n,imgWidth:i="60px",imgHeight:r="60px"}=LR(e.pathname),s=z.useRef(null),o=z.useRef(null),a=z.useRef([]),l=z.useRef(null),c=z.useRef(null),h=z.useRef(null),[u,f]=z.useState(null);return z.useEffect(()=>{c.current=u},[u]),z.useEffect(()=>{const d=s.current,p=o.current;if(!d||!p)return;const y=TR(d,l,p,c,a,jM,h);return()=>y()},[]),q.jsxs("div",{ref:o,className:"fixed top-0 right-0 h-[25vh] w-48 z-50 pointer-events-none","aria-label":"Side Navigation",children:[q.jsx("canvas",{ref:s,className:"absolute top-0 left-0 w-full h-full block"}),SR(u,a,f),q.jsx("div",{ref:h,className:"absolute top-0 left-0 pointer-events-none origin-top",style:{willChange:"transform"},children:q.jsx("img",{src:t,alt:n,style:{width:i,height:r}})})]})}function IR(){const[e,t]=z.useState(!1),n=()=>{t(!1)};return q.jsxs("div",{className:"flex flex-col min-h-screen",children:[q.jsx(RR,{}),q.jsx("main",{style:{overflow:"hidden"},onClick:n,className:"mainWindow flex-grow",children:q.jsx(uC,{})}),q.jsx(MR,{})]})}function DR(){return q.jsxs("div",{className:"flex flex-col text-center min-h-[90vh] justify-center items-center",children:[q.jsx("h1",{className:"text-5xl font-bold text-blue-300",children:"Page Not Found"}),q.jsx("br",{}),q.jsx("h1",{className:"text-5xl font-bold text-blue-300",children:"404"})]})}const NR=2.5,b1=.5,M1=180,OR="rgba(191, 219, 254, 0.8)",kR="rgba(160,200,220,",FR=15e3,BR=1166,zR=250,UR=.5;class VR{constructor(t,n,i,r,s,o,a,l){this.x=t,this.y=n,this.directionX=i,this.directionY=r,this.radius=s,this.color=o,this.canvasWidth=a,this.canvasHeight=l,this.density=Math.random()*4+1}draw(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,Math.PI*2,!1),t.fillStyle=this.color,t.fill()}update(t){if((this.x+this.radius>this.canvasWidth||this.x-this.radius<0)&&(this.directionX=-this.directionX),(this.y+this.radius>this.canvasHeight||this.y-this.radius<0)&&(this.directionY=-this.directionY),t.x!==void 0&&t.y!==void 0){const n=t.x-this.x,i=t.y-this.y,r=Math.hypot(n,i);if(r<t.radius){const s=n/r,o=i/r,l=(t.radius-r)/t.radius*this.density*UR;this.x+=s*l,this.y+=o*l}}this.x+=this.directionX,this.y+=this.directionY}}function GR(e){const t=e.getContext("2d");let n=[],i,r=e.clientWidth,s=e.clientHeight;const o={x:void 0,y:void 0,radius:zR},a=()=>{n=[];const d=r*s;let p=Math.floor(d/FR);const y=r<768;p=Math.max(y?35:60,Math.min(p,y?100:BR));for(let m=0;m<p;m++){const x=NR,w=Math.random()*(r-x*2)+x,b=Math.random()*(s-x*2)+x,_=(Math.random()-.5)*2*b1,M=(Math.random()-.5)*2*b1;n.push(new VR(w,b,_,M,x,OR,r,s))}},l=()=>{for(let d=0;d<n.length;d++)for(let p=d+1;p<n.length;p++){const y=n[d].x-n[p].x,v=n[d].y-n[p].y,g=Math.hypot(y,v);if(g<M1){const m=1-g/M1;t.strokeStyle=`${kR} ${m.toFixed(2)})`,t.lineWidth=1,t.beginPath(),t.moveTo(n[d].x,n[d].y),t.lineTo(n[p].x,n[p].y),t.stroke()}}},c=()=>{i=requestAnimationFrame(c),t.clearRect(0,0,r,s),n.forEach(d=>{d.update(o),d.draw(t)}),l()},h=()=>{r=window.innerWidth,s=window.innerHeight,e.width=r,e.height=s,a()},u=d=>{const p=e.getBoundingClientRect();o.x=d.clientX-p.left,o.y=d.clientY-p.top},f=()=>{o.x=void 0,o.y=void 0};return e.width=r,e.height=s,a(),c(),window.addEventListener("resize",h),window.addEventListener("mousemove",u),window.addEventListener("mouseout",f),()=>{cancelAnimationFrame(i),window.removeEventListener("resize",h),window.removeEventListener("mousemove",u),window.removeEventListener("mouseout",f),n=[]}}function HR(){return q.jsxs("svg",{width:"100%",height:"auto",viewBox:"0 0 1277 232",xmlns:"http://www.w3.org/2000/svg",children:[q.jsx("defs",{children:q.jsxs("linearGradient",{id:"movingGradientt",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[q.jsxs("stop",{offset:"0%",style:{stopColor:"rgba(30, 30, 30, 0.5)"},children:[" ",q.jsx("animate",{attributeName:"stop-color",values:"rgba(30, 30, 30, 0.5); rgba(10, 10, 10, 0.5); rgba(30, 30, 30, 0.5)",dur:"2s",repeatCount:"indefinite"})]}),q.jsxs("stop",{offset:"100%",style:{stopColor:"rgba(10, 10, 10, 0.5)"},children:[" ",q.jsx("animate",{attributeName:"stop-color",values:"rgba(10, 10, 10, 0.5); rgba(30, 30, 30, 0.5); rgba(10, 10, 10, 0.5)",dur:"2s",repeatCount:"indefinite"})]})]})}),q.jsx("path",{d:"M0 0 C1.35135886 0.00084831 2.70271909 0.00036716 4.05407715 -0.00132751 C7.68773162 -0.00218095 11.32108314 0.01533766 14.95466781 0.03639436 C18.76495396 0.05527124 22.57524864 0.05692021 26.38557434 0.06047058 C33.58534044 0.06975895 40.7849683 0.09432878 47.9846738 0.12451905 C56.18789713 0.15816356 64.39112741 0.17457422 72.59440267 0.18960536 C89.45471151 0.22088162 106.31483016 0.27585301 123.17504883 0.34057617 C123.17504883 17.83057617 123.17504883 35.32057617 123.17504883 53.34057617 C117.40593018 53.35459473 117.40593018 53.35459473 111.52026367 53.36889648 C98.81958754 53.40264811 86.11908267 53.45798576 73.41853905 53.52447891 C65.71741771 53.56426985 58.01639856 53.59666201 50.31518555 53.61157227 C43.60193922 53.62458857 36.88891775 53.65155245 30.17579806 53.69518924 C26.62196814 53.71780486 23.06841556 53.73348682 19.51450729 53.73246002 C15.54484029 53.73157465 11.5757394 53.76183157 7.60620117 53.79467773 C6.4308783 53.78964737 5.25555542 53.784617 4.0446167 53.7794342 C-2.28808895 53.86061822 -5.93166043 54.2437227 -10.82495117 58.34057617 C-11.48495117 58.34057617 -12.14495117 58.34057617 -12.82495117 58.34057617 C-13.13432617 59.12432617 -13.44370117 59.90807617 -13.76245117 60.71557617 C-14.82495117 63.34057617 -14.82495117 63.34057617 -15.82495117 65.34057617 C-16.41601604 71.02389226 -16.09738534 75.4883462 -12.82495117 80.34057617 C-7.92828487 84.97952319 -3.50825169 86.58998573 3.18014526 86.59213257 C4.38539352 86.59751541 5.59064178 86.60289825 6.83241272 86.60844421 C8.80388527 86.60225822 8.80388527 86.60225822 10.81518555 86.59594727 C12.22014061 86.59869891 13.62509412 86.60237986 15.03004456 86.60691833 C18.05292742 86.61502144 21.07573634 86.61720089 24.098629 86.61497116 C28.8919143 86.61212998 33.68505313 86.62652329 38.478302 86.64395142 C52.10798923 86.69089135 65.73766716 86.71489006 79.36743164 86.72143555 C86.89746469 86.72520431 94.42733238 86.74338324 101.95729458 86.77652991 C106.70756443 86.79659115 111.45740323 86.79918912 116.20769763 86.78824973 C119.18579769 86.78561418 122.16365489 86.79978442 125.14169121 86.81833076 C127.14858672 86.82606022 129.15552892 86.81432499 131.16239929 86.801651 C150.48628037 86.97433568 167.4557389 93.59654677 181.17504883 107.34057617 C181.79766602 107.89229492 182.4202832 108.44401367 183.06176758 109.01245117 C195.75107676 120.53263299 201.36692429 137.26880739 202.39770508 153.94213867 C202.91342398 175.60233249 195.56234375 192.54419803 180.80004883 208.15307617 C161.55023826 226.63423111 138.23077887 227.82459767 113.05004883 227.91479492 C110.64827396 227.92954535 108.24649988 227.94442499 105.84472656 227.95942688 C100.84233936 227.98624421 95.84009877 227.99992739 90.83764648 228.00634766 C84.43729757 228.01728074 78.03850077 228.07926117 71.63861084 228.15306377 C66.69198311 228.20144293 61.74573327 228.21387416 56.79888916 228.21640968 C54.43858108 228.22362397 52.07827377 228.24403423 49.71820068 228.27811241 C46.42267844 228.32212367 43.13088532 228.3153848 39.83520508 228.29638672 C38.8698735 228.32043579 37.90454193 228.34448486 36.90995789 228.3692627 C31.44118718 228.27661086 28.66397779 227.41413494 24.71972656 223.51911926 C23.51279039 222.14820277 22.32998282 220.75557951 21.17504883 219.34057617 C20.05234673 218.06771233 18.92768864 216.79656772 17.80004883 215.52807617 C17.23543945 214.87194336 16.67083008 214.21581055 16.08911133 213.53979492 C13.82350314 210.93665735 11.50201331 208.38898893 9.17504883 205.84057617 C5.76604263 202.10348517 2.40809577 198.33216014 -0.90307617 194.50854492 C-2.43493 192.78053908 -3.98599031 191.08113731 -5.55932617 189.39135742 C-6.04602783 188.86727295 -6.53272949 188.34318848 -7.03417969 187.80322266 C-7.99195469 186.77458338 -8.953176 185.74913793 -9.91845703 184.72753906 C-12.94928733 181.46965575 -15.39521149 178.05915111 -17.82495117 174.34057617 C-17.04803641 174.33818782 -16.27112165 174.33579947 -15.47066402 174.33333874 C3.44210734 174.27417702 22.35474834 174.19861939 41.26738071 174.10486126 C50.41343088 174.05991481 59.55944222 174.02049748 68.70556641 173.99414062 C76.67825787 173.97115124 84.65082631 173.93774268 92.62342018 173.89187461 C96.84401802 173.86795507 101.06449411 173.84921799 105.28515816 173.84296227 C109.26033961 173.83690565 113.23520959 173.81688513 117.21027565 173.78630066 C118.66667771 173.77752965 120.12312049 173.77379592 121.57954788 173.77556801 C130.48329196 173.78297893 136.74030289 173.6912731 143.98754883 168.21557617 C146.89577517 164.39333584 147.9882397 161.13534374 148.17504883 156.34057617 C147.47222432 151.4208046 145.9620966 147.63530774 142.17504883 144.34057617 C138.0496781 141.59032902 135.29164627 141.21445434 130.44169617 141.20254517 C128.64840126 141.19436516 128.64840126 141.19436516 126.81887817 141.1860199 C124.84828934 141.18445641 124.84828934 141.18445641 122.83789062 141.18286133 C121.44146057 141.17819221 120.04503204 141.17304848 118.64860535 141.16746521 C115.63825816 141.15618271 112.62792088 141.14774884 109.61755943 141.14134598 C104.84573582 141.13064895 100.07398271 141.11039543 95.30220032 141.08822632 C81.73144801 141.02637268 68.16069853 140.97243447 54.58984375 140.93920898 C47.09683553 140.92078343 39.60394434 140.8917422 32.11102229 140.85120428 C28.15124762 140.83025311 24.19161972 140.81469418 20.23178673 140.812397 C16.49621991 140.81022763 12.76095774 140.79412915 9.02548409 140.76800728 C7.02436121 140.75754444 5.02317849 140.7615315 3.02203369 140.76618958 C-14.44448945 140.6082211 -30.0332346 136.22399007 -43.82495117 125.34057617 C-44.98317383 124.42985352 -44.98317383 124.42985352 -46.16479492 123.50073242 C-60.96803548 111.1267416 -68.89740696 94.01037669 -70.63745117 75.02807617 C-71.60257639 54.90418866 -65.6470293 37.5071237 -52.63745117 22.21557617 C-38.10524587 6.69646389 -20.98917349 -0.18234799 0 0 Z ",fill:"url(#movingGradientt)",transform:"translate(823.824951171875,-0.340576171875)"}),q.jsx("path",{d:"M0 0 C27.06 0 54.12 0 82 0 C82 74.58 82 149.16 82 226 C64.84 226 47.68 226 30 226 C30 204.88 30 183.76 30 162 C4.92 162 -20.16 162 -46 162 C-44.38306857 158.76613714 -43.37050879 157.10390704 -40.98828125 154.609375 C-40.39901855 153.98659668 -39.80975586 153.36381836 -39.20263672 152.72216797 C-38.5788916 152.07135254 -37.95514648 151.42053711 -37.3125 150.75 C-36.02904981 149.39407871 -34.74648604 148.03731778 -33.46484375 146.6796875 C-32.85624512 146.03612305 -32.24764648 145.39255859 -31.62060547 144.72949219 C-29.82686866 142.81523616 -28.08607083 140.86342645 -26.375 138.875 C-23.22641112 135.21648542 -19.96239273 131.67014619 -16.6875 128.125 C-16.15882324 127.55249512 -15.63014648 126.97999023 -15.08544922 126.39013672 C-9.18070943 120.01225461 -9.18070943 120.01225461 -5.65185547 119.77294922 C-4.22359372 119.77344949 -2.79530668 119.78450151 -1.3671875 119.8046875 C-0.36764038 119.80770874 -0.36764038 119.80770874 0.65209961 119.81079102 C3.14313635 119.82126112 5.63407503 119.84918375 8.125 119.875 C13.69375 119.91625 19.2625 119.9575 25 120 C24.67 97.89 24.34 75.78 24 53 C14.55716659 63.48748241 14.55716659 63.48748241 5.3203125 74.15234375 C-0.22567765 80.6752574 -5.86520568 87.06659203 -11.71411133 93.31958008 C-14.7383702 96.57331665 -17.60000498 99.90240919 -20.375 103.375 C-24.60978848 108.65693617 -29.19871525 113.53876878 -33.84716797 118.45263672 C-37.21456839 122.0308973 -40.43367257 125.6556492 -43.5 129.5 C-48.27996646 135.48838495 -53.53219357 140.99684413 -58.78125 146.5703125 C-62.73316017 150.76808922 -66.52345773 155.08290505 -70.25439453 159.47753906 C-71.7304594 161.21559391 -73.20836838 162.95205423 -74.6875 164.6875 C-75.19982178 165.28868652 -75.71214355 165.88987305 -76.23999023 166.50927734 C-80.2823296 171.22502614 -84.47176965 175.78414842 -88.71411133 180.31958008 C-91.7383702 183.57331665 -94.60000498 186.90240919 -97.375 190.375 C-101.60293996 195.64839421 -106.18303692 200.52365016 -110.82519531 205.4284668 C-115.16005437 210.03322103 -119.21234533 214.76505216 -123.1328125 219.73046875 C-123.74898438 220.47941406 -124.36515625 221.22835937 -125 222 C-125.55850647 222.69744324 -126.11701294 223.39488647 -126.69244385 224.11346436 C-129.82519029 226.67463186 -131.77251453 226.4834123 -135.78808594 226.45410156 C-136.79845665 226.45497772 -136.79845665 226.45497772 -137.82923889 226.45587158 C-140.04814807 226.45309232 -142.26570154 226.42201114 -144.484375 226.390625 C-146.02564765 226.38316197 -147.5669298 226.37746933 -149.10821533 226.37347412 C-153.15922373 226.35822246 -157.20965585 226.31894539 -161.26043701 226.2746582 C-165.39620163 226.23369498 -169.53205962 226.2154609 -173.66796875 226.1953125 C-181.7789099 226.15245006 -189.88938321 226.08420515 -198 226 C-197.2392471 221.22859369 -195.74071661 219.20065737 -192.375 215.6875 C-191.45642475 214.71411366 -190.53845838 213.74015237 -189.62109375 212.765625 C-188.32365234 211.39664063 -188.32365234 211.39664063 -187 210 C-185.80357372 208.65371334 -184.61487217 207.30048143 -183.4375 205.9375 C-178.59115542 200.36477122 -173.62136519 194.90285407 -168.671875 189.421875 C-165.25694362 185.63525041 -161.85013474 181.84416383 -158.5 178 C-153.62856797 172.41020011 -148.6410485 166.92465102 -143.671875 161.421875 C-140.25694362 157.63525041 -136.85013474 153.84416383 -133.5 150 C-128.62856797 144.41020011 -123.6410485 138.92465102 -118.671875 133.421875 C-114.68295423 128.99878599 -110.72432093 124.55384995 -106.8125 120.0625 C-103.9673071 116.8248667 -101.07146164 113.6331371 -98.18359375 110.43359375 C-96.29151315 108.32488854 -94.42094242 106.20080199 -92.5625 104.0625 C-88.91062947 99.86835635 -85.15733816 95.76905708 -81.41015625 91.66015625 C-78.82761116 88.80972966 -76.29344897 85.92174108 -73.76953125 83.01953125 C-69.46130252 78.10263444 -65.05313844 73.27360968 -60.671875 68.421875 C-57.25694362 64.63525041 -53.85013474 60.84416383 -50.5 57 C-45.62856797 51.41020011 -40.6410485 45.92465102 -35.671875 40.421875 C-31.68295423 35.99878599 -27.72432093 31.55384995 -23.8125 27.0625 C-21.72788836 24.69035571 -19.61571356 22.34443935 -17.5 20 C-11.56327991 13.41820336 -5.76869664 6.73014608 0 0 Z ",fill:"url(#movingGradientt)",transform:"translate(198,0)"}),q.jsx("path",{d:"M0 0 C27.06 0 54.12 0 82 0 C93.88461538 12.96503497 93.88461538 12.96503497 98.2578125 18.0078125 C100.31500399 20.36020635 102.40596915 22.68034966 104.5 25 C107.17048344 27.95869751 109.82298058 30.92926472 112.4375 33.9375 C115.24822525 37.16559512 118.115799 40.33738443 121 43.5 C124.45328153 47.28662998 127.86099051 51.1047632 131.22265625 54.97265625 C133.29359487 57.33489173 135.39512848 59.66795853 137.5 62 C140.17048344 64.95869751 142.82298058 67.92926472 145.4375 70.9375 C148.24822525 74.16559512 151.115799 77.33738443 154 80.5 C157.45328153 84.28662998 160.86099051 88.1047632 164.22265625 91.97265625 C166.29359487 94.33489173 168.39512848 96.66795853 170.5 99 C173.17048344 101.95869751 175.82298058 104.92926472 178.4375 107.9375 C181.24822525 111.16559512 184.115799 114.33738443 187 117.5 C190.45575413 121.28934126 193.8652289 125.11083698 197.23046875 128.98046875 C200.77576954 133.02665089 204.39458999 137.00743187 208 141 C212.76786975 146.27985576 217.51512218 151.57291806 222.1875 156.9375 C225.0326929 160.1751333 227.92853836 163.3668629 230.81640625 166.56640625 C232.70848685 168.67511146 234.57905758 170.79919801 236.4375 172.9375 C239.24822525 176.16559512 242.115799 179.33738443 245 182.5 C248.45328153 186.28662998 251.86099051 190.1047632 255.22265625 193.97265625 C257.29359487 196.33489173 259.39512848 198.66795853 261.5 201 C264.77649549 204.63131057 268.02132012 208.28616356 271.2265625 211.98046875 C272.5395571 213.47566305 273.87052487 214.95511651 275.2109375 216.42578125 C275.94570313 217.23402344 276.68046875 218.04226562 277.4375 218.875 C278.11683594 219.61492187 278.79617188 220.35484375 279.49609375 221.1171875 C281 223 281 223 281 225 C271.96812531 225.32626039 262.93831509 225.57404219 253.90180683 225.72537041 C249.70413092 225.7980552 245.51052067 225.89636727 241.31518555 226.05615234 C211.93848356 227.14624368 211.93848356 227.14624368 204.9855957 222.01245117 C202.09313408 219.23880425 199.92521491 216.23630872 197.99153137 212.73674011 C196.48445335 210.09698214 194.52837912 207.86997873 192.5625 205.5625 C191.86253906 204.68722656 191.16257812 203.81195313 190.44140625 202.91015625 C186.84883403 198.62781016 182.99282919 194.6065998 179.15258789 190.54711914 C175.01398343 186.14932822 171.17261146 181.59700541 167.40625 176.875 C164.40257995 173.28619942 161.21525846 169.8987933 158 166.5 C153.22821617 161.45583104 148.73816007 156.30605144 144.40625 150.875 C141.40257995 147.28619942 138.21525846 143.8987933 135 140.5 C130.22821617 135.45583104 125.73816007 130.30605144 121.40625 124.875 C118.4025791 121.28619841 115.21524703 117.89880547 112 114.5 C107.21104408 109.43735325 102.69833775 104.26882952 98.34765625 98.8203125 C94.4274265 94.11081852 90.19880954 89.69029491 86.0078125 85.22265625 C83.15453222 82.17862987 80.38811991 79.07033123 77.6640625 75.91015625 C75.68459874 73.63795489 73.6541683 71.41540128 71.625 69.1875 C66.93151748 63.92318852 62.46608897 58.45855318 58 53 C57.67 75.11 57.34 97.22 57 120 C67.78615814 119.64545818 67.78615814 119.64545818 78.56811523 119.18920898 C89.2628702 118.8892016 89.2628702 118.8892016 93.98950195 121.91162109 C96.2509622 124.16181428 98.13278782 126.41883774 100 129 C101.09347325 130.25936503 102.19580456 131.51117987 103.3125 132.75 C103.86808594 133.39710938 104.42367187 134.04421875 104.99609375 134.7109375 C107.56871258 137.6496405 110.21980229 140.5109991 112.875 143.375 C113.90896678 144.49338548 114.94282154 145.61187454 115.9765625 146.73046875 C117.45652099 148.3316348 118.93704848 149.93222436 120.42089844 151.52978516 C121.70203368 152.9112837 122.9762282 154.29920928 124.25 155.6875 C124.97703125 156.47511719 125.7040625 157.26273438 126.453125 158.07421875 C128 160 128 160 128 162 C102.92 162 77.84 162 52 162 C52 183.12 52 204.24 52 226 C34.84 226 17.68 226 0 226 C0 151.42 0 76.84 0 0 Z ",fill:"url(#movingGradientt)",transform:"translate(550,0)"}),q.jsx("path",{d:"M0 0 C18.69516168 -0.16043524 18.69516168 -0.16043524 26.73632812 -0.1953125 C32.1981585 -0.21911559 37.65971768 -0.24710715 43.12133789 -0.30175781 C47.53044903 -0.34559474 51.93926887 -0.36921594 56.34858131 -0.37950897 C58.02090851 -0.3868331 59.69322189 -0.40113299 61.3654232 -0.42292023 C81.55037515 -0.67517072 96.94904393 5.26394805 112 19 C125.57834479 32.36984813 132.08137119 49.85737178 132.375 68.625 C132.35355009 82.2343373 128.93256872 93.84651213 123.171875 106.109375 C121.74952993 109.09797033 121.74952993 109.09797033 122 113 C123.62394994 115.95429762 123.62394994 115.95429762 125.75 119.0625 C135.2675296 133.90516473 136.304961 148.96786895 136.1953125 166.13671875 C136.19157487 167.86977473 136.18873145 169.60283286 136.18673706 171.33589172 C136.1791596 175.86170451 136.15956281 180.38738563 136.1373291 184.91314697 C136.11311297 190.3623762 136.10406162 195.81164985 136.09242249 201.26091766 C136.0731341 209.50736956 136.03477077 217.75353348 136 226 C118.51 226 101.02 226 83 226 C82.96261719 220.9675 82.92523438 215.935 82.88671875 210.75 C82.85642193 207.55074782 82.82526297 204.35155013 82.79101562 201.15234375 C82.73680787 196.08092074 82.68569357 191.0096055 82.65356445 185.93798828 C82.62744365 181.84644196 82.58698018 177.75526008 82.53681374 173.66394043 C82.52020409 172.10759027 82.5086532 170.55117715 82.50238609 168.99475098 C82.95088145 156.36377839 82.95088145 156.36377839 77.54862976 145.46240234 C72.33302718 140.93059215 68.53333845 140.83730613 61.86865234 140.79467773 C60.92226395 140.78477814 59.97587555 140.77487854 59.00080872 140.76467896 C55.86254404 140.73300978 52.72426421 140.70828512 49.5859375 140.68359375 C47.41402791 140.6630289 45.24212236 140.64203256 43.07022095 140.62062073 C37.34589915 140.56535161 31.62154095 140.51596369 25.89715576 140.46777344 C19.03306077 140.40877555 12.16903249 140.342521 5.30499268 140.27747345 C-5.12996423 140.17940306 -15.56496337 140.09058861 -26 140 C-26 168.38 -26 196.76 -26 226 C-43.49 226 -60.98 226 -79 226 C-79 179.8 -79 133.6 -79 86 C-68.46964844 85.97421875 -57.93929688 85.9484375 -47.08984375 85.921875 C-40.42250738 85.8967115 -33.75519998 85.87054563 -27.08789062 85.83984375 C-16.50301304 85.79128892 -5.91823181 85.74685111 4.66674805 85.72900391 C12.37577942 85.71598696 20.08461502 85.68902127 27.79353613 85.64538693 C31.87444482 85.62277297 35.95511204 85.60708927 40.03608894 85.60811615 C43.88002794 85.60886281 47.72343317 85.59091014 51.56723404 85.55883217 C52.97525662 85.55033803 54.38333911 85.54857999 55.79137611 85.55419731 C66.12074171 85.64844865 66.12074171 85.64844865 75 81 C78.71942049 76.23151219 79.66839433 72.46260847 79.375 66.4296875 C78.77240429 62.52536946 77.60210094 59.95429323 75 57 C67.65286233 52.03371263 60.11781451 52.39555731 51.5625 52.390625 C50.07175924 52.37562425 48.58103498 52.35889315 47.09033203 52.34051514 C43.19088935 52.2970412 39.29167078 52.27688731 35.39202881 52.26177979 C30.70026749 52.23867474 26.00875082 52.18626838 21.31718445 52.13883972 C14.21139286 52.07025229 7.10630195 52.03862121 0 52 C0 34.84 0 17.68 0 0 Z ",fill:"url(#movingGradientt)",transform:"translate(386,0)"}),q.jsx("path",{d:"M0 0 C17.49 0 34.98 0 53 0 C53 58.74 53 117.48 53 178 C35.51 178 18.02 178 0 178 C0 165.13 0 152.26 0 139 C-40.26 139 -80.52 139 -122 139 C-122 168.04 -122 197.08 -122 227 C-133.50004471 223.16665176 -141.91797332 219.00499146 -151 211 C-151.763125 210.33226562 -152.52625 209.66453125 -153.3125 208.9765625 C-165.29542498 197.78417771 -174.26624111 182.32068728 -175.17837906 165.76169968 C-175.2451222 161.99433682 -175.24794205 158.23000768 -175.22705078 154.46240234 C-175.22648553 153.02252205 -175.22680545 151.58264119 -175.22793579 150.14276123 C-175.22850587 146.26326035 -175.21680795 142.38388502 -175.20278788 138.50441313 C-175.19022252 134.43919747 -175.18910546 130.37397842 -175.18673706 126.30874634 C-175.18053927 118.62378693 -175.16415163 110.93888493 -175.14403808 103.25395072 C-175.12162594 94.49935901 -175.11067232 85.74476445 -175.10064721 76.99015117 C-175.07978376 58.99339503 -175.04312895 40.9967175 -175 23 C-157.51 23 -140.02 23 -122 23 C-122 43.79 -122 64.58 -122 86 C-81.74 86 -41.48 86 0 86 C0 57.62 0 29.24 0 0 Z ",fill:"url(#movingGradientt)",transform:"translate(1222,0)"}),q.jsx("path",{d:"M0 0 C17.49 0 34.98 0 53 0 C53 14.19 53 28.38 53 43 C35.51 43 18.02 43 0 43 C0 28.81 0 14.62 0 0 Z ",fill:"url(#movingGradientt)",transform:"translate(1222,184)"}),q.jsx("path",{d:"M0 0 C13.86 0 27.72 0 42 0 C42 17.49 42 34.98 42 53 C28.14 53 14.28 53 0 53 C0 35.51 0 18.02 0 0 Z ",fill:"url(#movingGradientt)",transform:"translate(959,0)"}),q.jsx("path",{d:"M0 0 C13.86 0 27.72 0 42 0 C42 17.16 42 34.32 42 52 C28.14 52 14.28 52 0 52 C0 34.84 0 17.68 0 0 Z ",fill:"url(#movingGradientt)",transform:"translate(333,0)"}),q.jsx("path",{d:"M0 0 C6.6 0 13.2 0 20 0 C20 17.49 20 34.98 20 53 C13.4 53 6.8 53 0 53 C0 35.51 0 18.02 0 0 Z ",fill:"url(#movingGradientt)",transform:"translate(1007,0)"}),q.jsx("path",{d:"M0 0 C6.27 0 12.54 0 19 0 C19 17.16 19 34.32 19 52 C12.73 52 6.46 52 0 52 C0 34.84 0 17.68 0 0 Z ",fill:"#url(#movingGradientt)",transform:"translate(307,0)"})]})}Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52));Number.isInteger===void 0&&(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});Math.sign===void 0&&(Math.sign=function(e){return e<0?-1:e>0?1:+e});"name"in Function.prototype||Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});Object.assign===void 0&&(Object.assign=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e);for(let n=1;n<arguments.length;n++){const i=arguments[n];if(i!=null)for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t});const WR="120",jR=0,S1=1,XR=2,XM=1,qR=2,Ga=3,sh=0,Vt=1,pc=2,qM=1,rl=0,sl=1,T1=2,E1=3,C1=4,YR=5,ao=100,$R=101,ZR=102,A1=103,P1=104,JR=200,KR=201,QR=202,e6=203,YM=204,$M=205,t6=206,n6=207,i6=208,r6=209,s6=210,o6=0,a6=1,l6=2,tm=3,c6=4,u6=5,f6=6,h6=7,oh=0,d6=1,p6=2,ol=0,m6=1,g6=2,y6=3,v6=4,x6=5,E0=300,ah=301,lh=302,nm=303,im=304,ch=306,uh=307,Mf=1e3,mn=1001,Sf=1002,Zt=1003,rm=1004,sm=1005,Gt=1006,ZM=1007,mc=1008,C0=1009,w6=1010,_6=1011,Tf=1012,b6=1013,Fu=1014,wr=1015,Ef=1016,M6=1017,S6=1018,T6=1019,al=1020,E6=1021,ws=1022,hi=1023,C6=1024,A6=1025,Uo=1026,Fl=1027,P6=1028,L6=1029,R6=1030,I6=1031,D6=1032,N6=1033,L1=33776,R1=33777,I1=33778,D1=33779,N1=35840,O1=35841,k1=35842,F1=35843,O6=36196,B1=37492,z1=37496,k6=37808,F6=37809,B6=37810,z6=37811,U6=37812,V6=37813,G6=37814,H6=37815,W6=37816,j6=37817,X6=37818,q6=37819,Y6=37820,$6=37821,Z6=36492,J6=37840,K6=37841,Q6=37842,e8=37843,t8=37844,n8=37845,i8=37846,r8=37847,s8=37848,o8=37849,a8=37850,l8=37851,c8=37852,u8=37853,f8=2200,h8=2201,d8=2202,Cf=2300,Bu=2301,od=2302,Eo=2400,Co=2401,Af=2402,A0=2500,JM=2501,p8=0,gc=3e3,KM=3001,m8=3007,g8=3002,y8=3003,v8=3004,x8=3005,w8=3006,_8=3200,b8=3201,pa=0,M8=1,ad=7680,S8=519,fh=35044,Bl=35048,U1="300 es";function rr(){}Object.assign(rr.prototype,{addEventListener:function(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)},hasEventListener:function(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}},dispatchEvent:function(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let r=0,s=i.length;r<s;r++)i[r].call(this,e)}}});const Bt=[];for(let e=0;e<256;e++)Bt[e]=(e<16?"0":"")+e.toString(16);let Vc=1234567;const Be={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Bt[e&255]+Bt[e>>8&255]+Bt[e>>16&255]+Bt[e>>24&255]+"-"+Bt[t&255]+Bt[t>>8&255]+"-"+Bt[t>>16&15|64]+Bt[t>>24&255]+"-"+Bt[n&63|128]+Bt[n>>8&255]+"-"+Bt[n>>16&255]+Bt[n>>24&255]+Bt[i&255]+Bt[i>>8&255]+Bt[i>>16&255]+Bt[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return e!==void 0&&(Vc=e%2147483647),Vc=Vc*16807%2147483647,(Vc-1)/2147483646},degToRad:function(e){return e*Be.DEG2RAD},radToDeg:function(e){return e*Be.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((t+i)/2),h=o((t+i)/2),u=s((t-i)/2),f=o((t-i)/2),d=s((i-t)/2),p=o((i-t)/2);switch(r){case"XYX":e.set(a*h,l*u,l*f,a*c);break;case"YZY":e.set(l*f,a*h,l*u,a*c);break;case"ZXZ":e.set(l*u,l*f,a*h,a*c);break;case"XZX":e.set(a*h,l*p,l*d,a*c);break;case"YXY":e.set(l*d,a*h,l*p,a*c);break;case"ZYZ":e.set(l*p,l*d,a*h,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};class Z{constructor(t=0,n=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=n}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,n){return this.x=t,this.y=n,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this}sub(t,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const n=this.x,i=this.y,r=t.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,i=this.y-t.y;return n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,n){return n===void 0&&(n=0),this.x=t[n],this.y=t[n+1],this}toArray(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this.x,t[n+1]=this.y,t}fromBufferAttribute(t,n,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this}rotateAround(t,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-t.x,o=this.y-t.y;return this.x=s*i-o*r+t.x,this.y=s*r+o*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class vn{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,n,i,r,s,o,a,l,c){const h=this.elements;return h[0]=t,h[1]=r,h[2]=a,h[3]=n,h[4]=s,h[5]=l,h[6]=i,h[7]=o,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return new this.constructor().fromArray(this.elements)}copy(t){const n=this.elements,i=t.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(t,n,i){return t.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const n=t.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const i=t.elements,r=n.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],h=i[4],u=i[7],f=i[2],d=i[5],p=i[8],y=r[0],v=r[3],g=r[6],m=r[1],x=r[4],w=r[7],b=r[2],_=r[5],M=r[8];return s[0]=o*y+a*m+l*b,s[3]=o*v+a*x+l*_,s[6]=o*g+a*w+l*M,s[1]=c*y+h*m+u*b,s[4]=c*v+h*x+u*_,s[7]=c*g+h*w+u*M,s[2]=f*y+d*m+p*b,s[5]=f*v+d*x+p*_,s[8]=f*g+d*w+p*M,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=t,n[4]*=t,n[7]*=t,n[2]*=t,n[5]*=t,n[8]*=t,this}determinant(){const t=this.elements,n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],h=t[8];return n*o*h-n*a*c-i*s*h+i*a*l+r*s*c-r*o*l}getInverse(t,n){n!==void 0&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const i=t.elements,r=this.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],h=i[5],u=i[6],f=i[7],d=i[8],p=d*c-h*f,y=h*u-d*l,v=f*l-c*u,g=s*p+o*y+a*v;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/g;return r[0]=p*m,r[1]=(a*f-d*o)*m,r[2]=(h*o-a*c)*m,r[3]=y*m,r[4]=(d*s-a*u)*m,r[5]=(a*l-h*s)*m,r[6]=v*m,r[7]=(o*u-f*s)*m,r[8]=(c*s-o*l)*m,this}transpose(){let t;const n=this.elements;return t=n[1],n[1]=n[3],n[3]=t,t=n[2],n[2]=n[6],n[6]=t,t=n[5],n[5]=n[7],n[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).getInverse(this).transpose()}transposeIntoArray(t){const n=this.elements;return t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8],this}setUvTransform(t,n,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);this.set(i*l,i*c,-i*(l*o+c*a)+o+t,-r*c,r*l,-r*(-c*o+l*a)+a+n,0,0,1)}scale(t,n){const i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=n,i[4]*=n,i[7]*=n,this}rotate(t){const n=Math.cos(t),i=Math.sin(t),r=this.elements,s=r[0],o=r[3],a=r[6],l=r[1],c=r[4],h=r[7];return r[0]=n*s+i*l,r[3]=n*o+i*c,r[6]=n*a+i*h,r[1]=-i*s+n*l,r[4]=-i*o+n*c,r[7]=-i*a+n*h,this}translate(t,n){const i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=n*i[2],i[4]+=n*i[5],i[7]+=n*i[8],this}equals(t){const n=this.elements,i=t.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(t,n){n===void 0&&(n=0);for(let i=0;i<9;i++)this.elements[i]=t[i+n];return this}toArray(t,n){t===void 0&&(t=[]),n===void 0&&(n=0);const i=this.elements;return t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7],t[n+8]=i[8],t}}let Ws;const Cs={getDataURL:function(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Ws===void 0&&(Ws=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Ws.width=e.width,Ws.height=e.height;const n=Ws.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Ws}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};let T8=0;function tt(e,t,n,i,r,s,o,a,l,c){Object.defineProperty(this,"id",{value:T8++}),this.uuid=Be.generateUUID(),this.name="",this.image=e!==void 0?e:tt.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=t!==void 0?t:tt.DEFAULT_MAPPING,this.wrapS=n!==void 0?n:mn,this.wrapT=i!==void 0?i:mn,this.magFilter=r!==void 0?r:Gt,this.minFilter=s!==void 0?s:mc,this.anisotropy=l!==void 0?l:1,this.format=o!==void 0?o:hi,this.internalFormat=null,this.type=a!==void 0?a:C0,this.offset=new Z(0,0),this.repeat=new Z(1,1),this.center=new Z(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new vn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c!==void 0?c:gc,this.version=0,this.onUpdate=null}tt.DEFAULT_IMAGE=void 0;tt.DEFAULT_MAPPING=E0;tt.prototype=Object.assign(Object.create(rr.prototype),{constructor:tt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const i=this.image;if(i.uuid===void 0&&(i.uuid=Be.generateUUID()),!t&&e.images[i.uuid]===void 0){let r;if(Array.isArray(i)){r=[];for(let s=0,o=i.length;s<o;s++)r.push(Cs.getDataURL(i[s]))}else r=Cs.getDataURL(i);e.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==E0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Mf:e.x=e.x-Math.floor(e.x);break;case mn:e.x=e.x<0?0:1;break;case Sf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Mf:e.y=e.y-Math.floor(e.y);break;case mn:e.y=e.y<0?0:1;break;case Sf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}});Object.defineProperty(tt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});class et{constructor(t=0,n=0,i=0,r=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this.w=t.w+n.w,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this.w+=t.w*n,this}sub(t,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this.w=t.w-n.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const n=this.x,i=this.y,r=this.z,s=this.w,o=t.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const n=Math.sqrt(1-t.w*t.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/n,this.y=t.y/n,this.z=t.z/n),this}setAxisAngleFromRotationMatrix(t){let n,i,r,s;const l=t.elements,c=l[0],h=l[4],u=l[8],f=l[1],d=l[5],p=l[9],y=l[2],v=l[6],g=l[10];if(Math.abs(h-f)<.01&&Math.abs(u-y)<.01&&Math.abs(p-v)<.01){if(Math.abs(h+f)<.1&&Math.abs(u+y)<.1&&Math.abs(p+v)<.1&&Math.abs(c+d+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const x=(c+1)/2,w=(d+1)/2,b=(g+1)/2,_=(h+f)/4,M=(u+y)/4,E=(p+v)/4;return x>w&&x>b?x<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(x),r=_/i,s=M/i):w>b?w<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(w),i=_/r,s=E/r):b<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(b),i=M/s,r=E/s),this.set(i,r,s,n),this}let m=Math.sqrt((v-p)*(v-p)+(u-y)*(u-y)+(f-h)*(f-h));return Math.abs(m)<.001&&(m=1),this.x=(v-p)/m,this.y=(u-y)/m,this.z=(f-h)/m,this.w=Math.acos((c+d+g-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this.w=Math.max(t.w,Math.min(n.w,this.w)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this.w=Math.max(t,Math.min(n,this.w)),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this.w+=(t.w-this.w)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this.w=t.w+(n.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,n){return n===void 0&&(n=0),this.x=t[n],this.y=t[n+1],this.z=t[n+2],this.w=t[n+3],this}toArray(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t[n+3]=this.w,t}fromBufferAttribute(t,n,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this.w=t.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}function di(e,t,n){this.width=e,this.height=t,this.scissor=new et(0,0,e,t),this.scissorTest=!1,this.viewport=new et(0,0,e,t),n=n||{},this.texture=new tt(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Gt,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}di.prototype=Object.assign(Object.create(rr.prototype),{constructor:di,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function V1(e,t,n){di.call(this,e,t,n),this.samples=4}V1.prototype=Object.assign(Object.create(di.prototype),{constructor:V1,isWebGLMultisampleRenderTarget:!0,copy:function(e){return di.prototype.copy.call(this,e),this.samples=e.samples,this}});class cn{constructor(t=0,n=0,i=0,r=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=n,this._z=i,this._w=r}static slerp(t,n,i,r){return i.copy(t).slerp(n,r)}static slerpFlat(t,n,i,r,s,o,a){let l=i[r+0],c=i[r+1],h=i[r+2],u=i[r+3];const f=s[o+0],d=s[o+1],p=s[o+2],y=s[o+3];if(u!==y||l!==f||c!==d||h!==p){let v=1-a;const g=l*f+c*d+h*p+u*y,m=g>=0?1:-1,x=1-g*g;if(x>Number.EPSILON){const b=Math.sqrt(x),_=Math.atan2(b,g*m);v=Math.sin(v*_)/b,a=Math.sin(a*_)/b}const w=a*m;if(l=l*v+f*w,c=c*v+d*w,h=h*v+p*w,u=u*v+y*w,v===1-a){const b=1/Math.sqrt(l*l+c*c+h*h+u*u);l*=b,c*=b,h*=b,u*=b}}t[n]=l,t[n+1]=c,t[n+2]=h,t[n+3]=u}static multiplyQuaternionsFlat(t,n,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],h=i[r+3],u=s[o],f=s[o+1],d=s[o+2],p=s[o+3];return t[n]=a*p+h*u+l*d-c*f,t[n+1]=l*p+h*f+c*u-a*d,t[n+2]=c*p+h*d+a*f-l*u,t[n+3]=h*p-a*u-l*f-c*d,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,n,i,r){return this._x=t,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,n){if(!(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=t._x,r=t._y,s=t._z,o=t._order,a=Math.cos,l=Math.sin,c=a(i/2),h=a(r/2),u=a(s/2),f=l(i/2),d=l(r/2),p=l(s/2);switch(o){case"XYZ":this._x=f*h*u+c*d*p,this._y=c*d*u-f*h*p,this._z=c*h*p+f*d*u,this._w=c*h*u-f*d*p;break;case"YXZ":this._x=f*h*u+c*d*p,this._y=c*d*u-f*h*p,this._z=c*h*p-f*d*u,this._w=c*h*u+f*d*p;break;case"ZXY":this._x=f*h*u-c*d*p,this._y=c*d*u+f*h*p,this._z=c*h*p+f*d*u,this._w=c*h*u-f*d*p;break;case"ZYX":this._x=f*h*u-c*d*p,this._y=c*d*u+f*h*p,this._z=c*h*p-f*d*u,this._w=c*h*u+f*d*p;break;case"YZX":this._x=f*h*u+c*d*p,this._y=c*d*u+f*h*p,this._z=c*h*p-f*d*u,this._w=c*h*u-f*d*p;break;case"XZY":this._x=f*h*u-c*d*p,this._y=c*d*u-f*h*p,this._z=c*h*p+f*d*u,this._w=c*h*u+f*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,n){const i=n/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const n=t.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],h=n[6],u=n[10],f=i+a+u;if(f>0){const d=.5/Math.sqrt(f+1);this._w=.25/d,this._x=(h-l)*d,this._y=(s-c)*d,this._z=(o-r)*d}else if(i>a&&i>u){const d=2*Math.sqrt(1+i-a-u);this._w=(h-l)/d,this._x=.25*d,this._y=(r+o)/d,this._z=(s+c)/d}else if(a>u){const d=2*Math.sqrt(1+a-i-u);this._w=(s-c)/d,this._x=(r+o)/d,this._y=.25*d,this._z=(l+h)/d}else{const d=2*Math.sqrt(1+u-i-a);this._w=(o-r)/d,this._x=(s+c)/d,this._y=(l+h)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(t,n){let r=t.dot(n)+1;return r<1e-6?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Be.clamp(this.dot(t),-1,1)))}rotateTowards(t,n){const i=this.angleTo(t);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}inverse(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,n)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,n){const i=t._x,r=t._y,s=t._z,o=t._w,a=n._x,l=n._y,c=n._z,h=n._w;return this._x=i*h+o*a+r*c-s*l,this._y=r*h+o*l+s*a-i*c,this._z=s*h+o*c+i*l-r*a,this._w=o*h-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(t,n){if(n===0)return this;if(n===1)return this.copy(t);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*t._w+i*t._x+r*t._y+s*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const d=1-n;return this._w=d*o+n*this._w,this._x=d*i+n*this._x,this._y=d*r+n*this._y,this._z=d*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),h=Math.atan2(c,a),u=Math.sin((1-n)*h)/c,f=Math.sin(n*h)/c;return this._w=o*u+this._w*f,this._x=i*u+this._x*f,this._y=r*u+this._y*f,this._z=s*u+this._z*f,this._onChangeCallback(),this}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,n){return n===void 0&&(n=0),this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this}toArray(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t}fromBufferAttribute(t,n){return this._x=t.getX(n),this._y=t.getY(n),this._z=t.getZ(n),this._w=t.getW(n),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}class S{constructor(t=0,n=0,i=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=n,this.z=i}set(t,n,i){return i===void 0&&(i=this.z),this.x=t,this.y=n,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}sub(t,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}multiply(t,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,n)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(G1.setFromEuler(t))}applyAxisAngle(t,n){return this.applyQuaternion(G1.setFromAxisAngle(t,n))}applyMatrix3(t){const n=this.x,i=this.y,r=this.z,s=t.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const n=this.x,i=this.y,r=this.z,s=t.elements,o=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(t){const n=this.x,i=this.y,r=this.z,s=t.x,o=t.y,a=t.z,l=t.w,c=l*n+o*r-a*i,h=l*i+a*n-s*r,u=l*r+s*i-o*n,f=-s*n-o*i-a*r;return this.x=c*l+f*-s+h*-a-u*-o,this.y=h*l+f*-o+u*-s-c*-a,this.z=u*l+f*-a+c*-o-h*-s,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const n=this.x,i=this.y,r=this.z,s=t.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this}cross(t,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,n)):this.crossVectors(this,t)}crossVectors(t,n){const i=t.x,r=t.y,s=t.z,o=n.x,a=n.y,l=n.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(t){const n=t.lengthSq();if(n===0)return this.set(0,0,0);const i=t.dot(this)/n;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return ld.copy(this).projectOnVector(t),this.sub(ld)}reflect(t){return this.sub(ld.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(t)/n;return Math.acos(Be.clamp(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return n*n+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,n,i){const r=Math.sin(n)*t;return this.x=r*Math.sin(i),this.y=Math.cos(n)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,n,i){return this.x=t*Math.sin(n),this.y=i,this.z=t*Math.cos(n),this}setFromMatrixPosition(t){const n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(t){const n=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(t,n){return this.fromArray(t.elements,n*4)}setFromMatrix3Column(t,n){return this.fromArray(t.elements,n*3)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,n){return n===void 0&&(n=0),this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}toArray(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}fromBufferAttribute(t,n,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const ld=new S,G1=new cn;class sr{constructor(t,n){Object.defineProperty(this,"isBox3",{value:!0}),this.min=t!==void 0?t:new S(1/0,1/0,1/0),this.max=n!==void 0?n:new S(-1/0,-1/0,-1/0)}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromArray(t){let n=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=t.length;l<c;l+=3){const h=t[l],u=t[l+1],f=t[l+2];h<n&&(n=h),u<i&&(i=u),f<r&&(r=f),h>s&&(s=h),u>o&&(o=u),f>a&&(a=f)}return this.min.set(n,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(t){let n=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=t.count;l<c;l++){const h=t.getX(l),u=t.getY(l),f=t.getZ(l);h<n&&(n=h),u<i&&(i=u),f<r&&(r=f),h>s&&(s=h),u>o&&(o=u),f>a&&(a=f)}return this.min.set(n,i,r),this.max.set(s,o,a),this}setFromPoints(t){this.makeEmpty();for(let n=0,i=t.length;n<i;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){const i=Aa.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return t===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new S),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return t===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new S),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const n=t.geometry;n!==void 0&&(n.boundingBox===null&&n.computeBoundingBox(),ud.copy(n.boundingBox),ud.applyMatrix4(t.matrixWorld),this.union(ud));const i=t.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,n){return n===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),n=new S),n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Aa),Aa.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let n,i;return t.normal.x>0?(n=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(n=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(n+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(n+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(n+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(n+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),n<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Pa),Gc.subVectors(this.max,Pa),js.subVectors(t.a,Pa),Xs.subVectors(t.b,Pa),qs.subVectors(t.c,Pa),ar.subVectors(Xs,js),lr.subVectors(qs,Xs),ts.subVectors(js,qs);let n=[0,-ar.z,ar.y,0,-lr.z,lr.y,0,-ts.z,ts.y,ar.z,0,-ar.x,lr.z,0,-lr.x,ts.z,0,-ts.x,-ar.y,ar.x,0,-lr.y,lr.x,0,-ts.y,ts.x,0];return!cd(n,js,Xs,qs,Gc)||(n=[1,0,0,0,1,0,0,0,1],!cd(n,js,Xs,qs,Gc))?!1:(Hc.crossVectors(ar,lr),n=[Hc.x,Hc.y,Hc.z],cd(n,js,Xs,qs,Gc))}clampPoint(t,n){return n===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),n=new S),n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Aa.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return t===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=this.getSize(Aa).length()*.5,t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Oi[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Oi[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Oi[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Oi[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Oi[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Oi[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Oi[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Oi[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Oi),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}function cd(e,t,n,i,r){for(let s=0,o=e.length-3;s<=o;s+=3){ns.fromArray(e,s);const a=r.x*Math.abs(ns.x)+r.y*Math.abs(ns.y)+r.z*Math.abs(ns.z),l=t.dot(ns),c=n.dot(ns),h=i.dot(ns);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>a)return!1}return!0}const Oi=[new S,new S,new S,new S,new S,new S,new S,new S],Aa=new S,ud=new sr,js=new S,Xs=new S,qs=new S,ar=new S,lr=new S,ts=new S,Pa=new S,Gc=new S,Hc=new S,ns=new S,E8=new sr;class $r{constructor(t,n){this.center=t!==void 0?t:new S,this.radius=n!==void 0?n:-1}set(t,n){return this.center.copy(t),this.radius=n,this}setFromPoints(t,n){const i=this.center;n!==void 0?i.copy(n):E8.setFromPoints(t).getCenter(i);let r=0;for(let s=0,o=t.length;s<o;s++)r=Math.max(r,i.distanceToSquared(t[s]));return this.radius=Math.sqrt(r),this}clone(){return new this.constructor().copy(this)}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const n=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=n*n}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,n){const i=this.center.distanceToSquared(t);return n===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),n=new S),n.copy(t),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(t){return t===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new sr),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}}const ki=new S,fd=new S,Wc=new S,cr=new S,hd=new S,jc=new S,dd=new S;class yc{constructor(t,n){this.origin=t!==void 0?t:new S,this.direction=n!==void 0?n:new S(0,0,-1)}set(t,n){return this.origin.copy(t),this.direction.copy(n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,n){return n===void 0&&(console.warn("THREE.Ray: .at() target is now required"),n=new S),n.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,ki)),this}closestPointToPoint(t,n){n===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),n=new S),n.subVectors(t,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const n=ki.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(ki.copy(this.direction).multiplyScalar(n).add(this.origin),ki.distanceToSquared(t))}distanceSqToSegment(t,n,i,r){fd.copy(t).add(n).multiplyScalar(.5),Wc.copy(n).sub(t).normalize(),cr.copy(this.origin).sub(fd);const s=t.distanceTo(n)*.5,o=-this.direction.dot(Wc),a=cr.dot(this.direction),l=-cr.dot(Wc),c=cr.lengthSq(),h=Math.abs(1-o*o);let u,f,d,p;if(h>0)if(u=o*l-a,f=o*a-l,p=s*h,u>=0)if(f>=-p)if(f<=p){const y=1/h;u*=y,f*=y,d=u*(u+o*f+2*a)+f*(o*u+f+2*l)+c}else f=s,u=Math.max(0,-(o*f+a)),d=-u*u+f*(f+2*l)+c;else f=-s,u=Math.max(0,-(o*f+a)),d=-u*u+f*(f+2*l)+c;else f<=-p?(u=Math.max(0,-(-o*s+a)),f=u>0?-s:Math.min(Math.max(-s,-l),s),d=-u*u+f*(f+2*l)+c):f<=p?(u=0,f=Math.min(Math.max(-s,-l),s),d=f*(f+2*l)+c):(u=Math.max(0,-(o*s+a)),f=u>0?s:Math.min(Math.max(-s,-l),s),d=-u*u+f*(f+2*l)+c);else f=o>0?-s:s,u=Math.max(0,-(o*f+a)),d=-u*u+f*(f+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(u).add(this.origin),r&&r.copy(Wc).multiplyScalar(f).add(fd),d}intersectSphere(t,n){ki.subVectors(t.center,this.origin);const i=ki.dot(this.direction),r=ki.dot(ki)-i*i,s=t.radius*t.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const n=t.normal.dot(this.direction);if(n===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/n;return i>=0?i:null}intersectPlane(t,n){const i=this.distanceToPlane(t);return i===null?null:this.at(i,n)}intersectsPlane(t){const n=t.distanceToPoint(this.origin);return n===0||t.normal.dot(this.direction)*n<0}intersectBox(t,n){let i,r,s,o,a,l;const c=1/this.direction.x,h=1/this.direction.y,u=1/this.direction.z,f=this.origin;return c>=0?(i=(t.min.x-f.x)*c,r=(t.max.x-f.x)*c):(i=(t.max.x-f.x)*c,r=(t.min.x-f.x)*c),h>=0?(s=(t.min.y-f.y)*h,o=(t.max.y-f.y)*h):(s=(t.max.y-f.y)*h,o=(t.min.y-f.y)*h),i>o||s>r||((s>i||i!==i)&&(i=s),(o<r||r!==r)&&(r=o),u>=0?(a=(t.min.z-f.z)*u,l=(t.max.z-f.z)*u):(a=(t.max.z-f.z)*u,l=(t.min.z-f.z)*u),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(t){return this.intersectBox(t,ki)!==null}intersectTriangle(t,n,i,r,s){hd.subVectors(n,t),jc.subVectors(i,t),dd.crossVectors(hd,jc);let o=this.direction.dot(dd),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;cr.subVectors(this.origin,t);const l=a*this.direction.dot(jc.crossVectors(cr,jc));if(l<0)return null;const c=a*this.direction.dot(hd.cross(cr));if(c<0||l+c>o)return null;const h=-a*cr.dot(dd);return h<0?null:this.at(h/o,s)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}class He{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,n,i,r,s,o,a,l,c,h,u,f,d,p,y,v){const g=this.elements;return g[0]=t,g[4]=n,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=h,g[10]=u,g[14]=f,g[3]=d,g[7]=p,g[11]=y,g[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new He().fromArray(this.elements)}copy(t){const n=this.elements,i=t.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(t){const n=this.elements,i=t.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}extractBasis(t,n,i){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,n,i){return this.set(t.x,n.x,i.x,0,t.y,n.y,i.y,0,t.z,n.z,i.z,0,0,0,0,1),this}extractRotation(t){const n=this.elements,i=t.elements,r=1/Ys.setFromMatrixColumn(t,0).length(),s=1/Ys.setFromMatrixColumn(t,1).length(),o=1/Ys.setFromMatrixColumn(t,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,i=t.x,r=t.y,s=t.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),h=Math.cos(s),u=Math.sin(s);if(t.order==="XYZ"){const f=o*h,d=o*u,p=a*h,y=a*u;n[0]=l*h,n[4]=-l*u,n[8]=c,n[1]=d+p*c,n[5]=f-y*c,n[9]=-a*l,n[2]=y-f*c,n[6]=p+d*c,n[10]=o*l}else if(t.order==="YXZ"){const f=l*h,d=l*u,p=c*h,y=c*u;n[0]=f+y*a,n[4]=p*a-d,n[8]=o*c,n[1]=o*u,n[5]=o*h,n[9]=-a,n[2]=d*a-p,n[6]=y+f*a,n[10]=o*l}else if(t.order==="ZXY"){const f=l*h,d=l*u,p=c*h,y=c*u;n[0]=f-y*a,n[4]=-o*u,n[8]=p+d*a,n[1]=d+p*a,n[5]=o*h,n[9]=y-f*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(t.order==="ZYX"){const f=o*h,d=o*u,p=a*h,y=a*u;n[0]=l*h,n[4]=p*c-d,n[8]=f*c+y,n[1]=l*u,n[5]=y*c+f,n[9]=d*c-p,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(t.order==="YZX"){const f=o*l,d=o*c,p=a*l,y=a*c;n[0]=l*h,n[4]=y-f*u,n[8]=p*u+d,n[1]=u,n[5]=o*h,n[9]=-a*h,n[2]=-c*h,n[6]=d*u+p,n[10]=f-y*u}else if(t.order==="XZY"){const f=o*l,d=o*c,p=a*l,y=a*c;n[0]=l*h,n[4]=-u,n[8]=c*h,n[1]=f*u+y,n[5]=o*h,n[9]=d*u-p,n[2]=p*u-d,n[6]=a*h,n[10]=y*u+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(t){return this.compose(C8,t,A8)}lookAt(t,n,i){const r=this.elements;return Sn.subVectors(t,n),Sn.lengthSq()===0&&(Sn.z=1),Sn.normalize(),ur.crossVectors(i,Sn),ur.lengthSq()===0&&(Math.abs(i.z)===1?Sn.x+=1e-4:Sn.z+=1e-4,Sn.normalize(),ur.crossVectors(i,Sn)),ur.normalize(),Xc.crossVectors(Sn,ur),r[0]=ur.x,r[4]=Xc.x,r[8]=Sn.x,r[1]=ur.y,r[5]=Xc.y,r[9]=Sn.y,r[2]=ur.z,r[6]=Xc.z,r[10]=Sn.z,this}multiply(t,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,n)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const i=t.elements,r=n.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],h=i[1],u=i[5],f=i[9],d=i[13],p=i[2],y=i[6],v=i[10],g=i[14],m=i[3],x=i[7],w=i[11],b=i[15],_=r[0],M=r[4],E=r[8],P=r[12],I=r[1],N=r[5],R=r[9],F=r[13],L=r[2],O=r[6],B=r[10],V=r[14],k=r[3],U=r[7],H=r[11],X=r[15];return s[0]=o*_+a*I+l*L+c*k,s[4]=o*M+a*N+l*O+c*U,s[8]=o*E+a*R+l*B+c*H,s[12]=o*P+a*F+l*V+c*X,s[1]=h*_+u*I+f*L+d*k,s[5]=h*M+u*N+f*O+d*U,s[9]=h*E+u*R+f*B+d*H,s[13]=h*P+u*F+f*V+d*X,s[2]=p*_+y*I+v*L+g*k,s[6]=p*M+y*N+v*O+g*U,s[10]=p*E+y*R+v*B+g*H,s[14]=p*P+y*F+v*V+g*X,s[3]=m*_+x*I+w*L+b*k,s[7]=m*M+x*N+w*O+b*U,s[11]=m*E+x*R+w*B+b*H,s[15]=m*P+x*F+w*V+b*X,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this}determinant(){const t=this.elements,n=t[0],i=t[4],r=t[8],s=t[12],o=t[1],a=t[5],l=t[9],c=t[13],h=t[2],u=t[6],f=t[10],d=t[14],p=t[3],y=t[7],v=t[11],g=t[15];return p*(+s*l*u-r*c*u-s*a*f+i*c*f+r*a*d-i*l*d)+y*(+n*l*d-n*c*f+s*o*f-r*o*d+r*c*h-s*l*h)+v*(+n*c*u-n*a*d-s*o*u+i*o*d+s*a*h-i*c*h)+g*(-r*a*h-n*l*u+n*a*f+r*o*u-i*o*f+i*l*h)}transpose(){const t=this.elements;let n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,this}setPosition(t,n,i){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=n,r[14]=i),this}getInverse(t,n){n!==void 0&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const i=this.elements,r=t.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],h=r[5],u=r[6],f=r[7],d=r[8],p=r[9],y=r[10],v=r[11],g=r[12],m=r[13],x=r[14],w=r[15],b=p*x*f-m*y*f+m*u*v-h*x*v-p*u*w+h*y*w,_=g*y*f-d*x*f-g*u*v+c*x*v+d*u*w-c*y*w,M=d*m*f-g*p*f+g*h*v-c*m*v-d*h*w+c*p*w,E=g*p*u-d*m*u-g*h*y+c*m*y+d*h*x-c*p*x,P=s*b+o*_+a*M+l*E;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/P;return i[0]=b*I,i[1]=(m*y*l-p*x*l-m*a*v+o*x*v+p*a*w-o*y*w)*I,i[2]=(h*x*l-m*u*l+m*a*f-o*x*f-h*a*w+o*u*w)*I,i[3]=(p*u*l-h*y*l-p*a*f+o*y*f+h*a*v-o*u*v)*I,i[4]=_*I,i[5]=(d*x*l-g*y*l+g*a*v-s*x*v-d*a*w+s*y*w)*I,i[6]=(g*u*l-c*x*l-g*a*f+s*x*f+c*a*w-s*u*w)*I,i[7]=(c*y*l-d*u*l+d*a*f-s*y*f-c*a*v+s*u*v)*I,i[8]=M*I,i[9]=(g*p*l-d*m*l-g*o*v+s*m*v+d*o*w-s*p*w)*I,i[10]=(c*m*l-g*h*l+g*o*f-s*m*f-c*o*w+s*h*w)*I,i[11]=(d*h*l-c*p*l-d*o*f+s*p*f+c*o*v-s*h*v)*I,i[12]=E*I,i[13]=(d*m*a-g*p*a+g*o*y-s*m*y-d*o*x+s*p*x)*I,i[14]=(g*h*a-c*m*a-g*o*u+s*m*u+c*o*x-s*h*x)*I,i[15]=(c*p*a-d*h*a+d*o*u-s*p*u-c*o*y+s*h*y)*I,this}scale(t){const n=this.elements,i=t.x,r=t.y,s=t.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(t,n,i){return this.set(1,0,0,t,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(t){const n=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(t){const n=Math.cos(t),i=Math.sin(t);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(t){const n=Math.cos(t),i=Math.sin(t);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,o=t.x,a=t.y,l=t.z,c=s*o,h=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,h*a+i,h*l-r*o,0,c*l-r*a,h*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(t,n,i){return this.set(t,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,n,i){return this.set(1,n,i,0,t,1,i,0,t,n,1,0,0,0,0,1),this}compose(t,n,i){const r=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,h=o+o,u=a+a,f=s*c,d=s*h,p=s*u,y=o*h,v=o*u,g=a*u,m=l*c,x=l*h,w=l*u,b=i.x,_=i.y,M=i.z;return r[0]=(1-(y+g))*b,r[1]=(d+w)*b,r[2]=(p-x)*b,r[3]=0,r[4]=(d-w)*_,r[5]=(1-(f+g))*_,r[6]=(v+m)*_,r[7]=0,r[8]=(p+x)*M,r[9]=(v-m)*M,r[10]=(1-(f+y))*M,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,n,i){const r=this.elements;let s=Ys.set(r[0],r[1],r[2]).length();const o=Ys.set(r[4],r[5],r[6]).length(),a=Ys.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),t.x=r[12],t.y=r[13],t.z=r[14],ti.copy(this);const c=1/s,h=1/o,u=1/a;return ti.elements[0]*=c,ti.elements[1]*=c,ti.elements[2]*=c,ti.elements[4]*=h,ti.elements[5]*=h,ti.elements[6]*=h,ti.elements[8]*=u,ti.elements[9]*=u,ti.elements[10]*=u,n.setFromRotationMatrix(ti),i.x=s,i.y=o,i.z=a,this}makePerspective(t,n,i,r,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*s/(n-t),c=2*s/(i-r),h=(n+t)/(n-t),u=(i+r)/(i-r),f=-(o+s)/(o-s),d=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,n,i,r,s,o){const a=this.elements,l=1/(n-t),c=1/(i-r),h=1/(o-s),u=(n+t)*l,f=(i+r)*c,d=(o+s)*h;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const n=this.elements,i=t.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(t,n){n===void 0&&(n=0);for(let i=0;i<16;i++)this.elements[i]=t[i+n];return this}toArray(t,n){t===void 0&&(t=[]),n===void 0&&(n=0);const i=this.elements;return t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7],t[n+8]=i[8],t[n+9]=i[9],t[n+10]=i[10],t[n+11]=i[11],t[n+12]=i[12],t[n+13]=i[13],t[n+14]=i[14],t[n+15]=i[15],t}}const Ys=new S,ti=new He,C8=new S(0,0,0),A8=new S(1,1,1),ur=new S,Xc=new S,Sn=new S;class vc{constructor(t=0,n=0,i=0,r=vc.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,n,i,r){return this._x=t,this._y=n,this._z=i,this._order=r||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,n,i){const r=Be.clamp,s=t.elements,o=s[0],a=s[4],l=s[8],c=s[1],h=s[5],u=s[9],f=s[2],d=s[6],p=s[10];switch(n=n||this._order,n){case"XYZ":this._y=Math.asin(r(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,h),this._z=0);break;case"YXZ":this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(c,h)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(r(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-a,h)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-r(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,h));break;case"YZX":this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,h),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,h),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i!==!1&&this._onChangeCallback(),this}setFromQuaternion(t,n,i){return H1.makeRotationFromQuaternion(t),this.setFromRotationMatrix(H1,n,i)}setFromVector3(t,n){return this.set(t.x,t.y,t.z,n||this._order)}reorder(t){return W1.setFromEuler(this),this.setFromQuaternion(W1,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new S(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}vc.DefaultOrder="XYZ";vc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const H1=new He,W1=new cn;class QM{constructor(){this.mask=1}set(t){this.mask=1<<t|0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}}let P8=0;const j1=new S,$s=new cn,Fi=new He,qc=new S,La=new S,L8=new S,R8=new cn,X1=new S(1,0,0),q1=new S(0,1,0),Y1=new S(0,0,1),I8={type:"added"},D8={type:"removed"};function Ee(){Object.defineProperty(this,"id",{value:P8++}),this.uuid=Be.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ee.DefaultUp.clone();const e=new S,t=new vc,n=new cn,i=new S(1,1,1);function r(){n.setFromEuler(t,!1)}function s(){t.setFromQuaternion(n,void 0,!1)}t._onChange(r),n._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new He},normalMatrix:{value:new vn}}),this.matrix=new He,this.matrixWorld=new He,this.matrixAutoUpdate=Ee.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new QM,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Ee.DefaultUp=new S(0,1,0);Ee.DefaultMatrixAutoUpdate=!0;Ee.prototype=Object.assign(Object.create(rr.prototype),{constructor:Ee,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return $s.setFromAxisAngle(e,t),this.quaternion.multiply($s),this},rotateOnWorldAxis:function(e,t){return $s.setFromAxisAngle(e,t),this.quaternion.premultiply($s),this},rotateX:function(e){return this.rotateOnAxis(X1,e)},rotateY:function(e){return this.rotateOnAxis(q1,e)},rotateZ:function(e){return this.rotateOnAxis(Y1,e)},translateOnAxis:function(e,t){return j1.copy(e).applyQuaternion(this.quaternion),this.position.add(j1.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(X1,e)},translateY:function(e){return this.translateOnAxis(q1,e)},translateZ:function(e){return this.translateOnAxis(Y1,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Fi.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?qc.copy(e):qc.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),La.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fi.lookAt(La,qc,this.up):Fi.lookAt(qc,La,this.up),this.quaternion.setFromRotationMatrix(Fi),i&&(Fi.extractRotation(i.matrixWorld),$s.setFromRotationMatrix(Fi),this.quaternion.premultiply($s.inverse()))},add:function(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(I8)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(D8)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),Fi.getInverse(this.matrixWorld),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Fi.multiply(e.parent.matrixWorld)),e.applyMatrix4(Fi),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n].getObjectByProperty(e,t);if(s!==void 0)return s}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new S),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new cn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(La,e,L8),e},getWorldScale:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new S),this.updateMatrixWorld(!0),this.matrixWorld.decompose(La,R8,e),e},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new S),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON());function r(o,a){return o[a.uuid]===void 0&&(o[a.uuid]=a.toJSON(e)),a.uuid}if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const a=o.shapes;if(Array.isArray(a))for(let l=0,c=a.length;l<c;l++){const h=a[l];r(e.shapes,h)}else r(e.shapes,a)}}if(this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let a=0,l=this.material.length;a<l;a++)o.push(r(e.materials,this.material[a]));i.material=o}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(t){const o=s(e.geometries),a=s(e.materials),l=s(e.textures),c=s(e.images),h=s(e.shapes);o.length>0&&(n.geometries=o),a.length>0&&(n.materials=a),l.length>0&&(n.textures=l),c.length>0&&(n.images=c),h.length>0&&(n.shapes=h)}return n.object=i,n;function s(o){const a=[];for(const l in o){const c=o[l];delete c.metadata,a.push(c)}return a}},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,t){if(t===void 0&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}});const pd=new S,N8=new S,O8=new vn;class wi{constructor(t,n){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=t!==void 0?t:new S(1,0,0),this.constant=n!==void 0?n:0}set(t,n){return this.normal.copy(t),this.constant=n,this}setComponents(t,n,i,r){return this.normal.set(t,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(t,n){return this.normal.copy(t),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(t,n,i){const r=pd.subVectors(i,n).cross(N8.subVectors(t,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}clone(){return new this.constructor().copy(this)}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,n){return n===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),n=new S),n.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,n){n===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new S);const i=t.delta(pd),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(t.start)===0?n.copy(t.start):void 0;const s=-(t.start.dot(this.normal)+this.constant)/r;if(!(s<0||s>1))return n.copy(i).multiplyScalar(s).add(t.start)}intersectsLine(t){const n=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return n<0&&i>0||i<0&&n>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new S),t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,n){const i=n||O8.getNormalMatrix(t),r=this.coplanarPoint(pd).applyMatrix4(t),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}const ni=new S,Bi=new S,md=new S,zi=new S,Zs=new S,Js=new S,$1=new S,gd=new S,yd=new S,vd=new S;class on{constructor(t,n,i){this.a=t!==void 0?t:new S,this.b=n!==void 0?n:new S,this.c=i!==void 0?i:new S}static getNormal(t,n,i,r){r===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new S),r.subVectors(i,n),ni.subVectors(t,n),r.cross(ni);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(t,n,i,r,s){ni.subVectors(r,n),Bi.subVectors(i,n),md.subVectors(t,n);const o=ni.dot(ni),a=ni.dot(Bi),l=ni.dot(md),c=Bi.dot(Bi),h=Bi.dot(md),u=o*c-a*a;if(s===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new S),u===0)return s.set(-2,-1,-1);const f=1/u,d=(c*l-a*h)*f,p=(o*h-a*l)*f;return s.set(1-d-p,p,d)}static containsPoint(t,n,i,r){return this.getBarycoord(t,n,i,r,zi),zi.x>=0&&zi.y>=0&&zi.x+zi.y<=1}static getUV(t,n,i,r,s,o,a,l){return this.getBarycoord(t,n,i,r,zi),l.set(0,0),l.addScaledVector(s,zi.x),l.addScaledVector(o,zi.y),l.addScaledVector(a,zi.z),l}static isFrontFacing(t,n,i,r){return ni.subVectors(i,n),Bi.subVectors(t,n),ni.cross(Bi).dot(r)<0}set(t,n,i){return this.a.copy(t),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(t,n,i,r){return this.a.copy(t[n]),this.b.copy(t[i]),this.c.copy(t[r]),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return ni.subVectors(this.c,this.b),Bi.subVectors(this.a,this.b),ni.cross(Bi).length()*.5}getMidpoint(t){return t===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new S),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return on.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new wi),t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,n){return on.getBarycoord(t,this.a,this.b,this.c,n)}getUV(t,n,i,r,s){return on.getUV(t,this.a,this.b,this.c,n,i,r,s)}containsPoint(t){return on.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return on.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,n){n===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),n=new S);const i=this.a,r=this.b,s=this.c;let o,a;Zs.subVectors(r,i),Js.subVectors(s,i),gd.subVectors(t,i);const l=Zs.dot(gd),c=Js.dot(gd);if(l<=0&&c<=0)return n.copy(i);yd.subVectors(t,r);const h=Zs.dot(yd),u=Js.dot(yd);if(h>=0&&u<=h)return n.copy(r);const f=l*u-h*c;if(f<=0&&l>=0&&h<=0)return o=l/(l-h),n.copy(i).addScaledVector(Zs,o);vd.subVectors(t,s);const d=Zs.dot(vd),p=Js.dot(vd);if(p>=0&&d<=p)return n.copy(s);const y=d*c-l*p;if(y<=0&&c>=0&&p<=0)return a=c/(c-p),n.copy(i).addScaledVector(Js,a);const v=h*p-d*u;if(v<=0&&u-h>=0&&d-p>=0)return $1.subVectors(s,r),a=(u-h)/(u-h+(d-p)),n.copy(r).addScaledVector($1,a);const g=1/(v+y+f);return o=y*g,a=f*g,n.copy(i).addScaledVector(Zs,o).addScaledVector(Js,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const eS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ii={h:0,s:0,l:0},Yc={h:0,s:0,l:0};function xd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}function wd(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function _d(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}class ve{constructor(t,n,i){return Object.defineProperty(this,"isColor",{value:!0}),n===void 0&&i===void 0?this.set(t):this.setRGB(t,n,i)}set(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,this}setRGB(t,n,i){return this.r=t,this.g=n,this.b=i,this}setHSL(t,n,i){if(t=Be.euclideanModulo(t,1),n=Be.clamp(n,0,1),i=Be.clamp(i,0,1),n===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+n):i+n-i*n,s=2*i-r;this.r=xd(s,r,t+1/3),this.g=xd(s,r,t),this.b=xd(s,r,t-1/3)}return this}setStyle(t){function n(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){let r;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,n(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,n(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){const a=parseFloat(r[1])/360,l=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return n(r[5]),this.setHSL(a,l,c)}break}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(t)){const r=i[1],s=r.length;if(s===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(s===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const n=eS[t];return n!==void 0?this.setHex(n):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,n){return n===void 0&&(n=2),this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}copyLinearToGamma(t,n){n===void 0&&(n=2);const i=n>0?1/n:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=wd(t.r),this.g=wd(t.g),this.b=wd(t.b),this}copyLinearToSRGB(t){return this.r=_d(t.r),this.g=_d(t.g),this.b=_d(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){t===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});const n=this.r,i=this.g,r=this.b,s=Math.max(n,i,r),o=Math.min(n,i,r);let a,l;const c=(o+s)/2;if(o===s)a=0,l=0;else{const h=s-o;switch(l=c<=.5?h/(s+o):h/(2-s-o),s){case n:a=(i-r)/h+(i<r?6:0);break;case i:a=(r-n)/h+2;break;case r:a=(n-i)/h+4;break}a/=6}return t.h=a,t.s=l,t.l=c,t}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(t,n,i){return this.getHSL(ii),ii.h+=t,ii.s+=n,ii.l+=i,this.setHSL(ii.h,ii.s,ii.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,n){return this.r=t.r+n.r,this.g=t.g+n.g,this.b=t.b+n.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,n){return this.r+=(t.r-this.r)*n,this.g+=(t.g-this.g)*n,this.b+=(t.b-this.b)*n,this}lerpHSL(t,n){this.getHSL(ii),t.getHSL(Yc);const i=Be.lerp(ii.h,Yc.h,n),r=Be.lerp(ii.s,Yc.s,n),s=Be.lerp(ii.l,Yc.l,n);return this.setHSL(i,r,s),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,n){return n===void 0&&(n=0),this.r=t[n],this.g=t[n+1],this.b=t[n+2],this}toArray(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t}fromBufferAttribute(t,n){return this.r=t.getX(n),this.g=t.getY(n),this.b=t.getZ(n),t.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}ve.NAMES=eS;ve.prototype.r=1;ve.prototype.g=1;ve.prototype.b=1;class om{constructor(t,n,i,r,s,o){this.a=t,this.b=n,this.c=i,this.normal=r&&r.isVector3?r:new S,this.vertexNormals=Array.isArray(r)?r:[],this.color=s&&s.isColor?s:new ve,this.vertexColors=Array.isArray(s)?s:[],this.materialIndex=o!==void 0?o:0}clone(){return new this.constructor().copy(this)}copy(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(let n=0,i=t.vertexNormals.length;n<i;n++)this.vertexNormals[n]=t.vertexNormals[n].clone();for(let n=0,i=t.vertexColors.length;n<i;n++)this.vertexColors[n]=t.vertexColors[n].clone();return this}}let k8=0;function Ie(){Object.defineProperty(this,"id",{value:k8++}),this.uuid=Be.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=sl,this.side=sh,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=YM,this.blendDst=$M,this.blendEquation=ao,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=tm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=S8,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ad,this.stencilZFail=ad,this.stencilZPass=ad,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}Ie.prototype=Object.assign(Object.create(rr.prototype),{constructor:Ie,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===qM;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}},toJSON:function(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,this.combine!==void 0&&(n.combine=this.combine),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(n.size=this.size),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==sl&&(n.blending=this.blending),this.flatShading===!0&&(n.flatShading=this.flatShading),this.side!==sh&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.morphNormals===!0&&(n.morphNormals=!0),this.skinning===!0&&(n.skinning=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function i(r){const s=[];for(const o in r){const a=r[o];delete a.metadata,s.push(a)}return s}if(t){const r=i(e.textures),s=i(e.images);r.length>0&&(n.textures=r),s.length>0&&(n.images=s)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(Ie.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function As(e){Ie.call(this),this.type="MeshBasicMaterial",this.color=new ve(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=oh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}As.prototype=Object.create(Ie.prototype);As.prototype.constructor=As;As.prototype.isMeshBasicMaterial=!0;As.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};const rt=new S,$c=new Z;function Oe(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=fh,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(Oe.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Oe.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new ve),t[n++]=s.r,t[n++]=s.g,t[n++]=s.b}return this},copyVector2sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new Z),t[n++]=s.x,t[n++]=s.y}return this},copyVector3sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new S),t[n++]=s.x,t[n++]=s.y,t[n++]=s.z}return this},copyVector4sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new et),t[n++]=s.x,t[n++]=s.y,t[n++]=s.z,t[n++]=s.w}return this},applyMatrix3:function(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)$c.fromBufferAttribute(this,t),$c.applyMatrix3(e),this.setXY(t,$c.x,$c.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)rt.fromBufferAttribute(this,t),rt.applyMatrix3(e),this.setXYZ(t,rt.x,rt.y,rt.z);return this},applyMatrix4:function(e){for(let t=0,n=this.count;t<n;t++)rt.x=this.getX(t),rt.y=this.getY(t),rt.z=this.getZ(t),rt.applyMatrix4(e),this.setXYZ(t,rt.x,rt.y,rt.z);return this},applyNormalMatrix:function(e){for(let t=0,n=this.count;t<n;t++)rt.x=this.getX(t),rt.y=this.getY(t),rt.z=this.getZ(t),rt.applyNormalMatrix(e),this.setXYZ(t,rt.x,rt.y,rt.z);return this},transformDirection:function(e){for(let t=0,n=this.count;t<n;t++)rt.x=this.getX(t),rt.y=this.getY(t),rt.z=this.getZ(t),rt.transformDirection(e),this.setXYZ(t,rt.x,rt.y,rt.z);return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function am(e,t,n){Oe.call(this,new Int8Array(e),t,n)}am.prototype=Object.create(Oe.prototype);am.prototype.constructor=am;function lm(e,t,n){Oe.call(this,new Uint8Array(e),t,n)}lm.prototype=Object.create(Oe.prototype);lm.prototype.constructor=lm;function cm(e,t,n){Oe.call(this,new Uint8ClampedArray(e),t,n)}cm.prototype=Object.create(Oe.prototype);cm.prototype.constructor=cm;function um(e,t,n){Oe.call(this,new Int16Array(e),t,n)}um.prototype=Object.create(Oe.prototype);um.prototype.constructor=um;function zl(e,t,n){Oe.call(this,new Uint16Array(e),t,n)}zl.prototype=Object.create(Oe.prototype);zl.prototype.constructor=zl;function fm(e,t,n){Oe.call(this,new Int32Array(e),t,n)}fm.prototype=Object.create(Oe.prototype);fm.prototype.constructor=fm;function Ul(e,t,n){Oe.call(this,new Uint32Array(e),t,n)}Ul.prototype=Object.create(Oe.prototype);Ul.prototype.constructor=Ul;function we(e,t,n){Oe.call(this,new Float32Array(e),t,n)}we.prototype=Object.create(Oe.prototype);we.prototype.constructor=we;function hm(e,t,n){Oe.call(this,new Float64Array(e),t,n)}hm.prototype=Object.create(Oe.prototype);hm.prototype.constructor=hm;class F8{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(t){const n=[];let i,r,s;const o=t.faces;for(r=0;r<o.length;r++){const a=o[r];a.materialIndex!==s&&(s=a.materialIndex,i!==void 0&&(i.count=r*3-i.start,n.push(i)),i={start:r*3,materialIndex:s})}i!==void 0&&(i.count=r*3-i.start,n.push(i)),this.groups=n}fromGeometry(t){const n=t.faces,i=t.vertices,r=t.faceVertexUvs,s=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,a=t.morphTargets,l=a.length;let c;if(l>0){c=[];for(let g=0;g<l;g++)c[g]={name:a[g].name,data:[]};this.morphTargets.position=c}const h=t.morphNormals,u=h.length;let f;if(u>0){f=[];for(let g=0;g<u;g++)f[g]={name:h[g].name,data:[]};this.morphTargets.normal=f}const d=t.skinIndices,p=t.skinWeights,y=d.length===i.length,v=p.length===i.length;i.length>0&&n.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let g=0;g<n.length;g++){const m=n[g];this.vertices.push(i[m.a],i[m.b],i[m.c]);const x=m.vertexNormals;if(x.length===3)this.normals.push(x[0],x[1],x[2]);else{const b=m.normal;this.normals.push(b,b,b)}const w=m.vertexColors;if(w.length===3)this.colors.push(w[0],w[1],w[2]);else{const b=m.color;this.colors.push(b,b,b)}if(s===!0){const b=r[0][g];b!==void 0?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",g),this.uvs.push(new Z,new Z,new Z))}if(o===!0){const b=r[1][g];b!==void 0?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",g),this.uvs2.push(new Z,new Z,new Z))}for(let b=0;b<l;b++){const _=a[b].vertices;c[b].data.push(_[m.a],_[m.b],_[m.c])}for(let b=0;b<u;b++){const _=h[b].vertexNormals[g];f[b].data.push(_.a,_.b,_.c)}y&&this.skinIndices.push(d[m.a],d[m.b],d[m.c]),v&&this.skinWeights.push(p[m.a],p[m.b],p[m.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),this}}function tS(e){if(e.length===0)return-1/0;let t=e[0];for(let n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}let B8=1;const yi=new He,bd=new Ee,Ks=new S,Tn=new sr,Ra=new sr,Nt=new S;function Ue(){Object.defineProperty(this,"id",{value:B8+=2}),this.uuid=Be.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Ue.prototype=Object.assign(Object.create(rr.prototype),{constructor:Ue,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(tS(e)>65535?Ul:zl)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n!==void 0?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const r=new vn().getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(e){return yi.makeRotationX(e),this.applyMatrix4(yi),this},rotateY:function(e){return yi.makeRotationY(e),this.applyMatrix4(yi),this},rotateZ:function(e){return yi.makeRotationZ(e),this.applyMatrix4(yi),this},translate:function(e,t,n){return yi.makeTranslation(e,t,n),this.applyMatrix4(yi),this},scale:function(e,t,n){return yi.makeScale(e,t,n),this.applyMatrix4(yi),this},lookAt:function(e){return bd.lookAt(e),bd.updateMatrix(),this.applyMatrix4(bd.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ks).negate(),this.translate(Ks.x,Ks.y,Ks.z),this},setFromObject:function(e){const t=e.geometry;if(e.isPoints||e.isLine){const n=new we(t.vertices.length*3,3),i=new we(t.colors.length*3,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){const r=new we(t.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(t.lineDistances))}t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){const t=[];for(let n=0,i=e.length;n<i;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new we(t,3)),this},updateFromObject:function(e){let t=e.geometry;if(e.isMesh){let n=t.__directGeometry;if(t.elementsNeedUpdate===!0&&(n=void 0,t.elementsNeedUpdate=!1),n===void 0)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}if(t.verticesNeedUpdate===!0){const n=this.attributes.position;n!==void 0&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1}if(t.normalsNeedUpdate===!0){const n=this.attributes.normal;n!==void 0&&(n.copyVector3sArray(t.normals),n.needsUpdate=!0),t.normalsNeedUpdate=!1}if(t.colorsNeedUpdate===!0){const n=this.attributes.color;n!==void 0&&(n.copyColorsArray(t.colors),n.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){const n=this.attributes.uv;n!==void 0&&(n.copyVector2sArray(t.uvs),n.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){const n=this.attributes.lineDistance;n!==void 0&&(n.copyArray(t.lineDistances),n.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new F8().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){const t=new Float32Array(e.vertices.length*3);if(this.setAttribute("position",new Oe(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){const n=new Float32Array(e.normals.length*3);this.setAttribute("normal",new Oe(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const n=new Float32Array(e.colors.length*3);this.setAttribute("color",new Oe(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const n=new Float32Array(e.uvs.length*2);this.setAttribute("uv",new Oe(n,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const n=new Float32Array(e.uvs2.length*2);this.setAttribute("uv2",new Oe(n,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(const n in e.morphTargets){const i=[],r=e.morphTargets[n];for(let s=0,o=r.length;s<o;s++){const a=r[s],l=new we(a.data.length*3,3);l.name=a.name,i.push(l.copyVector3sArray(a.data))}this.morphAttributes[n]=i}if(e.skinIndices.length>0){const n=new we(e.skinIndices.length*4,4);this.setAttribute("skinIndex",n.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const n=new we(e.skinWeights.length*4,4);this.setAttribute("skinWeight",n.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new sr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new S(-1/0,-1/0,-1/0),new S(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const r=t[n];Tn.setFromBufferAttribute(r),this.morphTargetsRelative?(Nt.addVectors(this.boundingBox.min,Tn.min),this.boundingBox.expandByPoint(Nt),Nt.addVectors(this.boundingBox.max,Tn.max),this.boundingBox.expandByPoint(Nt)):(this.boundingBox.expandByPoint(Tn.min),this.boundingBox.expandByPoint(Tn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new $r);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new S,1/0);return}if(e){const n=this.boundingSphere.center;if(Tn.setFromBufferAttribute(e),t)for(let r=0,s=t.length;r<s;r++){const o=t[r];Ra.setFromBufferAttribute(o),this.morphTargetsRelative?(Nt.addVectors(Tn.min,Ra.min),Tn.expandByPoint(Nt),Nt.addVectors(Tn.max,Ra.max),Tn.expandByPoint(Nt)):(Tn.expandByPoint(Ra.min),Tn.expandByPoint(Ra.max))}Tn.getCenter(n);let i=0;for(let r=0,s=e.count;r<s;r++)Nt.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(Nt));if(t)for(let r=0,s=t.length;r<s;r++){const o=t[r],a=this.morphTargetsRelative;for(let l=0,c=o.count;l<c;l++)Nt.fromBufferAttribute(o,l),a&&(Ks.fromBufferAttribute(e,l),Nt.add(Ks)),i=Math.max(i,n.distanceToSquared(Nt))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Oe(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let u=0,f=n.count;u<f;u++)n.setXYZ(u,0,0,0);const i=new S,r=new S,s=new S,o=new S,a=new S,l=new S,c=new S,h=new S;if(e)for(let u=0,f=e.count;u<f;u+=3){const d=e.getX(u+0),p=e.getX(u+1),y=e.getX(u+2);i.fromBufferAttribute(t,d),r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,y),c.subVectors(s,r),h.subVectors(i,r),c.cross(h),o.fromBufferAttribute(n,d),a.fromBufferAttribute(n,p),l.fromBufferAttribute(n,y),o.add(c),a.add(c),l.add(c),n.setXYZ(d,o.x,o.y,o.z),n.setXYZ(p,a.x,a.y,a.z),n.setXYZ(y,l.x,l.y,l.z)}else for(let u=0,f=t.count;u<f;u+=3)i.fromBufferAttribute(t,u+0),r.fromBufferAttribute(t,u+1),s.fromBufferAttribute(t,u+2),c.subVectors(s,r),h.subVectors(i,r),c.cross(h),n.setXYZ(u+0,c.x,c.y,c.z),n.setXYZ(u+1,c.x,c.y,c.z),n.setXYZ(u+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(e.attributes[i]===void 0)continue;const s=n[i].array,o=e.attributes[i],a=o.array,l=o.itemSize*t,c=Math.min(a.length,s.length-l);for(let h=0,u=l;h<c;h++,u++)s[u]=a[h]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Nt.fromBufferAttribute(e,t),Nt.normalize(),e.setXYZ(t,Nt.x,Nt.y,Nt.z)},toNonIndexed:function(){function e(o,a){const l=o.array,c=o.itemSize,h=o.normalized,u=new l.constructor(a.length*c);let f=0,d=0;for(let p=0,y=a.length;p<y;p++){f=a[p]*c;for(let v=0;v<c;v++)u[d++]=l[f++]}return new Oe(u,c,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const t=new Ue,n=this.index.array,i=this.attributes;for(const o in i){const a=i[o],l=e(a,n);t.setAttribute(o,l)}const r=this.morphAttributes;for(const o in r){const a=[],l=r[o];for(let c=0,h=l.length;c<h;c++){const u=l[c],f=e(u,n);a.push(f)}t.morphAttributes[o]=a}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,a=s.length;o<a;o++){const l=s[o];t.addGroup(l.start,l.count,l.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const a=this.parameters;for(const l in a)a[l]!==void 0&&(e[l]=a[l]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const a in n){const l=n[a],c=l.toJSON(e.data);l.name!==""&&(c.name=l.name),e.data.attributes[a]=c}const i={};let r=!1;for(const a in this.morphAttributes){const l=this.morphAttributes[a],c=[];for(let h=0,u=l.length;h<u;h++){const f=l[h],d=f.toJSON(e.data);f.name!==""&&(d.name=f.name),c.push(d)}c.length>0&&(i[a]=c,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e},clone:function(){return new Ue().copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const l in i){const c=i[l];this.setAttribute(l,c.clone(t))}const r=e.morphAttributes;for(const l in r){const c=[],h=r[l];for(let u=0,f=h.length;u<f;u++)c.push(h[u].clone(t));this.morphAttributes[l]=c}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let l=0,c=s.length;l<c;l++){const h=s[l];this.addGroup(h.start,h.count,h.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const a=e.boundingSphere;return a!==null&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Z1=new He,is=new yc,Md=new $r,fr=new S,hr=new S,dr=new S,Sd=new S,Td=new S,Ed=new S,Zc=new S,Jc=new S,Kc=new S,Ao=new Z,Po=new Z,Lo=new Z,ll=new S,Qc=new S;function Ft(e,t){Ee.call(this),this.type="Mesh",this.geometry=e!==void 0?e:new Ue,this.material=t!==void 0?t:new As,this.updateMorphTargets()}Ft.prototype=Object.assign(Object.create(Ee.prototype),{constructor:Ft,isMesh:!0,copy:function(e){return Ee.prototype.copy.call(this,e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=i.length;r<s;r++){const o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),Md.copy(n.boundingSphere),Md.applyMatrix4(r),e.ray.intersectsSphere(Md)===!1)||(Z1.getInverse(r),is.copy(e.ray).applyMatrix4(Z1),n.boundingBox!==null&&is.intersectsBox(n.boundingBox)===!1))return;let s;if(n.isBufferGeometry){const o=n.index,a=n.attributes.position,l=n.morphAttributes.position,c=n.morphTargetsRelative,h=n.attributes.uv,u=n.attributes.uv2,f=n.groups,d=n.drawRange;if(o!==null)if(Array.isArray(i))for(let p=0,y=f.length;p<y;p++){const v=f[p],g=i[v.materialIndex],m=Math.max(v.start,d.start),x=Math.min(v.start+v.count,d.start+d.count);for(let w=m,b=x;w<b;w+=3){const _=o.getX(w),M=o.getX(w+1),E=o.getX(w+2);s=eu(this,g,e,is,a,l,c,h,u,_,M,E),s&&(s.faceIndex=Math.floor(w/3),s.face.materialIndex=v.materialIndex,t.push(s))}}else{const p=Math.max(0,d.start),y=Math.min(o.count,d.start+d.count);for(let v=p,g=y;v<g;v+=3){const m=o.getX(v),x=o.getX(v+1),w=o.getX(v+2);s=eu(this,i,e,is,a,l,c,h,u,m,x,w),s&&(s.faceIndex=Math.floor(v/3),t.push(s))}}else if(a!==void 0)if(Array.isArray(i))for(let p=0,y=f.length;p<y;p++){const v=f[p],g=i[v.materialIndex],m=Math.max(v.start,d.start),x=Math.min(v.start+v.count,d.start+d.count);for(let w=m,b=x;w<b;w+=3){const _=w,M=w+1,E=w+2;s=eu(this,g,e,is,a,l,c,h,u,_,M,E),s&&(s.faceIndex=Math.floor(w/3),s.face.materialIndex=v.materialIndex,t.push(s))}}else{const p=Math.max(0,d.start),y=Math.min(a.count,d.start+d.count);for(let v=p,g=y;v<g;v+=3){const m=v,x=v+1,w=v+2;s=eu(this,i,e,is,a,l,c,h,u,m,x,w),s&&(s.faceIndex=Math.floor(v/3),t.push(s))}}}else if(n.isGeometry){const o=Array.isArray(i),a=n.vertices,l=n.faces;let c;const h=n.faceVertexUvs[0];h.length>0&&(c=h);for(let u=0,f=l.length;u<f;u++){const d=l[u],p=o?i[d.materialIndex]:i;if(p===void 0)continue;const y=a[d.a],v=a[d.b],g=a[d.c];if(s=nS(this,p,e,is,y,v,g,ll),s){if(c&&c[u]){const m=c[u];Ao.copy(m[0]),Po.copy(m[1]),Lo.copy(m[2]),s.uv=on.getUV(ll,y,v,g,Ao,Po,Lo,new Z)}s.face=d,s.faceIndex=u,t.push(s)}}}}});function nS(e,t,n,i,r,s,o,a){let l;if(t.side===Vt?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,t.side!==pc,a),l===null)return null;Qc.copy(a),Qc.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(Qc);return c<n.near||c>n.far?null:{distance:c,point:Qc.clone(),object:e}}function eu(e,t,n,i,r,s,o,a,l,c,h,u){fr.fromBufferAttribute(r,c),hr.fromBufferAttribute(r,h),dr.fromBufferAttribute(r,u);const f=e.morphTargetInfluences;if(t.morphTargets&&s&&f){Zc.set(0,0,0),Jc.set(0,0,0),Kc.set(0,0,0);for(let p=0,y=s.length;p<y;p++){const v=f[p],g=s[p];v!==0&&(Sd.fromBufferAttribute(g,c),Td.fromBufferAttribute(g,h),Ed.fromBufferAttribute(g,u),o?(Zc.addScaledVector(Sd,v),Jc.addScaledVector(Td,v),Kc.addScaledVector(Ed,v)):(Zc.addScaledVector(Sd.sub(fr),v),Jc.addScaledVector(Td.sub(hr),v),Kc.addScaledVector(Ed.sub(dr),v)))}fr.add(Zc),hr.add(Jc),dr.add(Kc)}e.isSkinnedMesh&&(e.boneTransform(c,fr),e.boneTransform(h,hr),e.boneTransform(u,dr));const d=nS(e,t,n,i,fr,hr,dr,ll);if(d){a&&(Ao.fromBufferAttribute(a,c),Po.fromBufferAttribute(a,h),Lo.fromBufferAttribute(a,u),d.uv=on.getUV(ll,fr,hr,dr,Ao,Po,Lo,new Z)),l&&(Ao.fromBufferAttribute(l,c),Po.fromBufferAttribute(l,h),Lo.fromBufferAttribute(l,u),d.uv2=on.getUV(ll,fr,hr,dr,Ao,Po,Lo,new Z));const p=new om(c,h,u);on.getNormal(fr,hr,dr,p.normal),d.face=p}return d}let z8=0;const vi=new He,Cd=new Ee,tu=new S;function Je(){Object.defineProperty(this,"id",{value:z8+=2}),this.uuid=Be.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Je.prototype=Object.assign(Object.create(rr.prototype),{constructor:Je,isGeometry:!0,applyMatrix4:function(e){const t=new vn().getNormalMatrix(e);for(let n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(let s=0,o=r.vertexNormals.length;s<o;s++)r.vertexNormals[s].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return vi.makeRotationX(e),this.applyMatrix4(vi),this},rotateY:function(e){return vi.makeRotationY(e),this.applyMatrix4(vi),this},rotateZ:function(e){return vi.makeRotationZ(e),this.applyMatrix4(vi),this},translate:function(e,t,n){return vi.makeTranslation(e,t,n),this.applyMatrix4(vi),this},scale:function(e,t,n){return vi.makeScale(e,t,n),this.applyMatrix4(vi),this},lookAt:function(e){return Cd.lookAt(e),Cd.updateMatrix(),this.applyMatrix4(Cd.matrix),this},fromBufferGeometry:function(e){const t=this,n=e.index!==null?e.index:void 0,i=e.attributes;if(i.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const r=i.position,s=i.normal,o=i.color,a=i.uv,l=i.uv2;l!==void 0&&(this.faceVertexUvs[1]=[]);for(let u=0;u<r.count;u++)t.vertices.push(new S().fromBufferAttribute(r,u)),o!==void 0&&t.colors.push(new ve().fromBufferAttribute(o,u));function c(u,f,d,p){const y=o===void 0?[]:[t.colors[u].clone(),t.colors[f].clone(),t.colors[d].clone()],v=s===void 0?[]:[new S().fromBufferAttribute(s,u),new S().fromBufferAttribute(s,f),new S().fromBufferAttribute(s,d)],g=new om(u,f,d,v,y,p);t.faces.push(g),a!==void 0&&t.faceVertexUvs[0].push([new Z().fromBufferAttribute(a,u),new Z().fromBufferAttribute(a,f),new Z().fromBufferAttribute(a,d)]),l!==void 0&&t.faceVertexUvs[1].push([new Z().fromBufferAttribute(l,u),new Z().fromBufferAttribute(l,f),new Z().fromBufferAttribute(l,d)])}const h=e.groups;if(h.length>0)for(let u=0;u<h.length;u++){const f=h[u],d=f.start,p=f.count;for(let y=d,v=d+p;y<v;y+=3)n!==void 0?c(n.getX(y),n.getX(y+1),n.getX(y+2),f.materialIndex):c(y,y+1,y+2,f.materialIndex)}else if(n!==void 0)for(let u=0;u<n.count;u+=3)c(n.getX(u),n.getX(u+1),n.getX(u+2));else for(let u=0;u<r.count;u+=3)c(u,u+1,u+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(tu).negate(),this.translate(tu.x,tu.y,tu.z),this},normalize:function(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,n=t===0?1:1/t,i=new He;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){const e=new S,t=new S;for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n],s=this.vertices[r.a],o=this.vertices[r.b],a=this.vertices[r.c];e.subVectors(a,o),t.subVectors(s,o),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){e===void 0&&(e=!0);const t=new Array(this.vertices.length);for(let n=0,i=this.vertices.length;n<i;n++)t[n]=new S;if(e){const n=new S,i=new S;for(let r=0,s=this.faces.length;r<s;r++){const o=this.faces[r],a=this.vertices[o.a],l=this.vertices[o.b],c=this.vertices[o.c];n.subVectors(c,l),i.subVectors(a,l),n.cross(i),t[o.a].add(n),t[o.b].add(n),t[o.c].add(n)}}else{this.computeFaceNormals();for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n];t[r.a].add(r.normal),t[r.b].add(r.normal),t[r.c].add(r.normal)}}for(let n=0,i=this.vertices.length;n<i;n++)t[n].normalize();for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n],s=r.vertexNormals;s.length===3?(s[0].copy(t[r.a]),s[1].copy(t[r.b]),s[2].copy(t[r.c])):(s[0]=t[r.a].clone(),s[1]=t[r.b].clone(),s[2]=t[r.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const n=this.faces[e],i=n.vertexNormals;i.length===3?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let r=0,s=i.vertexNormals.length;r<s;r++)i.__originalVertexNormals[r]?i.__originalVertexNormals[r].copy(i.vertexNormals[r]):i.__originalVertexNormals[r]=i.vertexNormals[r].clone()}const e=new Je;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const r=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(let o=0,a=this.faces.length;o<a;o++){const l=new S,c={a:new S,b:new S,c:new S};r.push(l),s.push(c)}}const i=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let r=0,s=this.faces.length;r<s;r++){const o=this.faces[r],a=i.faceNormals[r],l=i.vertexNormals[r];a.copy(o.normal),l.a.copy(o.vertexNormals[0]),l.b.copy(o.vertexNormals[1]),l.c.copy(o.vertexNormals[2])}}for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new sr),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new $r),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let i;const r=this.vertices.length,s=this.vertices,o=e.vertices,a=this.faces,l=e.faces,c=this.colors,h=e.colors;n===void 0&&(n=0),t!==void 0&&(i=new vn().getNormalMatrix(t));for(let u=0,f=o.length;u<f;u++){const p=o[u].clone();t!==void 0&&p.applyMatrix4(t),s.push(p)}for(let u=0,f=h.length;u<f;u++)c.push(h[u].clone());for(let u=0,f=l.length;u<f;u++){const d=l[u];let p,y;const v=d.vertexNormals,g=d.vertexColors,m=new om(d.a+r,d.b+r,d.c+r);m.normal.copy(d.normal),i!==void 0&&m.normal.applyMatrix3(i).normalize();for(let x=0,w=v.length;x<w;x++)p=v[x].clone(),i!==void 0&&p.applyMatrix3(i).normalize(),m.vertexNormals.push(p);m.color.copy(d.color);for(let x=0,w=g.length;x<w;x++)y=g[x],m.vertexColors.push(y.clone());m.materialIndex=d.materialIndex+n,a.push(m)}for(let u=0,f=e.faceVertexUvs.length;u<f;u++){const d=e.faceVertexUvs[u];this.faceVertexUvs[u]===void 0&&(this.faceVertexUvs[u]=[]);for(let p=0,y=d.length;p<y;p++){const v=d[p],g=[];for(let m=0,x=v.length;m<x;m++)g.push(v[m].clone());this.faceVertexUvs[u].push(g)}}},mergeMesh:function(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){const e={},t=[],n=[],r=Math.pow(10,4);for(let a=0,l=this.vertices.length;a<l;a++){const c=this.vertices[a],h=Math.round(c.x*r)+"_"+Math.round(c.y*r)+"_"+Math.round(c.z*r);e[h]===void 0?(e[h]=a,t.push(this.vertices[a]),n[a]=t.length-1):n[a]=n[e[h]]}const s=[];for(let a=0,l=this.faces.length;a<l;a++){const c=this.faces[a];c.a=n[c.a],c.b=n[c.b],c.c=n[c.c];const h=[c.a,c.b,c.c];for(let u=0;u<3;u++)if(h[u]===h[(u+1)%3]){s.push(a);break}}for(let a=s.length-1;a>=0;a--){const l=s[a];this.faces.splice(l,1);for(let c=0,h=this.faceVertexUvs.length;c<h;c++)this.faceVertexUvs[c].splice(l,1)}const o=this.vertices.length-t.length;return this.vertices=t,o},setFromPoints:function(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){const i=e[t];this.vertices.push(new S(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){const e=this.faces,t=e.length;for(let a=0;a<t;a++)e[a]._id=a;function n(a,l){return a.materialIndex-l.materialIndex}e.sort(n);const i=this.faceVertexUvs[0],r=this.faceVertexUvs[1];let s,o;i&&i.length===t&&(s=[]),r&&r.length===t&&(o=[]);for(let a=0;a<t;a++){const l=e[a]._id;s&&s.push(i[l]),o&&o.push(r[l])}s&&(this.faceVertexUvs[0]=s),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){const d=this.parameters;for(const p in d)d[p]!==void 0&&(e[p]=d[p]);return e}const t=[];for(let d=0;d<this.vertices.length;d++){const p=this.vertices[d];t.push(p.x,p.y,p.z)}const n=[],i=[],r={},s=[],o={},a=[],l={};for(let d=0;d<this.faces.length;d++){const p=this.faces[d],y=!0,v=!1,g=this.faceVertexUvs[0][d]!==void 0,m=p.normal.length()>0,x=p.vertexNormals.length>0,w=p.color.r!==1||p.color.g!==1||p.color.b!==1,b=p.vertexColors.length>0;let _=0;if(_=c(_,0,0),_=c(_,1,y),_=c(_,2,v),_=c(_,3,g),_=c(_,4,m),_=c(_,5,x),_=c(_,6,w),_=c(_,7,b),n.push(_),n.push(p.a,p.b,p.c),n.push(p.materialIndex),g){const M=this.faceVertexUvs[0][d];n.push(f(M[0]),f(M[1]),f(M[2]))}if(m&&n.push(h(p.normal)),x){const M=p.vertexNormals;n.push(h(M[0]),h(M[1]),h(M[2]))}if(w&&n.push(u(p.color)),b){const M=p.vertexColors;n.push(u(M[0]),u(M[1]),u(M[2]))}}function c(d,p,y){return y?d|1<<p:d&~(1<<p)}function h(d){const p=d.x.toString()+d.y.toString()+d.z.toString();return r[p]!==void 0||(r[p]=i.length/3,i.push(d.x,d.y,d.z)),r[p]}function u(d){const p=d.r.toString()+d.g.toString()+d.b.toString();return o[p]!==void 0||(o[p]=s.length,s.push(d.getHex())),o[p]}function f(d){const p=d.x.toString()+d.y.toString();return l[p]!==void 0||(l[p]=a.length/2,a.push(d.x,d.y)),l[p]}return e.data={},e.data.vertices=t,e.data.normals=i,s.length>0&&(e.data.colors=s),a.length>0&&(e.data.uvs=[a]),e.data.faces=n,e},clone:function(){return new Je().copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let u=0,f=t.length;u<f;u++)this.vertices.push(t[u].clone());const n=e.colors;for(let u=0,f=n.length;u<f;u++)this.colors.push(n[u].clone());const i=e.faces;for(let u=0,f=i.length;u<f;u++)this.faces.push(i[u].clone());for(let u=0,f=e.faceVertexUvs.length;u<f;u++){const d=e.faceVertexUvs[u];this.faceVertexUvs[u]===void 0&&(this.faceVertexUvs[u]=[]);for(let p=0,y=d.length;p<y;p++){const v=d[p],g=[];for(let m=0,x=v.length;m<x;m++){const w=v[m];g.push(w.clone())}this.faceVertexUvs[u].push(g)}}const r=e.morphTargets;for(let u=0,f=r.length;u<f;u++){const d={};if(d.name=r[u].name,r[u].vertices!==void 0){d.vertices=[];for(let p=0,y=r[u].vertices.length;p<y;p++)d.vertices.push(r[u].vertices[p].clone())}if(r[u].normals!==void 0){d.normals=[];for(let p=0,y=r[u].normals.length;p<y;p++)d.normals.push(r[u].normals[p].clone())}this.morphTargets.push(d)}const s=e.morphNormals;for(let u=0,f=s.length;u<f;u++){const d={};if(s[u].vertexNormals!==void 0){d.vertexNormals=[];for(let p=0,y=s[u].vertexNormals.length;p<y;p++){const v=s[u].vertexNormals[p],g={};g.a=v.a.clone(),g.b=v.b.clone(),g.c=v.c.clone(),d.vertexNormals.push(g)}}if(s[u].faceNormals!==void 0){d.faceNormals=[];for(let p=0,y=s[u].faceNormals.length;p<y;p++)d.faceNormals.push(s[u].faceNormals[p].clone())}this.morphNormals.push(d)}const o=e.skinWeights;for(let u=0,f=o.length;u<f;u++)this.skinWeights.push(o[u].clone());const a=e.skinIndices;for(let u=0,f=a.length;u<f;u++)this.skinIndices.push(a[u].clone());const l=e.lineDistances;for(let u=0,f=l.length;u<f;u++)this.lineDistances.push(l[u]);const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class U8 extends Je{constructor(t,n,i,r,s,o){super(),this.type="BoxGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o},this.fromBufferGeometry(new hh(t,n,i,r,s,o)),this.mergeVertices()}}class hh extends Ue{constructor(t=1,n=1,i=1,r=1,s=1,o=1){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],h=[],u=[];let f=0,d=0;p("z","y","x",-1,-1,i,n,t,o,s,0),p("z","y","x",1,-1,i,n,-t,o,s,1),p("x","z","y",1,1,t,i,n,r,o,2),p("x","z","y",1,-1,t,i,-n,r,o,3),p("x","y","z",1,-1,t,n,i,r,s,4),p("x","y","z",-1,-1,t,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new we(c,3)),this.setAttribute("normal",new we(h,3)),this.setAttribute("uv",new we(u,2));function p(y,v,g,m,x,w,b,_,M,E,P){const I=w/M,N=b/E,R=w/2,F=b/2,L=_/2,O=M+1,B=E+1;let V=0,k=0;const U=new S;for(let H=0;H<B;H++){const X=H*N-F;for(let ie=0;ie<O;ie++){const de=ie*I-R;U[y]=de*m,U[v]=X*x,U[g]=L,c.push(U.x,U.y,U.z),U[y]=0,U[v]=0,U[g]=_>0?1:-1,h.push(U.x,U.y,U.z),u.push(ie/M),u.push(1-H/E),V+=1}}for(let H=0;H<E;H++)for(let X=0;X<M;X++){const ie=f+X+O*H,de=f+X+O*(H+1),Se=f+(X+1)+O*(H+1),j=f+(X+1)+O*H;l.push(ie,de,j),l.push(de,Se,j),k+=6}a.addGroup(d,k,P),d+=k,f+=V}}}function Zo(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function qt(e){const t={};for(let n=0;n<e.length;n++){const i=Zo(e[n]);for(const r in i)t[r]=i[r]}return t}const V8={clone:Zo,merge:qt};var G8=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,H8=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function Mn(e){Ie.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=G8,this.fragmentShader=H8,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}Mn.prototype=Object.create(Ie.prototype);Mn.prototype.constructor=Mn;Mn.prototype.isShaderMaterial=!0;Mn.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Zo(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this};Mn.prototype.toJSON=function(e){const t=Ie.prototype.toJSON.call(this,e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t};function Ki(){Ee.call(this),this.type="Camera",this.matrixWorldInverse=new He,this.projectionMatrix=new He,this.projectionMatrixInverse=new He}Ki.prototype=Object.assign(Object.create(Ee.prototype),{constructor:Ki,isCamera:!0,copy:function(e,t){return Ee.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new S),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Ee.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){Ee.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}});function Tt(e,t,n,i){Ki.call(this),this.type="PerspectiveCamera",this.fov=e!==void 0?e:50,this.zoom=1,this.near=n!==void 0?n:.1,this.far=i!==void 0?i:2e3,this.focus=10,this.aspect=t!==void 0?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Tt.prototype=Object.assign(Object.create(Ki.prototype),{constructor:Tt,isPerspectiveCamera:!0,copy:function(e,t){return Ki.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=Be.RAD2DEG*2*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(Be.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return Be.RAD2DEG*2*Math.atan(Math.tan(Be.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=this.near;let t=e*Math.tan(Be.DEG2RAD*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const a=s.fullWidth,l=s.fullHeight;r+=s.offsetX*i/a,t-=s.offsetY*n/l,i*=s.width/a,n*=s.height/l}const o=this.filmOffset;o!==0&&(r+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=Ee.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});const Qs=90,eo=1;function Vl(e,t,n){if(Ee.call(this),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const i=new Tt(Qs,eo,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new S(1,0,0)),this.add(i);const r=new Tt(Qs,eo,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new S(-1,0,0)),this.add(r);const s=new Tt(Qs,eo,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new S(0,1,0)),this.add(s);const o=new Tt(Qs,eo,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new S(0,-1,0)),this.add(o);const a=new Tt(Qs,eo,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new S(0,0,1)),this.add(a);const l=new Tt(Qs,eo,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new S(0,0,-1)),this.add(l),this.update=function(c,h){this.parent===null&&this.updateMatrixWorld();const u=c.xr.enabled,f=c.getRenderTarget();c.xr.enabled=!1;const d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,c.setRenderTarget(n,0),c.render(h,i),c.setRenderTarget(n,1),c.render(h,r),c.setRenderTarget(n,2),c.render(h,s),c.setRenderTarget(n,3),c.render(h,o),c.setRenderTarget(n,4),c.render(h,a),n.texture.generateMipmaps=d,c.setRenderTarget(n,5),c.render(h,l),c.setRenderTarget(f),c.xr.enabled=u},this.clear=function(c,h,u,f){const d=c.getRenderTarget();for(let p=0;p<6;p++)c.setRenderTarget(n,p),c.clear(h,u,f);c.setRenderTarget(d)}}Vl.prototype=Object.create(Ee.prototype);Vl.prototype.constructor=Vl;function Jo(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),di.call(this,e,e,t),this.texture.isWebGLCubeRenderTargetTexture=!0}Jo.prototype=Object.create(di.prototype);Jo.prototype.constructor=Jo;Jo.prototype.isWebGLCubeRenderTarget=!0;Jo.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=hi,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

			varying vec3 vWorldDirection;

			vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

				return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

			}

			void main() {

				vWorldDirection = transformDirection( position, modelMatrix );

				#include <begin_vertex>
				#include <project_vertex>

			}
		`,fragmentShader:`

			uniform sampler2D tEquirect;

			varying vec3 vWorldDirection;

			#include <common>

			void main() {

				vec3 direction = normalize( vWorldDirection );

				vec2 sampleUV = equirectUv( direction );

				gl_FragColor = texture2D( tEquirect, sampleUV );

			}
		`},i=new hh(5,5,5),r=new Mn({name:"CubemapFromEquirect",uniforms:Zo(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Vt,blending:rl});r.uniforms.tEquirect.value=t;const s=new Ft(i,r),o=t.minFilter;return t.minFilter===mc&&(t.minFilter=Gt),new Vl(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this};function Ko(e,t,n,i,r,s,o,a,l,c,h,u){tt.call(this,null,s,o,a,l,c,i,r,h,u),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=l!==void 0?l:Zt,this.minFilter=c!==void 0?c:Zt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Ko.prototype=Object.create(tt.prototype);Ko.prototype.constructor=Ko;Ko.prototype.isDataTexture=!0;const to=new $r,nu=new S;class dh{constructor(t,n,i,r,s,o){this.planes=[t!==void 0?t:new wi,n!==void 0?n:new wi,i!==void 0?i:new wi,r!==void 0?r:new wi,s!==void 0?s:new wi,o!==void 0?o:new wi]}set(t,n,i,r,s,o){const a=this.planes;return a[0].copy(t),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}clone(){return new this.constructor().copy(this)}copy(t){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t){const n=this.planes,i=t.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],h=i[6],u=i[7],f=i[8],d=i[9],p=i[10],y=i[11],v=i[12],g=i[13],m=i[14],x=i[15];return n[0].setComponents(a-r,u-l,y-f,x-v).normalize(),n[1].setComponents(a+r,u+l,y+f,x+v).normalize(),n[2].setComponents(a+s,u+c,y+d,x+g).normalize(),n[3].setComponents(a-s,u-c,y-d,x-g).normalize(),n[4].setComponents(a-o,u-h,y-p,x-m).normalize(),n[5].setComponents(a+o,u+h,y+p,x+m).normalize(),this}intersectsObject(t){const n=t.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),to.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(to)}intersectsSprite(t){return to.center.set(0,0,0),to.radius=.7071067811865476,to.applyMatrix4(t.matrixWorld),this.intersectsSphere(to)}intersectsSphere(t){const n=this.planes,i=t.center,r=-t.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(t){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(nu.x=r.normal.x>0?t.max.x:t.min.x,nu.y=r.normal.y>0?t.max.y:t.min.y,nu.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(nu)<0)return!1}return!0}containsPoint(t){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(t)<0)return!1;return!0}}function iS(){let e=null,t=!1,n=null,i=null;function r(s,o){n(s,o),i=e.requestAnimationFrame(r)}return{start:function(){t!==!0&&n!==null&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(s){n=s},setContext:function(s){e=s}}}function W8(e,t){const n=t.isWebGL2,i=new WeakMap;function r(c,h){const u=c.array,f=c.usage,d=e.createBuffer();e.bindBuffer(h,d),e.bufferData(h,u,f),c.onUploadCallback();let p=5126;return u instanceof Float32Array?p=5126:u instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):u instanceof Uint16Array?p=5123:u instanceof Int16Array?p=5122:u instanceof Uint32Array?p=5125:u instanceof Int32Array?p=5124:u instanceof Int8Array?p=5120:u instanceof Uint8Array&&(p=5121),{buffer:d,type:p,bytesPerElement:u.BYTES_PER_ELEMENT,version:c.version}}function s(c,h,u){const f=h.array,d=h.updateRange;e.bindBuffer(u,c),d.count===-1?e.bufferSubData(u,0,f):(n?e.bufferSubData(u,d.offset*f.BYTES_PER_ELEMENT,f,d.offset,d.count):e.bufferSubData(u,d.offset*f.BYTES_PER_ELEMENT,f.subarray(d.offset,d.offset+d.count)),d.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);h&&(e.deleteBuffer(h.buffer),i.delete(c))}function l(c,h){if(c.isGLBufferAttribute){var u=i.get(c);(!u||u.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=i.get(c);f===void 0?i.set(c,r(c,h)):f.version<c.version&&(s(f.buffer,c,h),f.version=c.version)}return{get:o,remove:a,update:l}}class j8 extends Je{constructor(t,n,i,r){super(),this.type="PlaneGeometry",this.parameters={width:t,height:n,widthSegments:i,heightSegments:r},this.fromBufferGeometry(new ph(t,n,i,r)),this.mergeVertices()}}class ph extends Ue{constructor(t,n,i,r){super(),this.type="PlaneBufferGeometry",this.parameters={width:t,height:n,widthSegments:i,heightSegments:r},t=t||1,n=n||1;const s=t/2,o=n/2,a=Math.floor(i)||1,l=Math.floor(r)||1,c=a+1,h=l+1,u=t/a,f=n/l,d=[],p=[],y=[],v=[];for(let g=0;g<h;g++){const m=g*f-o;for(let x=0;x<c;x++){const w=x*u-s;p.push(w,-m,0),y.push(0,0,1),v.push(x/a),v.push(1-g/l)}}for(let g=0;g<l;g++)for(let m=0;m<a;m++){const x=m+c*g,w=m+c*(g+1),b=m+1+c*(g+1),_=m+1+c*g;d.push(x,w,_),d.push(w,b,_)}this.setIndex(d),this.setAttribute("position",new we(p,3)),this.setAttribute("normal",new we(y,3)),this.setAttribute("uv",new we(v,2))}}var X8=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,q8=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Y8=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,$8=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,Z8=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,J8="vec3 transformed = vec3( position );",K8=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Q8=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,eI=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,tI=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,nI=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,iI=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,rI=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,sI=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,oI=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,aI=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,lI=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor.xyz *= color.xyz;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,cI=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,uI=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,fI=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,hI=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,dI=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,pI=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,mI=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,gI="gl_FragColor = linearToOutputTexel( gl_FragColor );",yI=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,vI=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,xI=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,wI=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,_I=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,bI=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,MI=`#ifdef USE_FOG
	fogDepth = - mvPosition.z;
#endif`,SI=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,TI=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,EI=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,CI=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,AI=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,PI=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,LI=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,RI=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,II=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
			vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,DI=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,NI=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,OI=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,kI=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,FI=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,BI=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float specularRoughness;
	vec3 specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,zI=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,UI=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,VI=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,GI=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,HI=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,WI=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,jI=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,XI=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,qI=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,YI=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,$I=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ZI=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,JI=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,KI=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,QI=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,eD=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,tD=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,nD=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,iD=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,rD=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,sD=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,oD=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,aD=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,lD=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,cD=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,uD=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,fD=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,hD=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,dD=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,pD=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,mD=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,gD=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,yD=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,vD=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,xD=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,wD=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,_D=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,bD=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,MD=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,SD=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,TD=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,ED=`#ifdef USE_TRANSMISSIONMAP
	totalTransmission *= texture2D( transmissionMap, vUv ).r;
#endif`,CD=`#ifdef USE_TRANSMISSIONMAP
	uniform sampler2D transmissionMap;
#endif`,AD=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,PD=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,LD=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,RD=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,ID=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,DD=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,ND=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,OD=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,kD=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,FD=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,BD=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,zD=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,UD=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,VD=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,GD=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,HD=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,WD=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,jD=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,XD=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,qD=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YD=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,$D=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZD=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,JD=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KD=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,QD=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eN=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tN=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nN=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,iN=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSMISSION
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSMISSION
	uniform float transmission;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <transmissionmap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#ifdef TRANSMISSION
		float totalTransmission = transmission;
	#endif
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <transmissionmap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSMISSION
		diffuseColor.a *= saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rN=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sN=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,oN=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,aN=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,lN=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,cN=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,uN=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fN=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,hN=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const je={alphamap_fragment:X8,alphamap_pars_fragment:q8,alphatest_fragment:Y8,aomap_fragment:$8,aomap_pars_fragment:Z8,begin_vertex:J8,beginnormal_vertex:K8,bsdfs:Q8,bumpmap_pars_fragment:eI,clipping_planes_fragment:tI,clipping_planes_pars_fragment:nI,clipping_planes_pars_vertex:iI,clipping_planes_vertex:rI,color_fragment:sI,color_pars_fragment:oI,color_pars_vertex:aI,color_vertex:lI,common:cI,cube_uv_reflection_fragment:uI,defaultnormal_vertex:fI,displacementmap_pars_vertex:hI,displacementmap_vertex:dI,emissivemap_fragment:pI,emissivemap_pars_fragment:mI,encodings_fragment:gI,encodings_pars_fragment:yI,envmap_fragment:vI,envmap_common_pars_fragment:xI,envmap_pars_fragment:wI,envmap_pars_vertex:_I,envmap_physical_pars_fragment:II,envmap_vertex:bI,fog_vertex:MI,fog_pars_vertex:SI,fog_fragment:TI,fog_pars_fragment:EI,gradientmap_pars_fragment:CI,lightmap_fragment:AI,lightmap_pars_fragment:PI,lights_lambert_vertex:LI,lights_pars_begin:RI,lights_toon_fragment:DI,lights_toon_pars_fragment:NI,lights_phong_fragment:OI,lights_phong_pars_fragment:kI,lights_physical_fragment:FI,lights_physical_pars_fragment:BI,lights_fragment_begin:zI,lights_fragment_maps:UI,lights_fragment_end:VI,logdepthbuf_fragment:GI,logdepthbuf_pars_fragment:HI,logdepthbuf_pars_vertex:WI,logdepthbuf_vertex:jI,map_fragment:XI,map_pars_fragment:qI,map_particle_fragment:YI,map_particle_pars_fragment:$I,metalnessmap_fragment:ZI,metalnessmap_pars_fragment:JI,morphnormal_vertex:KI,morphtarget_pars_vertex:QI,morphtarget_vertex:eD,normal_fragment_begin:tD,normal_fragment_maps:nD,normalmap_pars_fragment:iD,clearcoat_normal_fragment_begin:rD,clearcoat_normal_fragment_maps:sD,clearcoat_pars_fragment:oD,packing:aD,premultiplied_alpha_fragment:lD,project_vertex:cD,dithering_fragment:uD,dithering_pars_fragment:fD,roughnessmap_fragment:hD,roughnessmap_pars_fragment:dD,shadowmap_pars_fragment:pD,shadowmap_pars_vertex:mD,shadowmap_vertex:gD,shadowmask_pars_fragment:yD,skinbase_vertex:vD,skinning_pars_vertex:xD,skinning_vertex:wD,skinnormal_vertex:_D,specularmap_fragment:bD,specularmap_pars_fragment:MD,tonemapping_fragment:SD,tonemapping_pars_fragment:TD,transmissionmap_fragment:ED,transmissionmap_pars_fragment:CD,uv_pars_fragment:AD,uv_pars_vertex:PD,uv_vertex:LD,uv2_pars_fragment:RD,uv2_pars_vertex:ID,uv2_vertex:DD,worldpos_vertex:ND,background_frag:OD,background_vert:kD,cube_frag:FD,cube_vert:BD,depth_frag:zD,depth_vert:UD,distanceRGBA_frag:VD,distanceRGBA_vert:GD,equirect_frag:HD,equirect_vert:WD,linedashed_frag:jD,linedashed_vert:XD,meshbasic_frag:qD,meshbasic_vert:YD,meshlambert_frag:$D,meshlambert_vert:ZD,meshmatcap_frag:JD,meshmatcap_vert:KD,meshtoon_frag:QD,meshtoon_vert:eN,meshphong_frag:tN,meshphong_vert:nN,meshphysical_frag:iN,meshphysical_vert:rN,normal_frag:sN,normal_vert:oN,points_frag:aN,points_vert:lN,shadow_frag:cN,shadow_vert:uN,sprite_frag:fN,sprite_vert:hN},le={common:{diffuse:{value:new ve(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new vn},uv2Transform:{value:new vn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Z(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ve(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ve(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new vn}},sprite:{diffuse:{value:new ve(15658734)},opacity:{value:1},center:{value:new Z(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new vn}}},_i={basic:{uniforms:qt([le.common,le.specularmap,le.envmap,le.aomap,le.lightmap,le.fog]),vertexShader:je.meshbasic_vert,fragmentShader:je.meshbasic_frag},lambert:{uniforms:qt([le.common,le.specularmap,le.envmap,le.aomap,le.lightmap,le.emissivemap,le.fog,le.lights,{emissive:{value:new ve(0)}}]),vertexShader:je.meshlambert_vert,fragmentShader:je.meshlambert_frag},phong:{uniforms:qt([le.common,le.specularmap,le.envmap,le.aomap,le.lightmap,le.emissivemap,le.bumpmap,le.normalmap,le.displacementmap,le.fog,le.lights,{emissive:{value:new ve(0)},specular:{value:new ve(1118481)},shininess:{value:30}}]),vertexShader:je.meshphong_vert,fragmentShader:je.meshphong_frag},standard:{uniforms:qt([le.common,le.envmap,le.aomap,le.lightmap,le.emissivemap,le.bumpmap,le.normalmap,le.displacementmap,le.roughnessmap,le.metalnessmap,le.fog,le.lights,{emissive:{value:new ve(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:je.meshphysical_vert,fragmentShader:je.meshphysical_frag},toon:{uniforms:qt([le.common,le.aomap,le.lightmap,le.emissivemap,le.bumpmap,le.normalmap,le.displacementmap,le.gradientmap,le.fog,le.lights,{emissive:{value:new ve(0)}}]),vertexShader:je.meshtoon_vert,fragmentShader:je.meshtoon_frag},matcap:{uniforms:qt([le.common,le.bumpmap,le.normalmap,le.displacementmap,le.fog,{matcap:{value:null}}]),vertexShader:je.meshmatcap_vert,fragmentShader:je.meshmatcap_frag},points:{uniforms:qt([le.points,le.fog]),vertexShader:je.points_vert,fragmentShader:je.points_frag},dashed:{uniforms:qt([le.common,le.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:je.linedashed_vert,fragmentShader:je.linedashed_frag},depth:{uniforms:qt([le.common,le.displacementmap]),vertexShader:je.depth_vert,fragmentShader:je.depth_frag},normal:{uniforms:qt([le.common,le.bumpmap,le.normalmap,le.displacementmap,{opacity:{value:1}}]),vertexShader:je.normal_vert,fragmentShader:je.normal_frag},sprite:{uniforms:qt([le.sprite,le.fog]),vertexShader:je.sprite_vert,fragmentShader:je.sprite_frag},background:{uniforms:{uvTransform:{value:new vn},t2D:{value:null}},vertexShader:je.background_vert,fragmentShader:je.background_frag},cube:{uniforms:qt([le.envmap,{opacity:{value:1}}]),vertexShader:je.cube_vert,fragmentShader:je.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:je.equirect_vert,fragmentShader:je.equirect_frag},distanceRGBA:{uniforms:qt([le.common,le.displacementmap,{referencePosition:{value:new S},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:je.distanceRGBA_vert,fragmentShader:je.distanceRGBA_frag},shadow:{uniforms:qt([le.lights,le.fog,{color:{value:new ve(0)},opacity:{value:1}}]),vertexShader:je.shadow_vert,fragmentShader:je.shadow_frag}};_i.physical={uniforms:qt([_i.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Z(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new ve(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:je.meshphysical_vert,fragmentShader:je.meshphysical_frag};function dN(e,t,n,i,r){const s=new ve(0);let o=0,a,l,c=null,h=0,u=null;function f(p,y,v,g){let m=y.isScene===!0?y.background:null;m&&m.isTexture&&(m=t.get(m));const x=e.xr,w=x.getSession&&x.getSession();w&&w.environmentBlendMode==="additive"&&(m=null),m===null?d(s,o):m&&m.isColor&&(d(m,1),g=!0),(e.autoClear||g)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLCubeRenderTarget||m.isWebGLCubeRenderTargetTexture||m.mapping===ch)?(l===void 0&&(l=new Ft(new hh(1,1,1),new Mn({name:"BackgroundCubeMaterial",uniforms:Zo(_i.cube.uniforms),vertexShader:_i.cube.vertexShader,fragmentShader:_i.cube.fragmentShader,side:Vt,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(b,_,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),m.isWebGLCubeRenderTarget&&(m=m.texture),l.material.uniforms.envMap.value=m,l.material.uniforms.flipEnvMap.value=m.isCubeTexture?-1:1,(c!==m||h!==m.version||u!==e.toneMapping)&&(l.material.needsUpdate=!0,c=m,h=m.version,u=e.toneMapping),p.unshift(l,l.geometry,l.material,0,0,null)):m&&m.isTexture&&(a===void 0&&(a=new Ft(new ph(2,2),new Mn({name:"BackgroundMaterial",uniforms:Zo(_i.background.uniforms),vertexShader:_i.background.vertexShader,fragmentShader:_i.background.fragmentShader,side:sh,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=m,m.matrixAutoUpdate===!0&&m.updateMatrix(),a.material.uniforms.uvTransform.value.copy(m.matrix),(c!==m||h!==m.version||u!==e.toneMapping)&&(a.material.needsUpdate=!0,c=m,h=m.version,u=e.toneMapping),p.unshift(a,a.geometry,a.material,0,0,null))}function d(p,y){n.buffers.color.setClear(p.r,p.g,p.b,y,r)}return{getClearColor:function(){return s},setClearColor:function(p,y){s.set(p),o=y!==void 0?y:1,d(s,o)},getClearAlpha:function(){return o},setClearAlpha:function(p){o=p,d(s,o)},render:f}}function pN(e,t,n,i){const r=e.getParameter(34921),s=i.isWebGL2?null:t.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=y(null);let c=l;function h(F,L,O,B,V){let k=!1;if(o){const U=p(B,O,L);c!==U&&(c=U,f(c.object)),k=v(B,V),k&&g(B,V)}else{const U=L.wireframe===!0;(c.geometry!==B.id||c.program!==O.id||c.wireframe!==U)&&(c.geometry=B.id,c.program=O.id,c.wireframe=U,k=!0)}F.isInstancedMesh===!0&&(k=!0),V!==null&&n.update(V,34963),k&&(M(F,L,O,B),V!==null&&e.bindBuffer(34963,n.get(V).buffer))}function u(){return i.isWebGL2?e.createVertexArray():s.createVertexArrayOES()}function f(F){return i.isWebGL2?e.bindVertexArray(F):s.bindVertexArrayOES(F)}function d(F){return i.isWebGL2?e.deleteVertexArray(F):s.deleteVertexArrayOES(F)}function p(F,L,O){const B=O.wireframe===!0;let V=a[F.id];V===void 0&&(V={},a[F.id]=V);let k=V[L.id];k===void 0&&(k={},V[L.id]=k);let U=k[B];return U===void 0&&(U=y(u()),k[B]=U),U}function y(F){const L=[],O=[],B=[];for(let V=0;V<r;V++)L[V]=0,O[V]=0,B[V]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:L,enabledAttributes:O,attributeDivisors:B,object:F,attributes:{},index:null}}function v(F,L){const O=c.attributes,B=F.attributes;if(Object.keys(O).length!==Object.keys(B).length)return!0;for(const V in B){const k=O[V],U=B[V];if(k===void 0||k.attribute!==U||k.data!==U.data)return!0}return c.index!==L}function g(F,L){const O={},B=F.attributes;for(const V in B){const k=B[V],U={};U.attribute=k,k.data&&(U.data=k.data),O[V]=U}c.attributes=O,c.index=L}function m(){const F=c.newAttributes;for(let L=0,O=F.length;L<O;L++)F[L]=0}function x(F){w(F,0)}function w(F,L){const O=c.newAttributes,B=c.enabledAttributes,V=c.attributeDivisors;O[F]=1,B[F]===0&&(e.enableVertexAttribArray(F),B[F]=1),V[F]!==L&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](F,L),V[F]=L)}function b(){const F=c.newAttributes,L=c.enabledAttributes;for(let O=0,B=L.length;O<B;O++)L[O]!==F[O]&&(e.disableVertexAttribArray(O),L[O]=0)}function _(F,L,O,B,V,k){i.isWebGL2===!0&&(O===5124||O===5125)?e.vertexAttribIPointer(F,L,O,V,k):e.vertexAttribPointer(F,L,O,B,V,k)}function M(F,L,O,B){if(i.isWebGL2===!1&&(F.isInstancedMesh||B.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;m();const V=B.attributes,k=O.getAttributes(),U=L.defaultAttributeValues;for(const H in k){const X=k[H];if(X>=0){const ie=V[H];if(ie!==void 0){const de=ie.normalized,Se=ie.itemSize,j=n.get(ie);if(j===void 0)continue;const We=j.buffer,pe=j.type,De=j.bytesPerElement;if(ie.isInterleavedBufferAttribute){const Ce=ie.data,ke=Ce.stride,Pe=ie.offset;Ce&&Ce.isInstancedInterleavedBuffer?(w(X,Ce.meshPerAttribute),B._maxInstanceCount===void 0&&(B._maxInstanceCount=Ce.meshPerAttribute*Ce.count)):x(X),e.bindBuffer(34962,We),_(X,Se,pe,de,ke*De,Pe*De)}else ie.isInstancedBufferAttribute?(w(X,ie.meshPerAttribute),B._maxInstanceCount===void 0&&(B._maxInstanceCount=ie.meshPerAttribute*ie.count)):x(X),e.bindBuffer(34962,We),_(X,Se,pe,de,0,0)}else if(H==="instanceMatrix"){const de=n.get(F.instanceMatrix);if(de===void 0)continue;const Se=de.buffer,j=de.type;w(X+0,1),w(X+1,1),w(X+2,1),w(X+3,1),e.bindBuffer(34962,Se),e.vertexAttribPointer(X+0,4,j,!1,64,0),e.vertexAttribPointer(X+1,4,j,!1,64,16),e.vertexAttribPointer(X+2,4,j,!1,64,32),e.vertexAttribPointer(X+3,4,j,!1,64,48)}else if(H==="instanceColor"){const de=n.get(F.instanceColor);if(de===void 0)continue;const Se=de.buffer,j=de.type;w(X,1),e.bindBuffer(34962,Se),e.vertexAttribPointer(X,3,j,!1,12,0)}else if(U!==void 0){const de=U[H];if(de!==void 0)switch(de.length){case 2:e.vertexAttrib2fv(X,de);break;case 3:e.vertexAttrib3fv(X,de);break;case 4:e.vertexAttrib4fv(X,de);break;default:e.vertexAttrib1fv(X,de)}}}}b()}function E(){N();for(const F in a){const L=a[F];for(const O in L){const B=L[O];for(const V in B)d(B[V].object),delete B[V];delete L[O]}delete a[F]}}function P(F){if(a[F.id]===void 0)return;const L=a[F.id];for(const O in L){const B=L[O];for(const V in B)d(B[V].object),delete B[V];delete L[O]}delete a[F.id]}function I(F){for(const L in a){const O=a[L];if(O[F.id]===void 0)continue;const B=O[F.id];for(const V in B)d(B[V].object),delete B[V];delete O[F.id]}}function N(){R(),c!==l&&(c=l,f(c.object))}function R(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:N,resetDefaultState:R,dispose:E,releaseStatesOfGeometry:P,releaseStatesOfProgram:I,initAttributes:m,enableAttribute:x,disableUnusedAttributes:b}}function mN(e,t,n,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,h){e.drawArrays(s,c,h),n.update(h,s,1)}function l(c,h,u){if(u===0)return;let f,d;if(r)f=e,d="drawArraysInstanced";else if(f=t.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[d](s,c,h,u),n.update(h,s,u)}this.setMode=o,this.render=a,this.renderInstances=l}function gN(e,t,n){let i;function r(){if(i!==void 0)return i;const _=t.get("EXT_texture_filter_anisotropic");return _!==null?i=e.getParameter(_.MAX_TEXTURE_MAX_ANISOTROPY_EXT):i=0,i}function s(_){if(_==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";_="mediump"}return _==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&e instanceof WebGL2ComputeRenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=n.logarithmicDepthBuffer===!0,h=e.getParameter(34930),u=e.getParameter(35660),f=e.getParameter(3379),d=e.getParameter(34076),p=e.getParameter(34921),y=e.getParameter(36347),v=e.getParameter(36348),g=e.getParameter(36349),m=u>0,x=o||!!t.get("OES_texture_float"),w=m&&x,b=o?e.getParameter(36183):0;return{isWebGL2:o,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:u,maxTextureSize:f,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:y,maxVaryings:v,maxFragmentUniforms:g,vertexTextures:m,floatFragmentTextures:x,floatVertexTextures:w,maxSamples:b}}function yN(e){const t=this;let n=null,i=0,r=!1,s=!1;const o=new wi,a=new vn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,f,d){const p=u.length!==0||f||i!==0||r;return r=f,n=h(u,d,0),i=u.length,p},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1,c()},this.setState=function(u,f,d){const p=u.clippingPlanes,y=u.clipIntersection,v=u.clipShadows,g=e.get(u);if(!r||p===null||p.length===0||s&&!v)s?h(null):c();else{const m=s?0:i,x=m*4;let w=g.clippingState||null;l.value=w,w=h(p,f,x,d);for(let b=0;b!==x;++b)w[b]=n[b];g.clippingState=w,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=m}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function h(u,f,d,p){const y=u!==null?u.length:0;let v=null;if(y!==0){if(v=l.value,p!==!0||v===null){const g=d+y*4,m=f.matrixWorldInverse;a.getNormalMatrix(m),(v===null||v.length<g)&&(v=new Float32Array(g));for(let x=0,w=d;x!==y;++x,w+=4)o.copy(u[x]).applyMatrix4(m,a),o.normal.toArray(v,w),v[w+3]=o.constant}l.value=v,l.needsUpdate=!0}return t.numPlanes=y,t.numIntersection=0,v}}function vN(e){let t=new WeakMap;function n(s,o){return o===nm?s.mapping=ah:o===im&&(s.mapping=lh),s}function i(s){if(s&&s.isTexture){const o=s.mapping;if(o===nm||o===im)if(t.has(s)){const a=t.get(s).texture;return n(a,s.mapping)}else{const a=s.image;if(a&&a.height>0){const l=e.getRenderList(),c=e.getRenderTarget(),h=e.getRenderState(),u=new Jo(a.height/2);return u.fromEquirectangularTexture(e,s),t.set(s,u),e.setRenderTarget(c),e.setRenderList(l),e.setRenderState(h),n(u.texture,s.mapping)}else return null}}return s}function r(){t=new WeakMap}return{get:i,dispose:r}}function xN(e){const t={};return{has:function(n){if(t[n]!==void 0)return t[n]!==null;let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i!==null},get:function(n){return this.has(n)||console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]}}}function wN(e,t,n,i){const r=new WeakMap,s=new WeakMap;function o(u){const f=u.target,d=r.get(f);d.index!==null&&t.remove(d.index);for(const y in d.attributes)t.remove(d.attributes[y]);f.removeEventListener("dispose",o),r.delete(f);const p=s.get(d);p&&(t.remove(p),s.delete(d)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(u,f){let d=r.get(f);return d||(f.addEventListener("dispose",o),f.isBufferGeometry?d=f:f.isGeometry&&(f._bufferGeometry===void 0&&(f._bufferGeometry=new Ue().setFromObject(u)),d=f._bufferGeometry),r.set(f,d),n.memory.geometries++,d)}function l(u){const f=u.attributes;for(const p in f)t.update(f[p],34962);const d=u.morphAttributes;for(const p in d){const y=d[p];for(let v=0,g=y.length;v<g;v++)t.update(y[v],34962)}}function c(u){const f=[],d=u.index,p=u.attributes.position;let y=0;if(d!==null){const m=d.array;y=d.version;for(let x=0,w=m.length;x<w;x+=3){const b=m[x+0],_=m[x+1],M=m[x+2];f.push(b,_,_,M,M,b)}}else{const m=p.array;y=p.version;for(let x=0,w=m.length/3-1;x<w;x+=3){const b=x+0,_=x+1,M=x+2;f.push(b,_,_,M,M,b)}}const v=new(tS(f)>65535?Ul:zl)(f,1);v.version=y;const g=s.get(u);g&&t.remove(g),s.set(u,v)}function h(u){const f=s.get(u);if(f){const d=u.index;d!==null&&f.version<d.version&&c(u)}else c(u);return s.get(u)}return{get:a,update:l,getWireframeAttribute:h}}function _N(e,t,n,i){const r=i.isWebGL2;let s;function o(f){s=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function h(f,d){e.drawElements(s,d,a,f*l),n.update(d,s,1)}function u(f,d,p){if(p===0)return;let y,v;if(r)y=e,v="drawElementsInstanced";else if(y=t.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[v](s,d,a,f*l,p),n.update(d,s,p)}this.setMode=o,this.setIndex=c,this.render=h,this.renderInstances=u}function bN(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(s/3);break;case 1:n.lines+=a*(s/2);break;case 3:n.lines+=a*(s-1);break;case 2:n.lines+=a*s;break;case 0:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:r,update:i}}function MN(e,t){return e[0]-t[0]}function SN(e,t){return Math.abs(t[1])-Math.abs(e[1])}function TN(e){const t={},n=new Float32Array(8),i=[];for(let s=0;s<8;s++)i[s]=[s,0];function r(s,o,a,l){const c=s.morphTargetInfluences,h=c===void 0?0:c.length;let u=t[o.id];if(u===void 0){u=[];for(let v=0;v<h;v++)u[v]=[v,0];t[o.id]=u}for(let v=0;v<h;v++){const g=u[v];g[0]=v,g[1]=c[v]}u.sort(SN);for(let v=0;v<8;v++)v<h&&u[v][1]?(i[v][0]=u[v][0],i[v][1]=u[v][1]):(i[v][0]=Number.MAX_SAFE_INTEGER,i[v][1]=0);i.sort(MN);const f=a.morphTargets&&o.morphAttributes.position,d=a.morphNormals&&o.morphAttributes.normal;let p=0;for(let v=0;v<8;v++){const g=i[v],m=g[0],x=g[1];m!==Number.MAX_SAFE_INTEGER&&x?(f&&o.getAttribute("morphTarget"+v)!==f[m]&&o.setAttribute("morphTarget"+v,f[m]),d&&o.getAttribute("morphNormal"+v)!==d[m]&&o.setAttribute("morphNormal"+v,d[m]),n[v]=x,p+=x):(f&&o.getAttribute("morphTarget"+v)!==void 0&&o.deleteAttribute("morphTarget"+v),d&&o.getAttribute("morphNormal"+v)!==void 0&&o.deleteAttribute("morphNormal"+v),n[v]=0)}const y=o.morphTargetsRelative?1:1-p;l.getUniforms().setValue(e,"morphTargetBaseInfluence",y),l.getUniforms().setValue(e,"morphTargetInfluences",n)}return{update:r}}function EN(e,t,n,i){let r=new WeakMap;function s(a){const l=i.render.frame,c=a.geometry,h=t.get(a,c);return r.get(h)!==l&&(c.isGeometry&&h.updateFromObject(a),t.update(h),r.set(h,l)),a.isInstancedMesh&&(n.update(a.instanceMatrix,34962),a.instanceColor!==null&&n.update(a.instanceColor,34962)),h}function o(){r=new WeakMap}return{update:s,dispose:o}}function Ur(e,t,n,i,r,s,o,a,l,c){e=e!==void 0?e:[],t=t!==void 0?t:ah,o=o!==void 0?o:ws,tt.call(this,e,t,n,i,r,s,o,a,l,c),this.flipY=!1}Ur.prototype=Object.create(tt.prototype);Ur.prototype.constructor=Ur;Ur.prototype.isCubeTexture=!0;Object.defineProperty(Ur.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});function Gl(e,t,n,i){tt.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:i||1},this.magFilter=Zt,this.minFilter=Zt,this.wrapR=mn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Gl.prototype=Object.create(tt.prototype);Gl.prototype.constructor=Gl;Gl.prototype.isDataTexture2DArray=!0;function Hl(e,t,n,i){tt.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:i||1},this.magFilter=Zt,this.minFilter=Zt,this.wrapR=mn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Hl.prototype=Object.create(tt.prototype);Hl.prototype.constructor=Hl;Hl.prototype.isDataTexture3D=!0;const rS=new tt,CN=new Gl,AN=new Hl,sS=new Ur,J1=[],K1=[],Q1=new Float32Array(16),ex=new Float32Array(9),tx=new Float32Array(4);function ma(e,t,n){const i=e[0];if(i<=0||i>0)return e;const r=t*n;let s=J1[r];if(s===void 0&&(s=new Float32Array(r),J1[r]=s),t!==0){i.toArray(s,0);for(let o=1,a=0;o!==t;++o)a+=n,e[o].toArray(s,a)}return s}function qn(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function Ln(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function oS(e,t){let n=K1[t];n===void 0&&(n=new Int32Array(t),K1[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function PN(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function LN(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(qn(n,t))return;e.uniform2fv(this.addr,t),Ln(n,t)}}function RN(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(qn(n,t))return;e.uniform3fv(this.addr,t),Ln(n,t)}}function IN(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(qn(n,t))return;e.uniform4fv(this.addr,t),Ln(n,t)}}function DN(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(qn(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Ln(n,t)}else{if(qn(n,i))return;tx.set(i),e.uniformMatrix2fv(this.addr,!1,tx),Ln(n,i)}}function NN(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(qn(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Ln(n,t)}else{if(qn(n,i))return;ex.set(i),e.uniformMatrix3fv(this.addr,!1,ex),Ln(n,i)}}function ON(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(qn(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Ln(n,t)}else{if(qn(n,i))return;Q1.set(i),e.uniformMatrix4fv(this.addr,!1,Q1),Ln(n,i)}}function kN(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(t||rS,r)}function FN(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||CN,r)}function BN(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||AN,r)}function zN(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(t||sS,r)}function UN(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function VN(e,t){const n=this.cache;qn(n,t)||(e.uniform2iv(this.addr,t),Ln(n,t))}function GN(e,t){const n=this.cache;qn(n,t)||(e.uniform3iv(this.addr,t),Ln(n,t))}function HN(e,t){const n=this.cache;qn(n,t)||(e.uniform4iv(this.addr,t),Ln(n,t))}function WN(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function jN(e){switch(e){case 5126:return PN;case 35664:return LN;case 35665:return RN;case 35666:return IN;case 35674:return DN;case 35675:return NN;case 35676:return ON;case 5124:case 35670:return UN;case 35667:case 35671:return VN;case 35668:case 35672:return GN;case 35669:case 35673:return HN;case 5125:return WN;case 35678:case 36198:case 36298:case 36306:case 35682:return kN;case 35679:case 36299:case 36307:return BN;case 35680:case 36300:case 36308:case 36293:return zN;case 36289:case 36303:case 36311:case 36292:return FN}}function XN(e,t){e.uniform1fv(this.addr,t)}function qN(e,t){e.uniform1iv(this.addr,t)}function YN(e,t){e.uniform2iv(this.addr,t)}function $N(e,t){e.uniform3iv(this.addr,t)}function ZN(e,t){e.uniform4iv(this.addr,t)}function JN(e,t){const n=ma(t,this.size,2);e.uniform2fv(this.addr,n)}function KN(e,t){const n=ma(t,this.size,3);e.uniform3fv(this.addr,n)}function QN(e,t){const n=ma(t,this.size,4);e.uniform4fv(this.addr,n)}function e7(e,t){const n=ma(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function t7(e,t){const n=ma(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function n7(e,t){const n=ma(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function i7(e,t,n){const i=t.length,r=oS(n,i);e.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)n.safeSetTexture2D(t[s]||rS,r[s])}function r7(e,t,n){const i=t.length,r=oS(n,i);e.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)n.safeSetTextureCube(t[s]||sS,r[s])}function s7(e){switch(e){case 5126:return XN;case 35664:return JN;case 35665:return KN;case 35666:return QN;case 35674:return e7;case 35675:return t7;case 35676:return n7;case 5124:case 35670:return qN;case 35667:case 35671:return YN;case 35668:case 35672:return $N;case 35669:case 35673:return ZN;case 35678:case 36198:case 36298:case 36306:case 35682:return i7;case 35680:case 36300:case 36308:case 36293:return r7}}function o7(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=jN(t.type)}function aS(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=s7(t.type)}aS.prototype.updateCache=function(e){const t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Ln(t,e)};function lS(e){this.id=e,this.seq=[],this.map={}}lS.prototype.setValue=function(e,t,n){const i=this.seq;for(let r=0,s=i.length;r!==s;++r){const o=i[r];o.setValue(e,t[o.id],n)}};const Ad=/([\w\d_]+)(\])?(\[|\.)?/g;function nx(e,t){e.seq.push(t),e.map[t.id]=t}function a7(e,t,n){const i=e.name,r=i.length;for(Ad.lastIndex=0;;){const s=Ad.exec(i),o=Ad.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){nx(n,c===void 0?new o7(a,e,t):new aS(a,e,t));break}else{let u=n.map[a];u===void 0&&(u=new lS(a),nx(n,u)),n=u}}}function Nr(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){const r=e.getActiveUniform(t,i),s=e.getUniformLocation(t,r.name);a7(r,s,this)}}Nr.prototype.setValue=function(e,t,n,i){const r=this.map[t];r!==void 0&&r.setValue(e,n,i)};Nr.prototype.setOptional=function(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)};Nr.upload=function(e,t,n,i){for(let r=0,s=t.length;r!==s;++r){const o=t[r],a=n[o.id];a.needsUpdate!==!1&&o.setValue(e,a.value,i)}};Nr.seqWithValue=function(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const s=e[i];s.id in t&&n.push(s)}return n};function ix(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let l7=0;function c7(e){const t=e.split(`
`);for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function cS(e){switch(e){case gc:return["Linear","( value )"];case KM:return["sRGB","( value )"];case g8:return["RGBE","( value )"];case v8:return["RGBM","( value, 7.0 )"];case x8:return["RGBM","( value, 16.0 )"];case w8:return["RGBD","( value, 256.0 )"];case m8:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case y8:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function rx(e,t,n){const i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(i&&r==="")return"";const s=e.getShaderSource(t);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+`
`+r+c7(s)}function Ia(e,t){const n=cS(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function u7(e,t){const n=cS(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function f7(e,t){let n;switch(t){case m6:n="Linear";break;case g6:n="Reinhard";break;case y6:n="OptimizedCineon";break;case v6:n="ACESFilmic";break;case x6:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function h7(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ha).join(`
`)}function d7(e){const t=[];for(const n in e){const i=e[n];i!==!1&&t.push("#define "+n+" "+i)}return t.join(`
`)}function p7(e,t){const n={},i=e.getProgramParameter(t,35721);for(let r=0;r<i;r++){const o=e.getActiveAttrib(t,r).name;n[o]=e.getAttribLocation(t,o)}return n}function Ha(e){return e!==""}function sx(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function ox(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const m7=/^[ \t]*#include +<([\w\d./]+)>/gm;function dm(e){return e.replace(m7,g7)}function g7(e,t){const n=je[t];if(n===void 0)throw new Error("Can not resolve #include <"+t+">");return dm(n)}const y7=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,v7=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ax(e){return e.replace(v7,uS).replace(y7,x7)}function x7(e,t,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),uS(e,t,n,i)}function uS(e,t,n,i){let r="";for(let s=parseInt(t);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function lx(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function w7(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===XM?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===qR?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Ga&&(t="SHADOWMAP_TYPE_VSM"),t}function _7(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case ah:case lh:t="ENVMAP_TYPE_CUBE";break;case ch:case uh:t="ENVMAP_TYPE_CUBE_UV";break}return t}function b7(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case lh:case uh:t="ENVMAP_MODE_REFRACTION";break}return t}function M7(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case oh:t="ENVMAP_BLENDING_MULTIPLY";break;case d6:t="ENVMAP_BLENDING_MIX";break;case p6:t="ENVMAP_BLENDING_ADD";break}return t}function S7(e,t,n,i){const r=e.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=w7(n),c=_7(n),h=b7(n),u=M7(n),f=e.gammaFactor>0?e.gammaFactor:1,d=n.isWebGL2?"":h7(n),p=d7(s),y=r.createProgram();let v,g,m=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=[p].filter(Ha).join(`
`),v.length>0&&(v+=`
`),g=[d,p].filter(Ha).join(`
`),g.length>0&&(g+=`
`)):(v=[lx(n),"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+f,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ha).join(`
`),g=[d,lx(n),"#define SHADER_NAME "+n.shaderName,p,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+f,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+h:"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ol?"#define TONE_MAPPING":"",n.toneMapping!==ol?je.tonemapping_pars_fragment:"",n.toneMapping!==ol?f7("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",je.encodings_pars_fragment,n.map?Ia("mapTexelToLinear",n.mapEncoding):"",n.matcap?Ia("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Ia("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Ia("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Ia("lightMapTexelToLinear",n.lightMapEncoding):"",u7("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ha).join(`
`)),o=dm(o),o=sx(o,n),o=ox(o,n),a=dm(a),a=sx(a,n),a=ox(a,n),o=ax(o),a=ax(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(m=`#version 300 es
`,v=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,g=["#define varying in",n.glslVersion===U1?"":"out highp vec4 pc_fragColor;",n.glslVersion===U1?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const x=m+v+o,w=m+g+a,b=ix(r,35633,x),_=ix(r,35632,w);if(r.attachShader(y,b),r.attachShader(y,_),n.index0AttributeName!==void 0?r.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),e.debug.checkShaderErrors){const P=r.getProgramInfoLog(y).trim(),I=r.getShaderInfoLog(b).trim(),N=r.getShaderInfoLog(_).trim();let R=!0,F=!0;if(r.getProgramParameter(y,35714)===!1){R=!1;const L=rx(r,b,"vertex"),O=rx(r,_,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(y,35715),"gl.getProgramInfoLog",P,L,O)}else P!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",P):(I===""||N==="")&&(F=!1);F&&(this.diagnostics={runnable:R,programLog:P,vertexShader:{log:I,prefix:v},fragmentShader:{log:N,prefix:g}})}r.deleteShader(b),r.deleteShader(_);let M;this.getUniforms=function(){return M===void 0&&(M=new Nr(r,y)),M};let E;return this.getAttributes=function(){return E===void 0&&(E=p7(r,y)),E},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=l7++,this.cacheKey=t,this.usedTimes=1,this.program=y,this.vertexShader=b,this.fragmentShader=_,this}function T7(e,t,n,i,r,s){const o=[],a=i.isWebGL2,l=i.logarithmicDepthBuffer,c=i.floatVertexTextures,h=i.maxVertexUniforms,u=i.vertexTextures;let f=i.precision;const d={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function y(_){const E=_.skeleton.bones;if(c)return 1024;{const I=Math.floor((h-20)/4),N=Math.min(I,E.length);return N<E.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+E.length+" bones. This GPU supports "+N+"."),0):N}}function v(_){let M;return _?_.isTexture?M=_.encoding:_.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),M=_.texture.encoding):M=gc,M}function g(_,M,E,P,I){const N=P.fog,R=_.isMeshStandardMaterial?P.environment:null,F=t.get(_.envMap||R),L=d[_.type],O=I.isSkinnedMesh?y(I):0;_.precision!==null&&(f=i.getMaxPrecision(_.precision),f!==_.precision&&console.warn("THREE.WebGLProgram.getParameters:",_.precision,"not supported, using",f,"instead."));let B,V;if(L){const H=_i[L];B=H.vertexShader,V=H.fragmentShader}else B=_.vertexShader,V=_.fragmentShader;const k=e.getRenderTarget();return{isWebGL2:a,shaderID:L,shaderName:_.type,vertexShader:B,fragmentShader:V,defines:_.defines,isRawShaderMaterial:_.isRawShaderMaterial===!0,glslVersion:_.glslVersion,precision:f,instancing:I.isInstancedMesh===!0,instancingColor:I.isInstancedMesh===!0&&I.instanceColor!==null,supportsVertexTextures:u,outputEncoding:k!==null?v(k.texture):e.outputEncoding,map:!!_.map,mapEncoding:v(_.map),matcap:!!_.matcap,matcapEncoding:v(_.matcap),envMap:!!F,envMapMode:F&&F.mapping,envMapEncoding:v(F),envMapCubeUV:!!F&&(F.mapping===ch||F.mapping===uh),lightMap:!!_.lightMap,lightMapEncoding:v(_.lightMap),aoMap:!!_.aoMap,emissiveMap:!!_.emissiveMap,emissiveMapEncoding:v(_.emissiveMap),bumpMap:!!_.bumpMap,normalMap:!!_.normalMap,objectSpaceNormalMap:_.normalMapType===M8,tangentSpaceNormalMap:_.normalMapType===pa,clearcoatMap:!!_.clearcoatMap,clearcoatRoughnessMap:!!_.clearcoatRoughnessMap,clearcoatNormalMap:!!_.clearcoatNormalMap,displacementMap:!!_.displacementMap,roughnessMap:!!_.roughnessMap,metalnessMap:!!_.metalnessMap,specularMap:!!_.specularMap,alphaMap:!!_.alphaMap,gradientMap:!!_.gradientMap,sheen:!!_.sheen,transmissionMap:!!_.transmissionMap,combine:_.combine,vertexTangents:_.normalMap&&_.vertexTangents,vertexColors:_.vertexColors,vertexUvs:!!_.map||!!_.bumpMap||!!_.normalMap||!!_.specularMap||!!_.alphaMap||!!_.emissiveMap||!!_.roughnessMap||!!_.metalnessMap||!!_.clearcoatMap||!!_.clearcoatRoughnessMap||!!_.clearcoatNormalMap||!!_.displacementMap||!!_.transmissionMap,uvsVertexOnly:!(_.map||_.bumpMap||_.normalMap||_.specularMap||_.alphaMap||_.emissiveMap||_.roughnessMap||_.metalnessMap||_.clearcoatNormalMap||_.transmissionMap)&&!!_.displacementMap,fog:!!N,useFog:_.fog,fogExp2:N&&N.isFogExp2,flatShading:_.flatShading,sizeAttenuation:_.sizeAttenuation,logarithmicDepthBuffer:l,skinning:_.skinning&&O>0,maxBones:O,useVertexTexture:c,morphTargets:_.morphTargets,morphNormals:_.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:_.dithering,shadowMapEnabled:e.shadowMap.enabled&&E.length>0,shadowMapType:e.shadowMap.type,toneMapping:_.toneMapped?e.toneMapping:ol,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:_.premultipliedAlpha,alphaTest:_.alphaTest,doubleSided:_.side===pc,flipSided:_.side===Vt,depthPacking:_.depthPacking!==void 0?_.depthPacking:!1,index0AttributeName:_.index0AttributeName,extensionDerivatives:_.extensions&&_.extensions.derivatives,extensionFragDepth:_.extensions&&_.extensions.fragDepth,extensionDrawBuffers:_.extensions&&_.extensions.drawBuffers,extensionShaderTextureLOD:_.extensions&&_.extensions.shaderTextureLOD,rendererExtensionFragDepth:a||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:a||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:a||n.has("EXT_shader_texture_lod"),customProgramCacheKey:_.customProgramCacheKey()}}function m(_){const M=[];if(_.shaderID?M.push(_.shaderID):(M.push(_.fragmentShader),M.push(_.vertexShader)),_.defines!==void 0)for(const E in _.defines)M.push(E),M.push(_.defines[E]);if(_.isRawShaderMaterial===!1){for(let E=0;E<p.length;E++)M.push(_[p[E]]);M.push(e.outputEncoding),M.push(e.gammaFactor)}return M.push(_.customProgramCacheKey),M.join()}function x(_){const M=d[_.type];let E;if(M){const P=_i[M];E=V8.clone(P.uniforms)}else E=_.uniforms;return E}function w(_,M){let E;for(let P=0,I=o.length;P<I;P++){const N=o[P];if(N.cacheKey===M){E=N,++E.usedTimes;break}}return E===void 0&&(E=new S7(e,M,_,r),o.push(E)),E}function b(_){if(--_.usedTimes===0){const M=o.indexOf(_);o[M]=o[o.length-1],o.pop(),_.destroy()}}return{getParameters:g,getProgramCacheKey:m,getUniforms:x,acquireProgram:w,releaseProgram:b,programs:o}}function E7(){let e=new WeakMap;function t(s){let o=e.get(s);return o===void 0&&(o={},e.set(s,o)),o}function n(s){e.delete(s)}function i(s,o,a){e.get(s)[o]=a}function r(){e=new WeakMap}return{get:t,remove:n,update:i,dispose:r}}function C7(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function A7(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function cx(e){const t=[];let n=0;const i=[],r=[],s={id:-1};function o(){n=0,i.length=0,r.length=0}function a(f,d,p,y,v,g){let m=t[n];const x=e.get(p);return m===void 0?(m={id:f.id,object:f,geometry:d,material:p,program:x.program||s,groupOrder:y,renderOrder:f.renderOrder,z:v,group:g},t[n]=m):(m.id=f.id,m.object=f,m.geometry=d,m.material=p,m.program=x.program||s,m.groupOrder=y,m.renderOrder=f.renderOrder,m.z=v,m.group=g),n++,m}function l(f,d,p,y,v,g){const m=a(f,d,p,y,v,g);(p.transparent===!0?r:i).push(m)}function c(f,d,p,y,v,g){const m=a(f,d,p,y,v,g);(p.transparent===!0?r:i).unshift(m)}function h(f,d){i.length>1&&i.sort(f||C7),r.length>1&&r.sort(d||A7)}function u(){for(let f=n,d=t.length;f<d;f++){const p=t[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.program=null,p.group=null}}return{opaque:i,transparent:r,init:o,push:l,unshift:c,finish:u,sort:h}}function P7(e){let t=new WeakMap;function n(r,s){const o=t.get(r);let a;return o===void 0?(a=new cx(e),t.set(r,new WeakMap),t.get(r).set(s,a)):(a=o.get(s),a===void 0&&(a=new cx(e),o.set(s,a))),a}function i(){t=new WeakMap}return{get:n,dispose:i}}function L7(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new S,color:new ve};break;case"SpotLight":n={position:new S,direction:new S,color:new ve,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new S,color:new ve,distance:0,decay:0};break;case"HemisphereLight":n={direction:new S,skyColor:new ve,groundColor:new ve};break;case"RectAreaLight":n={color:new ve,position:new S,halfWidth:new S,halfHeight:new S};break}return e[t.id]=n,n}}}function R7(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Z};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Z};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Z,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let I7=0;function D7(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function N7(){const e=new L7,t=R7(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let a=0;a<9;a++)n.probe.push(new S);const i=new S,r=new He,s=new He;function o(a,l,c){let h=0,u=0,f=0;for(let M=0;M<9;M++)n.probe[M].set(0,0,0);let d=0,p=0,y=0,v=0,g=0,m=0,x=0,w=0;const b=c.matrixWorldInverse;a.sort(D7);for(let M=0,E=a.length;M<E;M++){const P=a[M],I=P.color,N=P.intensity,R=P.distance,F=P.shadow&&P.shadow.map?P.shadow.map.texture:null;if(P.isAmbientLight)h+=I.r*N,u+=I.g*N,f+=I.b*N;else if(P.isLightProbe)for(let L=0;L<9;L++)n.probe[L].addScaledVector(P.sh.coefficients[L],N);else if(P.isDirectionalLight){const L=e.get(P);if(L.color.copy(P.color).multiplyScalar(P.intensity),L.direction.setFromMatrixPosition(P.matrixWorld),i.setFromMatrixPosition(P.target.matrixWorld),L.direction.sub(i),L.direction.transformDirection(b),P.castShadow){const O=P.shadow,B=t.get(P);B.shadowBias=O.bias,B.shadowNormalBias=O.normalBias,B.shadowRadius=O.radius,B.shadowMapSize=O.mapSize,n.directionalShadow[d]=B,n.directionalShadowMap[d]=F,n.directionalShadowMatrix[d]=P.shadow.matrix,m++}n.directional[d]=L,d++}else if(P.isSpotLight){const L=e.get(P);if(L.position.setFromMatrixPosition(P.matrixWorld),L.position.applyMatrix4(b),L.color.copy(I).multiplyScalar(N),L.distance=R,L.direction.setFromMatrixPosition(P.matrixWorld),i.setFromMatrixPosition(P.target.matrixWorld),L.direction.sub(i),L.direction.transformDirection(b),L.coneCos=Math.cos(P.angle),L.penumbraCos=Math.cos(P.angle*(1-P.penumbra)),L.decay=P.decay,P.castShadow){const O=P.shadow,B=t.get(P);B.shadowBias=O.bias,B.shadowNormalBias=O.normalBias,B.shadowRadius=O.radius,B.shadowMapSize=O.mapSize,n.spotShadow[y]=B,n.spotShadowMap[y]=F,n.spotShadowMatrix[y]=P.shadow.matrix,w++}n.spot[y]=L,y++}else if(P.isRectAreaLight){const L=e.get(P);L.color.copy(I).multiplyScalar(N),L.position.setFromMatrixPosition(P.matrixWorld),L.position.applyMatrix4(b),s.identity(),r.copy(P.matrixWorld),r.premultiply(b),s.extractRotation(r),L.halfWidth.set(P.width*.5,0,0),L.halfHeight.set(0,P.height*.5,0),L.halfWidth.applyMatrix4(s),L.halfHeight.applyMatrix4(s),n.rectArea[v]=L,v++}else if(P.isPointLight){const L=e.get(P);if(L.position.setFromMatrixPosition(P.matrixWorld),L.position.applyMatrix4(b),L.color.copy(P.color).multiplyScalar(P.intensity),L.distance=P.distance,L.decay=P.decay,P.castShadow){const O=P.shadow,B=t.get(P);B.shadowBias=O.bias,B.shadowNormalBias=O.normalBias,B.shadowRadius=O.radius,B.shadowMapSize=O.mapSize,B.shadowCameraNear=O.camera.near,B.shadowCameraFar=O.camera.far,n.pointShadow[p]=B,n.pointShadowMap[p]=F,n.pointShadowMatrix[p]=P.shadow.matrix,x++}n.point[p]=L,p++}else if(P.isHemisphereLight){const L=e.get(P);L.direction.setFromMatrixPosition(P.matrixWorld),L.direction.transformDirection(b),L.direction.normalize(),L.skyColor.copy(P.color).multiplyScalar(N),L.groundColor.copy(P.groundColor).multiplyScalar(N),n.hemi[g]=L,g++}}v>0&&(n.rectAreaLTC1=le.LTC_1,n.rectAreaLTC2=le.LTC_2),n.ambient[0]=h,n.ambient[1]=u,n.ambient[2]=f;const _=n.hash;(_.directionalLength!==d||_.pointLength!==p||_.spotLength!==y||_.rectAreaLength!==v||_.hemiLength!==g||_.numDirectionalShadows!==m||_.numPointShadows!==x||_.numSpotShadows!==w)&&(n.directional.length=d,n.spot.length=y,n.rectArea.length=v,n.point.length=p,n.hemi.length=g,n.directionalShadow.length=m,n.directionalShadowMap.length=m,n.pointShadow.length=x,n.pointShadowMap.length=x,n.spotShadow.length=w,n.spotShadowMap.length=w,n.directionalShadowMatrix.length=m,n.pointShadowMatrix.length=x,n.spotShadowMatrix.length=w,_.directionalLength=d,_.pointLength=p,_.spotLength=y,_.rectAreaLength=v,_.hemiLength=g,_.numDirectionalShadows=m,_.numPointShadows=x,_.numSpotShadows=w,n.version=I7++)}return{setup:o,state:n}}function ux(){const e=new N7,t=[],n=[];function i(){t.length=0,n.length=0}function r(l){t.push(l)}function s(l){n.push(l)}function o(l){e.setup(t,n,l)}return{init:i,state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:o,pushLight:r,pushShadow:s}}function O7(){let e=new WeakMap;function t(i,r){let s;return e.has(i)===!1?(s=new ux,e.set(i,new WeakMap),e.get(i).set(r,s)):e.get(i).has(r)===!1?(s=new ux,e.get(i).set(r,s)):s=e.get(i).get(r),s}function n(){e=new WeakMap}return{get:t,dispose:n}}function Ps(e){Ie.call(this),this.type="MeshDepthMaterial",this.depthPacking=_8,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}Ps.prototype=Object.create(Ie.prototype);Ps.prototype.constructor=Ps;Ps.prototype.isMeshDepthMaterial=!0;Ps.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this};function Ls(e){Ie.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new S,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Ls.prototype=Object.create(Ie.prototype);Ls.prototype.constructor=Ls;Ls.prototype.isMeshDistanceMaterial=!0;Ls.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var k7=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );
	for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
		#ifdef HORIZONAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean * HALF_SAMPLE_RATE;
	squared_mean = squared_mean * HALF_SAMPLE_RATE;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,F7=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function fS(e,t,n){let i=new dh;const r=new Z,s=new Z,o=new et,a=[],l=[],c={},h={0:Vt,1:sh,2:pc},u=new Mn({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Z},radius:{value:4}},vertexShader:F7,fragmentShader:k7}),f=u.clone();f.defines.HORIZONAL_PASS=1;const d=new Ue;d.setAttribute("position",new Oe(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new Ft(d,u),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=XM,this.render=function(b,_,M){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||b.length===0)return;const E=e.getRenderTarget(),P=e.getActiveCubeFace(),I=e.getActiveMipmapLevel(),N=e.state;N.setBlending(rl),N.buffers.color.setClear(1,1,1,1),N.buffers.depth.setTest(!0),N.setScissorTest(!1);for(let R=0,F=b.length;R<F;R++){const L=b[R],O=L.shadow;if(O.autoUpdate===!1&&O.needsUpdate===!1)continue;if(O===void 0){console.warn("THREE.WebGLShadowMap:",L,"has no shadow.");continue}r.copy(O.mapSize);const B=O.getFrameExtents();if(r.multiply(B),s.copy(O.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(s.x=Math.floor(n/B.x),r.x=s.x*B.x,O.mapSize.x=s.x),r.y>n&&(s.y=Math.floor(n/B.y),r.y=s.y*B.y,O.mapSize.y=s.y)),O.map===null&&!O.isPointLightShadow&&this.type===Ga){const k={minFilter:Gt,magFilter:Gt,format:hi};O.map=new di(r.x,r.y,k),O.map.texture.name=L.name+".shadowMap",O.mapPass=new di(r.x,r.y,k),O.camera.updateProjectionMatrix()}if(O.map===null){const k={minFilter:Zt,magFilter:Zt,format:hi};O.map=new di(r.x,r.y,k),O.map.texture.name=L.name+".shadowMap",O.camera.updateProjectionMatrix()}e.setRenderTarget(O.map),e.clear();const V=O.getViewportCount();for(let k=0;k<V;k++){const U=O.getViewport(k);o.set(s.x*U.x,s.y*U.y,s.x*U.z,s.y*U.w),N.viewport(o),O.updateMatrices(L,k),i=O.getFrustum(),w(_,M,O.camera,L,this.type)}!O.isPointLightShadow&&this.type===Ga&&v(O,M),O.needsUpdate=!1}y.needsUpdate=!1,e.setRenderTarget(E,P,I)};function v(b,_){const M=t.update(p);u.uniforms.shadow_pass.value=b.map.texture,u.uniforms.resolution.value=b.mapSize,u.uniforms.radius.value=b.radius,e.setRenderTarget(b.mapPass),e.clear(),e.renderBufferDirect(_,null,M,u,p,null),f.uniforms.shadow_pass.value=b.mapPass.texture,f.uniforms.resolution.value=b.mapSize,f.uniforms.radius.value=b.radius,e.setRenderTarget(b.map),e.clear(),e.renderBufferDirect(_,null,M,f,p,null)}function g(b,_,M){const E=b<<0|_<<1|M<<2;let P=a[E];return P===void 0&&(P=new Ps({depthPacking:b8,morphTargets:b,skinning:_}),a[E]=P),P}function m(b,_,M){const E=b<<0|_<<1|M<<2;let P=l[E];return P===void 0&&(P=new Ls({morphTargets:b,skinning:_}),l[E]=P),P}function x(b,_,M,E,P,I,N){let R=null,F=g,L=b.customDepthMaterial;if(E.isPointLight===!0&&(F=m,L=b.customDistanceMaterial),L===void 0){let O=!1;M.morphTargets===!0&&(O=_.morphAttributes&&_.morphAttributes.position&&_.morphAttributes.position.length>0);let B=!1;b.isSkinnedMesh===!0&&(M.skinning===!0?B=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",b));const V=b.isInstancedMesh===!0;R=F(O,B,V)}else R=L;if(e.localClippingEnabled&&M.clipShadows===!0&&M.clippingPlanes.length!==0){const O=R.uuid,B=M.uuid;let V=c[O];V===void 0&&(V={},c[O]=V);let k=V[B];k===void 0&&(k=R.clone(),V[B]=k),R=k}return R.visible=M.visible,R.wireframe=M.wireframe,N===Ga?R.side=M.shadowSide!==null?M.shadowSide:M.side:R.side=M.shadowSide!==null?M.shadowSide:h[M.side],R.clipShadows=M.clipShadows,R.clippingPlanes=M.clippingPlanes,R.clipIntersection=M.clipIntersection,R.wireframeLinewidth=M.wireframeLinewidth,R.linewidth=M.linewidth,E.isPointLight===!0&&R.isMeshDistanceMaterial===!0&&(R.referencePosition.setFromMatrixPosition(E.matrixWorld),R.nearDistance=P,R.farDistance=I),R}function w(b,_,M,E,P){if(b.visible===!1)return;if(b.layers.test(_.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&P===Ga)&&(!b.frustumCulled||i.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,b.matrixWorld);const R=t.update(b),F=b.material;if(Array.isArray(F)){const L=R.groups;for(let O=0,B=L.length;O<B;O++){const V=L[O],k=F[V.materialIndex];if(k&&k.visible){const U=x(b,R,k,E,M.near,M.far,P);e.renderBufferDirect(M,null,R,U,b,V)}}}else if(F.visible){const L=x(b,R,F,E,M.near,M.far,P);e.renderBufferDirect(M,null,R,L,b,null)}}const N=b.children;for(let R=0,F=N.length;R<F;R++)w(N[R],_,M,E,P)}}function B7(e,t,n){const i=n.isWebGL2;function r(){let D=!1;const Q=new et;let re=null;const ue=new et(0,0,0,0);return{setMask:function(se){re!==se&&!D&&(e.colorMask(se,se,se,se),re=se)},setLocked:function(se){D=se},setClear:function(se,ge,xe,_e,ce){ce===!0&&(se*=_e,ge*=_e,xe*=_e),Q.set(se,ge,xe,_e),ue.equals(Q)===!1&&(e.clearColor(se,ge,xe,_e),ue.copy(Q))},reset:function(){D=!1,re=null,ue.set(-1,0,0,0)}}}function s(){let D=!1,Q=null,re=null,ue=null;return{setTest:function(se){se?H(2929):X(2929)},setMask:function(se){Q!==se&&!D&&(e.depthMask(se),Q=se)},setFunc:function(se){if(re!==se){if(se)switch(se){case o6:e.depthFunc(512);break;case a6:e.depthFunc(519);break;case l6:e.depthFunc(513);break;case tm:e.depthFunc(515);break;case c6:e.depthFunc(514);break;case u6:e.depthFunc(518);break;case f6:e.depthFunc(516);break;case h6:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);re=se}},setLocked:function(se){D=se},setClear:function(se){ue!==se&&(e.clearDepth(se),ue=se)},reset:function(){D=!1,Q=null,re=null,ue=null}}}function o(){let D=!1,Q=null,re=null,ue=null,se=null,ge=null,xe=null,_e=null,ce=null;return{setTest:function(be){D||(be?H(2960):X(2960))},setMask:function(be){Q!==be&&!D&&(e.stencilMask(be),Q=be)},setFunc:function(be,ye,Le){(re!==be||ue!==ye||se!==Le)&&(e.stencilFunc(be,ye,Le),re=be,ue=ye,se=Le)},setOp:function(be,ye,Le){(ge!==be||xe!==ye||_e!==Le)&&(e.stencilOp(be,ye,Le),ge=be,xe=ye,_e=Le)},setLocked:function(be){D=be},setClear:function(be){ce!==be&&(e.clearStencil(be),ce=be)},reset:function(){D=!1,Q=null,re=null,ue=null,se=null,ge=null,xe=null,_e=null,ce=null}}}const a=new r,l=new s,c=new o;let h={},u=null,f=null,d=null,p=null,y=null,v=null,g=null,m=null,x=null,w=!1,b=null,_=null,M=null,E=null,P=null;const I=e.getParameter(35661);let N=!1,R=0;const F=e.getParameter(7938);F.indexOf("WebGL")!==-1?(R=parseFloat(/^WebGL\ ([0-9])/.exec(F)[1]),N=R>=1):F.indexOf("OpenGL ES")!==-1&&(R=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(F)[1]),N=R>=2);let L=null,O={};const B=new et,V=new et;function k(D,Q,re){const ue=new Uint8Array(4),se=e.createTexture();e.bindTexture(D,se),e.texParameteri(D,10241,9728),e.texParameteri(D,10240,9728);for(let ge=0;ge<re;ge++)e.texImage2D(Q+ge,0,6408,1,1,0,6408,5121,ue);return se}const U={};U[3553]=k(3553,3553,1),U[34067]=k(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),H(2929),l.setFunc(tm),pe(!1),De(S1),H(2884),j(rl);function H(D){h[D]!==!0&&(e.enable(D),h[D]=!0)}function X(D){h[D]!==!1&&(e.disable(D),h[D]=!1)}function ie(D){return u!==D?(e.useProgram(D),u=D,!0):!1}const de={[ao]:32774,[$R]:32778,[ZR]:32779};if(i)de[A1]=32775,de[P1]=32776;else{const D=t.get("EXT_blend_minmax");D!==null&&(de[A1]=D.MIN_EXT,de[P1]=D.MAX_EXT)}const Se={[JR]:0,[KR]:1,[QR]:768,[YM]:770,[s6]:776,[i6]:774,[t6]:772,[e6]:769,[$M]:771,[r6]:775,[n6]:773};function j(D,Q,re,ue,se,ge,xe,_e){if(D===rl){f&&(X(3042),f=!1);return}if(f||(H(3042),f=!0),D!==YR){if(D!==d||_e!==w){if((p!==ao||g!==ao)&&(e.blendEquation(32774),p=ao,g=ao),_e)switch(D){case sl:e.blendFuncSeparate(1,771,1,771);break;case T1:e.blendFunc(1,1);break;case E1:e.blendFuncSeparate(0,0,769,771);break;case C1:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",D);break}else switch(D){case sl:e.blendFuncSeparate(770,771,1,771);break;case T1:e.blendFunc(770,1);break;case E1:e.blendFunc(0,769);break;case C1:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",D);break}y=null,v=null,m=null,x=null,d=D,w=_e}return}se=se||Q,ge=ge||re,xe=xe||ue,(Q!==p||se!==g)&&(e.blendEquationSeparate(de[Q],de[se]),p=Q,g=se),(re!==y||ue!==v||ge!==m||xe!==x)&&(e.blendFuncSeparate(Se[re],Se[ue],Se[ge],Se[xe]),y=re,v=ue,m=ge,x=xe),d=D,w=null}function We(D,Q){D.side===pc?X(2884):H(2884);let re=D.side===Vt;Q&&(re=!re),pe(re),D.blending===sl&&D.transparent===!1?j(rl):j(D.blending,D.blendEquation,D.blendSrc,D.blendDst,D.blendEquationAlpha,D.blendSrcAlpha,D.blendDstAlpha,D.premultipliedAlpha),l.setFunc(D.depthFunc),l.setTest(D.depthTest),l.setMask(D.depthWrite),a.setMask(D.colorWrite);const ue=D.stencilWrite;c.setTest(ue),ue&&(c.setMask(D.stencilWriteMask),c.setFunc(D.stencilFunc,D.stencilRef,D.stencilFuncMask),c.setOp(D.stencilFail,D.stencilZFail,D.stencilZPass)),ke(D.polygonOffset,D.polygonOffsetFactor,D.polygonOffsetUnits)}function pe(D){b!==D&&(D?e.frontFace(2304):e.frontFace(2305),b=D)}function De(D){D!==jR?(H(2884),D!==_&&(D===S1?e.cullFace(1029):D===XR?e.cullFace(1028):e.cullFace(1032))):X(2884),_=D}function Ce(D){D!==M&&(N&&e.lineWidth(D),M=D)}function ke(D,Q,re){D?(H(32823),(E!==Q||P!==re)&&(e.polygonOffset(Q,re),E=Q,P=re)):X(32823)}function Pe(D){D?H(3089):X(3089)}function J(D){D===void 0&&(D=33984+I-1),L!==D&&(e.activeTexture(D),L=D)}function te(D,Q){L===null&&J();let re=O[L];re===void 0&&(re={type:void 0,texture:void 0},O[L]=re),(re.type!==D||re.texture!==Q)&&(e.bindTexture(D,Q||U[D]),re.type=D,re.texture=Q)}function ne(){const D=O[L];D!==void 0&&D.type!==void 0&&(e.bindTexture(D.type,null),D.type=void 0,D.texture=void 0)}function me(){try{e.compressedTexImage2D.apply(e,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function oe(){try{e.texImage2D.apply(e,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function T(){try{e.texImage3D.apply(e,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function A(D){B.equals(D)===!1&&(e.scissor(D.x,D.y,D.z,D.w),B.copy(D))}function K(D){V.equals(D)===!1&&(e.viewport(D.x,D.y,D.z,D.w),V.copy(D))}function $(){h={},L=null,O={},u=null,d=null,b=null,_=null,a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:H,disable:X,useProgram:ie,setBlending:j,setMaterial:We,setFlipSided:pe,setCullFace:De,setLineWidth:Ce,setPolygonOffset:ke,setScissorTest:Pe,activeTexture:J,bindTexture:te,unbindTexture:ne,compressedTexImage2D:me,texImage2D:oe,texImage3D:T,scissor:A,viewport:K,reset:$}}function z7(e,t,n,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,h=r.maxTextureSize,u=r.maxSamples,f=new WeakMap;let d,p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(T,A){return p?new OffscreenCanvas(T,A):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function v(T,A,K,$){let D=1;if((T.width>$||T.height>$)&&(D=$/Math.max(T.width,T.height)),D<1||A===!0)if(typeof HTMLImageElement<"u"&&T instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&T instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&T instanceof ImageBitmap){const Q=A?Be.floorPowerOfTwo:Math.floor,re=Q(D*T.width),ue=Q(D*T.height);d===void 0&&(d=y(re,ue));const se=K?y(re,ue):d;return se.width=re,se.height=ue,se.getContext("2d").drawImage(T,0,0,re,ue),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+T.width+"x"+T.height+") to ("+re+"x"+ue+")."),se}else return"data"in T&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+T.width+"x"+T.height+")."),T;return T}function g(T){return Be.isPowerOfTwo(T.width)&&Be.isPowerOfTwo(T.height)}function m(T){return a?!1:T.wrapS!==mn||T.wrapT!==mn||T.minFilter!==Zt&&T.minFilter!==Gt}function x(T,A){return T.generateMipmaps&&A&&T.minFilter!==Zt&&T.minFilter!==Gt}function w(T,A,K,$){e.generateMipmap(T);const D=i.get(A);D.__maxMipLevel=Math.log(Math.max(K,$))*Math.LOG2E}function b(T,A,K){if(a===!1)return A;if(T!==null){if(e[T]!==void 0)return e[T];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+T+"'")}let $=A;return A===6403&&(K===5126&&($=33326),K===5131&&($=33325),K===5121&&($=33321)),A===6407&&(K===5126&&($=34837),K===5131&&($=34843),K===5121&&($=32849)),A===6408&&(K===5126&&($=34836),K===5131&&($=34842),K===5121&&($=32856)),($===33325||$===33326||$===34842||$===34836)&&t.get("EXT_color_buffer_float"),$}function _(T){return T===Zt||T===rm||T===sm?9728:9729}function M(T){const A=T.target;A.removeEventListener("dispose",M),P(A),A.isVideoTexture&&f.delete(A),o.memory.textures--}function E(T){const A=T.target;A.removeEventListener("dispose",E),I(A),o.memory.textures--}function P(T){const A=i.get(T);A.__webglInit!==void 0&&(e.deleteTexture(A.__webglTexture),i.remove(T))}function I(T){const A=i.get(T),K=i.get(T.texture);if(T){if(K.__webglTexture!==void 0&&e.deleteTexture(K.__webglTexture),T.depthTexture&&T.depthTexture.dispose(),T.isWebGLCubeRenderTarget)for(let $=0;$<6;$++)e.deleteFramebuffer(A.__webglFramebuffer[$]),A.__webglDepthbuffer&&e.deleteRenderbuffer(A.__webglDepthbuffer[$]);else e.deleteFramebuffer(A.__webglFramebuffer),A.__webglDepthbuffer&&e.deleteRenderbuffer(A.__webglDepthbuffer),A.__webglMultisampledFramebuffer&&e.deleteFramebuffer(A.__webglMultisampledFramebuffer),A.__webglColorRenderbuffer&&e.deleteRenderbuffer(A.__webglColorRenderbuffer),A.__webglDepthRenderbuffer&&e.deleteRenderbuffer(A.__webglDepthRenderbuffer);i.remove(T.texture),i.remove(T)}}let N=0;function R(){N=0}function F(){const T=N;return T>=l&&console.warn("THREE.WebGLTextures: Trying to use "+T+" texture units while this GPU supports only "+l),N+=1,T}function L(T,A){const K=i.get(T);if(T.isVideoTexture&&J(T),T.version>0&&K.__version!==T.version){const $=T.image;if($===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if($.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{de(K,T,A);return}}n.activeTexture(33984+A),n.bindTexture(3553,K.__webglTexture)}function O(T,A){const K=i.get(T);if(T.version>0&&K.__version!==T.version){de(K,T,A);return}n.activeTexture(33984+A),n.bindTexture(35866,K.__webglTexture)}function B(T,A){const K=i.get(T);if(T.version>0&&K.__version!==T.version){de(K,T,A);return}n.activeTexture(33984+A),n.bindTexture(32879,K.__webglTexture)}function V(T,A){if(T.image.length!==6)return;const K=i.get(T);if(T.version>0&&K.__version!==T.version){ie(K,T),n.activeTexture(33984+A),n.bindTexture(34067,K.__webglTexture),e.pixelStorei(37440,T.flipY);const $=T&&(T.isCompressedTexture||T.image[0].isCompressedTexture),D=T.image[0]&&T.image[0].isDataTexture,Q=[];for(let ce=0;ce<6;ce++)!$&&!D?Q[ce]=v(T.image[ce],!1,!0,c):Q[ce]=D?T.image[ce].image:T.image[ce];const re=Q[0],ue=g(re)||a,se=s.convert(T.format),ge=s.convert(T.type),xe=b(T.internalFormat,se,ge);X(34067,T,ue);let _e;if($){for(let ce=0;ce<6;ce++){_e=Q[ce].mipmaps;for(let be=0;be<_e.length;be++){const ye=_e[be];T.format!==hi&&T.format!==ws?se!==null?n.compressedTexImage2D(34069+ce,be,xe,ye.width,ye.height,0,ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+ce,be,xe,ye.width,ye.height,0,se,ge,ye.data)}}K.__maxMipLevel=_e.length-1}else{_e=T.mipmaps;for(let ce=0;ce<6;ce++)if(D){n.texImage2D(34069+ce,0,xe,Q[ce].width,Q[ce].height,0,se,ge,Q[ce].data);for(let be=0;be<_e.length;be++){const Le=_e[be].image[ce].image;n.texImage2D(34069+ce,be+1,xe,Le.width,Le.height,0,se,ge,Le.data)}}else{n.texImage2D(34069+ce,0,xe,se,ge,Q[ce]);for(let be=0;be<_e.length;be++){const ye=_e[be];n.texImage2D(34069+ce,be+1,xe,se,ge,ye.image[ce])}}K.__maxMipLevel=_e.length}x(T,ue)&&w(34067,T,re.width,re.height),K.__version=T.version,T.onUpdate&&T.onUpdate(T)}else n.activeTexture(33984+A),n.bindTexture(34067,K.__webglTexture)}function k(T,A){n.activeTexture(33984+A),n.bindTexture(34067,i.get(T).__webglTexture)}const U={[Mf]:10497,[mn]:33071,[Sf]:33648},H={[Zt]:9728,[rm]:9984,[sm]:9986,[Gt]:9729,[ZM]:9985,[mc]:9987};function X(T,A,K){K?(e.texParameteri(T,10242,U[A.wrapS]),e.texParameteri(T,10243,U[A.wrapT]),(T===32879||T===35866)&&e.texParameteri(T,32882,U[A.wrapR]),e.texParameteri(T,10240,H[A.magFilter]),e.texParameteri(T,10241,H[A.minFilter])):(e.texParameteri(T,10242,33071),e.texParameteri(T,10243,33071),(T===32879||T===35866)&&e.texParameteri(T,32882,33071),(A.wrapS!==mn||A.wrapT!==mn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(T,10240,_(A.magFilter)),e.texParameteri(T,10241,_(A.minFilter)),A.minFilter!==Zt&&A.minFilter!==Gt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const $=t.get("EXT_texture_filter_anisotropic");if($){if(A.type===wr&&t.get("OES_texture_float_linear")===null||A.type===Ef&&(a||t.get("OES_texture_half_float_linear"))===null)return;(A.anisotropy>1||i.get(A).__currentAnisotropy)&&(e.texParameterf(T,$.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(A.anisotropy,r.getMaxAnisotropy())),i.get(A).__currentAnisotropy=A.anisotropy)}}function ie(T,A){T.__webglInit===void 0&&(T.__webglInit=!0,A.addEventListener("dispose",M),T.__webglTexture=e.createTexture(),o.memory.textures++)}function de(T,A,K){let $=3553;A.isDataTexture2DArray&&($=35866),A.isDataTexture3D&&($=32879),ie(T,A),n.activeTexture(33984+K),n.bindTexture($,T.__webglTexture),e.pixelStorei(37440,A.flipY),e.pixelStorei(37441,A.premultiplyAlpha),e.pixelStorei(3317,A.unpackAlignment);const D=m(A)&&g(A.image)===!1,Q=v(A.image,D,!1,h),re=g(Q)||a,ue=s.convert(A.format);let se=s.convert(A.type),ge=b(A.internalFormat,ue,se);X($,A,re);let xe;const _e=A.mipmaps;if(A.isDepthTexture)ge=6402,a?A.type===wr?ge=36012:A.type===Fu?ge=33190:A.type===al?ge=35056:ge=33189:A.type===wr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),A.format===Uo&&ge===6402&&A.type!==Tf&&A.type!==Fu&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),A.type=Tf,se=s.convert(A.type)),A.format===Fl&&ge===6402&&(ge=34041,A.type!==al&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),A.type=al,se=s.convert(A.type))),n.texImage2D(3553,0,ge,Q.width,Q.height,0,ue,se,null);else if(A.isDataTexture)if(_e.length>0&&re){for(let ce=0,be=_e.length;ce<be;ce++)xe=_e[ce],n.texImage2D(3553,ce,ge,xe.width,xe.height,0,ue,se,xe.data);A.generateMipmaps=!1,T.__maxMipLevel=_e.length-1}else n.texImage2D(3553,0,ge,Q.width,Q.height,0,ue,se,Q.data),T.__maxMipLevel=0;else if(A.isCompressedTexture){for(let ce=0,be=_e.length;ce<be;ce++)xe=_e[ce],A.format!==hi&&A.format!==ws?ue!==null?n.compressedTexImage2D(3553,ce,ge,xe.width,xe.height,0,xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,ce,ge,xe.width,xe.height,0,ue,se,xe.data);T.__maxMipLevel=_e.length-1}else if(A.isDataTexture2DArray)n.texImage3D(35866,0,ge,Q.width,Q.height,Q.depth,0,ue,se,Q.data),T.__maxMipLevel=0;else if(A.isDataTexture3D)n.texImage3D(32879,0,ge,Q.width,Q.height,Q.depth,0,ue,se,Q.data),T.__maxMipLevel=0;else if(_e.length>0&&re){for(let ce=0,be=_e.length;ce<be;ce++)xe=_e[ce],n.texImage2D(3553,ce,ge,ue,se,xe);A.generateMipmaps=!1,T.__maxMipLevel=_e.length-1}else n.texImage2D(3553,0,ge,ue,se,Q),T.__maxMipLevel=0;x(A,re)&&w($,A,Q.width,Q.height),T.__version=A.version,A.onUpdate&&A.onUpdate(A)}function Se(T,A,K,$){const D=s.convert(A.texture.format),Q=s.convert(A.texture.type),re=b(A.texture.internalFormat,D,Q);n.texImage2D($,0,re,A.width,A.height,0,D,Q,null),e.bindFramebuffer(36160,T),e.framebufferTexture2D(36160,K,$,i.get(A.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function j(T,A,K){if(e.bindRenderbuffer(36161,T),A.depthBuffer&&!A.stencilBuffer){let $=33189;if(K){const D=A.depthTexture;D&&D.isDepthTexture&&(D.type===wr?$=36012:D.type===Fu&&($=33190));const Q=Pe(A);e.renderbufferStorageMultisample(36161,Q,$,A.width,A.height)}else e.renderbufferStorage(36161,$,A.width,A.height);e.framebufferRenderbuffer(36160,36096,36161,T)}else if(A.depthBuffer&&A.stencilBuffer){if(K){const $=Pe(A);e.renderbufferStorageMultisample(36161,$,35056,A.width,A.height)}else e.renderbufferStorage(36161,34041,A.width,A.height);e.framebufferRenderbuffer(36160,33306,36161,T)}else{const $=s.convert(A.texture.format),D=s.convert(A.texture.type),Q=b(A.texture.internalFormat,$,D);if(K){const re=Pe(A);e.renderbufferStorageMultisample(36161,re,Q,A.width,A.height)}else e.renderbufferStorage(36161,Q,A.width,A.height)}e.bindRenderbuffer(36161,null)}function We(T,A){if(A&&A.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,T),!(A.depthTexture&&A.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(A.depthTexture).__webglTexture||A.depthTexture.image.width!==A.width||A.depthTexture.image.height!==A.height)&&(A.depthTexture.image.width=A.width,A.depthTexture.image.height=A.height,A.depthTexture.needsUpdate=!0),L(A.depthTexture,0);const $=i.get(A.depthTexture).__webglTexture;if(A.depthTexture.format===Uo)e.framebufferTexture2D(36160,36096,3553,$,0);else if(A.depthTexture.format===Fl)e.framebufferTexture2D(36160,33306,3553,$,0);else throw new Error("Unknown depthTexture format")}function pe(T){const A=i.get(T),K=T.isWebGLCubeRenderTarget===!0;if(T.depthTexture){if(K)throw new Error("target.depthTexture not supported in Cube render targets");We(A.__webglFramebuffer,T)}else if(K){A.__webglDepthbuffer=[];for(let $=0;$<6;$++)e.bindFramebuffer(36160,A.__webglFramebuffer[$]),A.__webglDepthbuffer[$]=e.createRenderbuffer(),j(A.__webglDepthbuffer[$],T,!1)}else e.bindFramebuffer(36160,A.__webglFramebuffer),A.__webglDepthbuffer=e.createRenderbuffer(),j(A.__webglDepthbuffer,T,!1);e.bindFramebuffer(36160,null)}function De(T){const A=i.get(T),K=i.get(T.texture);T.addEventListener("dispose",E),K.__webglTexture=e.createTexture(),o.memory.textures++;const $=T.isWebGLCubeRenderTarget===!0,D=T.isWebGLMultisampleRenderTarget===!0,Q=g(T)||a;if(a&&T.texture.format===ws&&(T.texture.type===wr||T.texture.type===Ef)&&(T.texture.format=hi,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),$){A.__webglFramebuffer=[];for(let re=0;re<6;re++)A.__webglFramebuffer[re]=e.createFramebuffer()}else if(A.__webglFramebuffer=e.createFramebuffer(),D)if(a){A.__webglMultisampledFramebuffer=e.createFramebuffer(),A.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,A.__webglColorRenderbuffer);const re=s.convert(T.texture.format),ue=s.convert(T.texture.type),se=b(T.texture.internalFormat,re,ue),ge=Pe(T);e.renderbufferStorageMultisample(36161,ge,se,T.width,T.height),e.bindFramebuffer(36160,A.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,A.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),T.depthBuffer&&(A.__webglDepthRenderbuffer=e.createRenderbuffer(),j(A.__webglDepthRenderbuffer,T,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if($){n.bindTexture(34067,K.__webglTexture),X(34067,T.texture,Q);for(let re=0;re<6;re++)Se(A.__webglFramebuffer[re],T,36064,34069+re);x(T.texture,Q)&&w(34067,T.texture,T.width,T.height),n.bindTexture(34067,null)}else n.bindTexture(3553,K.__webglTexture),X(3553,T.texture,Q),Se(A.__webglFramebuffer,T,36064,3553),x(T.texture,Q)&&w(3553,T.texture,T.width,T.height),n.bindTexture(3553,null);T.depthBuffer&&pe(T)}function Ce(T){const A=T.texture,K=g(T)||a;if(x(A,K)){const $=T.isWebGLCubeRenderTarget?34067:3553,D=i.get(A).__webglTexture;n.bindTexture($,D),w($,A,T.width,T.height),n.bindTexture($,null)}}function ke(T){if(T.isWebGLMultisampleRenderTarget)if(a){const A=i.get(T);e.bindFramebuffer(36008,A.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,A.__webglFramebuffer);const K=T.width,$=T.height;let D=16384;T.depthBuffer&&(D|=256),T.stencilBuffer&&(D|=1024),e.blitFramebuffer(0,0,K,$,0,0,K,$,D,9728),e.bindFramebuffer(36160,A.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Pe(T){return a&&T.isWebGLMultisampleRenderTarget?Math.min(u,T.samples):0}function J(T){const A=o.render.frame;f.get(T)!==A&&(f.set(T,A),T.update())}let te=!1,ne=!1;function me(T,A){T&&T.isWebGLRenderTarget&&(te===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),te=!0),T=T.texture),L(T,A)}function oe(T,A){T&&T.isWebGLCubeRenderTarget&&(ne===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),ne=!0),T=T.texture),T&&T.isCubeTexture||Array.isArray(T.image)&&T.image.length===6?V(T,A):k(T,A)}this.allocateTextureUnit=F,this.resetTextureUnits=R,this.setTexture2D=L,this.setTexture2DArray=O,this.setTexture3D=B,this.setTextureCube=V,this.setTextureCubeDynamic=k,this.setupRenderTarget=De,this.updateRenderTargetMipmap=Ce,this.updateMultisampleRenderTarget=ke,this.safeSetTexture2D=me,this.safeSetTextureCube=oe}function U7(e,t,n){const i=n.isWebGL2;function r(s){let o;if(s===C0)return 5121;if(s===M6)return 32819;if(s===S6)return 32820;if(s===T6)return 33635;if(s===w6)return 5120;if(s===_6)return 5122;if(s===Tf)return 5123;if(s===b6)return 5124;if(s===Fu)return 5125;if(s===wr)return 5126;if(s===Ef)return i?5131:(o=t.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===E6)return 6406;if(s===ws)return 6407;if(s===hi)return 6408;if(s===C6)return 6409;if(s===A6)return 6410;if(s===Uo)return 6402;if(s===Fl)return 34041;if(s===P6)return 6403;if(s===L6)return 36244;if(s===R6)return 33319;if(s===I6)return 33320;if(s===D6)return 36248;if(s===N6)return 36249;if(s===L1||s===R1||s===I1||s===D1)if(o=t.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===L1)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===R1)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===I1)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===D1)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===N1||s===O1||s===k1||s===F1)if(o=t.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===N1)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===O1)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===k1)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===F1)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===O6)return o=t.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if((s===B1||s===z1)&&(o=t.get("WEBGL_compressed_texture_etc"),o!==null)){if(s===B1)return o.COMPRESSED_RGB8_ETC2;if(s===z1)return o.COMPRESSED_RGBA8_ETC2_EAC}if(s===k6||s===F6||s===B6||s===z6||s===U6||s===V6||s===G6||s===H6||s===W6||s===j6||s===X6||s===q6||s===Y6||s===$6||s===J6||s===K6||s===Q6||s===e8||s===t8||s===n8||s===i8||s===r8||s===s8||s===o8||s===a8||s===l8||s===c8||s===u8)return o=t.get("WEBGL_compressed_texture_astc"),o!==null?s:null;if(s===Z6)return o=t.get("EXT_texture_compression_bptc"),o!==null?s:null;if(s===al)return i?34042:(o=t.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}function pm(e){Tt.call(this),this.cameras=e||[]}pm.prototype=Object.assign(Object.create(Tt.prototype),{constructor:pm,isArrayCamera:!0});function ps(){Ee.call(this),this.type="Group"}ps.prototype=Object.assign(Object.create(Ee.prototype),{constructor:ps,isGroup:!0});function cl(){this._targetRay=null,this._grip=null,this._hand=null}Object.assign(cl.prototype,{constructor:cl,getHandSpace:function(){if(this._hand===null&&(this._hand=new ps,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let e=0;e<=window.XRHand.LITTLE_PHALANX_TIP;e++){const t=new ps;t.matrixAutoUpdate=!1,t.visible=!1,this._hand.joints.push(t),this._hand.add(t)}return this._hand},getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new ps,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new ps,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this},update:function(e,t,n){let i=null,r=null,s=null;const o=this._targetRay,a=this._grip,l=this._hand;if(e)if(l&&e.hand){s=!0;for(let c=0;c<=window.XRHand.LITTLE_PHALANX_TIP;c++)if(e.hand[c]){const h=t.getJointPose(e.hand[c],n),u=l.joints[c];h!==null&&(u.matrix.fromArray(h.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.jointRadius=h.radius),u.visible=h!==null;const f=l.joints[window.XRHand.INDEX_PHALANX_TIP],d=l.joints[window.XRHand.THUMB_PHALANX_TIP],p=f.position.distanceTo(d.position),y=.02,v=.005;l.inputState.pinching&&p>y+v?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&p<=y-v&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}}else o!==null&&(i=t.getPose(e.targetRaySpace,n),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale))),a!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)));return o!==null&&(o.visible=i!==null),a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),this}});function hS(e,t){const n=this;let i=null,r=1,s=null,o="local-floor",a=null;const l=[],c=new Map,h=new Tt;h.layers.enable(1),h.viewport=new et;const u=new Tt;u.layers.enable(2),u.viewport=new et;const f=[h,u],d=new pm;d.layers.enable(1),d.layers.enable(2);let p=null,y=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(N){let R=l[N];return R===void 0&&(R=new cl,l[N]=R),R.getTargetRaySpace()},this.getControllerGrip=function(N){let R=l[N];return R===void 0&&(R=new cl,l[N]=R),R.getGripSpace()},this.getHand=function(N){let R=l[N];return R===void 0&&(R=new cl,l[N]=R),R.getHandSpace()};function v(N){const R=c.get(N.inputSource);R&&R.dispatchEvent({type:N.type})}function g(){c.forEach(function(N,R){N.disconnect(R)}),c.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),I.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function m(N){s=N,I.setContext(i),I.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(N){r=N,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(N){o=N,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s},this.getSession=function(){return i},this.setSession=function(N){if(i=N,i!==null){i.addEventListener("select",v),i.addEventListener("selectstart",v),i.addEventListener("selectend",v),i.addEventListener("squeeze",v),i.addEventListener("squeezestart",v),i.addEventListener("squeezeend",v),i.addEventListener("end",g);const R=t.getContextAttributes();R.xrCompatible!==!0&&t.makeXRCompatible();const F={antialias:R.antialias,alpha:R.alpha,depth:R.depth,stencil:R.stencil,framebufferScaleFactor:r},L=new XRWebGLLayer(i,t,F);i.updateRenderState({baseLayer:L}),i.requestReferenceSpace(o).then(m),i.addEventListener("inputsourceschange",x)}};function x(N){const R=i.inputSources;for(let F=0;F<l.length;F++)c.set(R[F],l[F]);for(let F=0;F<N.removed.length;F++){const L=N.removed[F],O=c.get(L);O&&(O.dispatchEvent({type:"disconnected",data:L}),c.delete(L))}for(let F=0;F<N.added.length;F++){const L=N.added[F],O=c.get(L);O&&O.dispatchEvent({type:"connected",data:L})}}const w=new S,b=new S;function _(N,R,F){w.setFromMatrixPosition(R.matrixWorld),b.setFromMatrixPosition(F.matrixWorld);const L=w.distanceTo(b),O=R.projectionMatrix.elements,B=F.projectionMatrix.elements,V=O[14]/(O[10]-1),k=O[14]/(O[10]+1),U=(O[9]+1)/O[5],H=(O[9]-1)/O[5],X=(O[8]-1)/O[0],ie=(B[8]+1)/B[0],de=V*X,Se=V*ie,j=L/(-X+ie),We=j*-X;R.matrixWorld.decompose(N.position,N.quaternion,N.scale),N.translateX(We),N.translateZ(j),N.matrixWorld.compose(N.position,N.quaternion,N.scale),N.matrixWorldInverse.getInverse(N.matrixWorld);const pe=V+j,De=k+j,Ce=de-We,ke=Se+(L-We),Pe=U*k/De*pe,J=H*k/De*pe;N.projectionMatrix.makePerspective(Ce,ke,Pe,J,pe,De)}function M(N,R){R===null?N.matrixWorld.copy(N.matrix):N.matrixWorld.multiplyMatrices(R.matrixWorld,N.matrix),N.matrixWorldInverse.getInverse(N.matrixWorld)}this.getCamera=function(N){d.near=u.near=h.near=N.near,d.far=u.far=h.far=N.far,(p!==d.near||y!==d.far)&&(i.updateRenderState({depthNear:d.near,depthFar:d.far}),p=d.near,y=d.far);const R=N.parent,F=d.cameras;M(d,R);for(let O=0;O<F.length;O++)M(F[O],R);N.matrixWorld.copy(d.matrixWorld);const L=N.children;for(let O=0,B=L.length;O<B;O++)L[O].updateMatrixWorld(!0);return F.length===2?_(d,h,u):d.projectionMatrix.copy(h.projectionMatrix),d};let E=null;function P(N,R){if(a=R.getViewerPose(s),a!==null){const L=a.views,O=i.renderState.baseLayer;e.setFramebuffer(O.framebuffer);let B=!1;L.length!==d.cameras.length&&(d.cameras.length=0,B=!0);for(let V=0;V<L.length;V++){const k=L[V],U=O.getViewport(k),H=f[V];H.matrix.fromArray(k.transform.matrix),H.projectionMatrix.fromArray(k.projectionMatrix),H.viewport.set(U.x,U.y,U.width,U.height),V===0&&d.matrix.copy(H.matrix),B===!0&&d.cameras.push(H)}}const F=i.inputSources;for(let L=0;L<l.length;L++){const O=l[L],B=F[L];O.update(B,R,s)}E&&E(N,R)}const I=new iS;I.setAnimationLoop(P),this.setAnimationLoop=function(N){E=N},this.dispose=function(){}}Object.assign(hS.prototype,rr.prototype);function V7(e){function t(g,m){g.fogColor.value.copy(m.color),m.isFog?(g.fogNear.value=m.near,g.fogFar.value=m.far):m.isFogExp2&&(g.fogDensity.value=m.density)}function n(g,m,x,w){m.isMeshBasicMaterial?i(g,m):m.isMeshLambertMaterial?(i(g,m),l(g,m)):m.isMeshToonMaterial?(i(g,m),h(g,m)):m.isMeshPhongMaterial?(i(g,m),c(g,m)):m.isMeshStandardMaterial?(i(g,m),m.isMeshPhysicalMaterial?f(g,m):u(g,m)):m.isMeshMatcapMaterial?(i(g,m),d(g,m)):m.isMeshDepthMaterial?(i(g,m),p(g,m)):m.isMeshDistanceMaterial?(i(g,m),y(g,m)):m.isMeshNormalMaterial?(i(g,m),v(g,m)):m.isLineBasicMaterial?(r(g,m),m.isLineDashedMaterial&&s(g,m)):m.isPointsMaterial?o(g,m,x,w):m.isSpriteMaterial?a(g,m):m.isShadowMaterial?(g.color.value.copy(m.color),g.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function i(g,m){g.opacity.value=m.opacity,m.color&&g.diffuse.value.copy(m.color),m.emissive&&g.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap),m.specularMap&&(g.specularMap.value=m.specularMap);const x=e.get(m).envMap;if(x){g.envMap.value=x,g.flipEnvMap.value=x.isCubeTexture?-1:1,g.reflectivity.value=m.reflectivity,g.refractionRatio.value=m.refractionRatio;const _=e.get(x).__maxMipLevel;_!==void 0&&(g.maxMipLevel.value=_)}m.lightMap&&(g.lightMap.value=m.lightMap,g.lightMapIntensity.value=m.lightMapIntensity),m.aoMap&&(g.aoMap.value=m.aoMap,g.aoMapIntensity.value=m.aoMapIntensity);let w;m.map?w=m.map:m.specularMap?w=m.specularMap:m.displacementMap?w=m.displacementMap:m.normalMap?w=m.normalMap:m.bumpMap?w=m.bumpMap:m.roughnessMap?w=m.roughnessMap:m.metalnessMap?w=m.metalnessMap:m.alphaMap?w=m.alphaMap:m.emissiveMap?w=m.emissiveMap:m.clearcoatMap?w=m.clearcoatMap:m.clearcoatNormalMap?w=m.clearcoatNormalMap:m.clearcoatRoughnessMap&&(w=m.clearcoatRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uvTransform.value.copy(w.matrix));let b;m.aoMap?b=m.aoMap:m.lightMap&&(b=m.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uv2Transform.value.copy(b.matrix))}function r(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity}function s(g,m){g.dashSize.value=m.dashSize,g.totalSize.value=m.dashSize+m.gapSize,g.scale.value=m.scale}function o(g,m,x,w){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.size.value=m.size*x,g.scale.value=w*.5,m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap);let b;m.map?b=m.map:m.alphaMap&&(b=m.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uvTransform.value.copy(b.matrix))}function a(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.rotation.value=m.rotation,m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap);let x;m.map?x=m.map:m.alphaMap&&(x=m.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uvTransform.value.copy(x.matrix))}function l(g,m){m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap)}function c(g,m){g.specular.value.copy(m.specular),g.shininess.value=Math.max(m.shininess,1e-4),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===Vt&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===Vt&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}function h(g,m){m.gradientMap&&(g.gradientMap.value=m.gradientMap),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===Vt&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===Vt&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}function u(g,m){g.roughness.value=m.roughness,g.metalness.value=m.metalness,m.roughnessMap&&(g.roughnessMap.value=m.roughnessMap),m.metalnessMap&&(g.metalnessMap.value=m.metalnessMap),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===Vt&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===Vt&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias),e.get(m).envMap&&(g.envMapIntensity.value=m.envMapIntensity)}function f(g,m){u(g,m),g.reflectivity.value=m.reflectivity,g.clearcoat.value=m.clearcoat,g.clearcoatRoughness.value=m.clearcoatRoughness,m.sheen&&g.sheen.value.copy(m.sheen),m.clearcoatMap&&(g.clearcoatMap.value=m.clearcoatMap),m.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap),m.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),g.clearcoatNormalMap.value=m.clearcoatNormalMap,m.side===Vt&&g.clearcoatNormalScale.value.negate()),g.transmission.value=m.transmission,m.transmissionMap&&(g.transmissionMap.value=m.transmissionMap)}function d(g,m){m.matcap&&(g.matcap.value=m.matcap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===Vt&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===Vt&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}function p(g,m){m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}function y(g,m){m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias),g.referencePosition.value.copy(m.referencePosition),g.nearDistance.value=m.nearDistance,g.farDistance.value=m.farDistance}function v(g,m){m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===Vt&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===Vt&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function xc(e){e=e||{};const t=e.canvas!==void 0?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=e.context!==void 0?e.context:null,i=e.alpha!==void 0?e.alpha:!1,r=e.depth!==void 0?e.depth:!0,s=e.stencil!==void 0?e.stencil:!0,o=e.antialias!==void 0?e.antialias:!1,a=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,l=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,c=e.powerPreference!==void 0?e.powerPreference:"default",h=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1;let u=null,f=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=gc,this.physicallyCorrectLights=!1,this.toneMapping=ol,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const d=this;let p=!1,y=null,v=0,g=0,m=null,x=null,w=-1,b=null,_=null;const M=new et,E=new et;let P=null,I=t.width,N=t.height,R=1,F=null,L=null;const O=new et(0,0,I,N),B=new et(0,0,I,N);let V=!1;const k=new dh;let U=!1,H=!1;const X=new He,ie=new S,de={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Se(){return m===null?R:1}let j=n;function We(C,W){for(let G=0;G<C.length;G++){const Y=C[G],ae=t.getContext(Y,W);if(ae!==null)return ae}return null}try{const C={alpha:i,depth:r,stencil:s,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:h};if(t.addEventListener("webglcontextlost",ye,!1),t.addEventListener("webglcontextrestored",Le,!1),j===null){const W=["webgl2","webgl","experimental-webgl"];if(d.isWebGL1Renderer===!0&&W.shift(),j=We(W,C),j===null)throw We(W)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}j.getShaderPrecisionFormat===void 0&&(j.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(C){throw console.error("THREE.WebGLRenderer: "+C.message),C}let pe,De,Ce,ke,Pe,J,te,ne,me,oe,T,A,K,$,D,Q,re,ue,se,ge,xe;function _e(){pe=new xN(j),De=new gN(j,pe,e),De.isWebGL2===!1&&(pe.get("WEBGL_depth_texture"),pe.get("OES_texture_float"),pe.get("OES_texture_half_float"),pe.get("OES_texture_half_float_linear"),pe.get("OES_standard_derivatives"),pe.get("OES_element_index_uint"),pe.get("OES_vertex_array_object"),pe.get("ANGLE_instanced_arrays")),pe.get("OES_texture_float_linear"),ge=new U7(j,pe,De),Ce=new B7(j,pe,De),Ce.scissor(E.copy(B).multiplyScalar(R).floor()),Ce.viewport(M.copy(O).multiplyScalar(R).floor()),ke=new bN,Pe=new E7,J=new z7(j,pe,Ce,Pe,De,ge,ke),te=new vN(d),ne=new W8(j,De),xe=new pN(j,pe,ne,De),me=new wN(j,ne,ke,xe),oe=new EN(j,me,ne,ke),re=new TN(j),D=new yN(Pe),T=new T7(d,te,pe,De,xe,D),A=new V7(Pe),K=new P7(Pe),$=new O7,Q=new dN(d,te,Ce,oe,a),ue=new mN(j,pe,ke,De),se=new _N(j,pe,ke,De),ke.programs=T.programs,d.capabilities=De,d.extensions=pe,d.properties=Pe,d.renderLists=K,d.state=Ce,d.info=ke}_e();const ce=new hS(d,j);this.xr=ce;const be=new fS(d,oe,De.maxTextureSize);this.shadowMap=be,this.getContext=function(){return j},this.getContextAttributes=function(){return j.getContextAttributes()},this.forceContextLoss=function(){const C=pe.get("WEBGL_lose_context");C&&C.loseContext()},this.forceContextRestore=function(){const C=pe.get("WEBGL_lose_context");C&&C.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(C){C!==void 0&&(R=C,this.setSize(I,N,!1))},this.getSize=function(C){return C===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),C=new Z),C.set(I,N)},this.setSize=function(C,W,G){if(ce.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}I=C,N=W,t.width=Math.floor(C*R),t.height=Math.floor(W*R),G!==!1&&(t.style.width=C+"px",t.style.height=W+"px"),this.setViewport(0,0,C,W)},this.getDrawingBufferSize=function(C){return C===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),C=new Z),C.set(I*R,N*R).floor()},this.setDrawingBufferSize=function(C,W,G){I=C,N=W,R=G,t.width=Math.floor(C*G),t.height=Math.floor(W*G),this.setViewport(0,0,C,W)},this.getCurrentViewport=function(C){return C===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),C=new et),C.copy(M)},this.getViewport=function(C){return C.copy(O)},this.setViewport=function(C,W,G,Y){C.isVector4?O.set(C.x,C.y,C.z,C.w):O.set(C,W,G,Y),Ce.viewport(M.copy(O).multiplyScalar(R).floor())},this.getScissor=function(C){return C.copy(B)},this.setScissor=function(C,W,G,Y){C.isVector4?B.set(C.x,C.y,C.z,C.w):B.set(C,W,G,Y),Ce.scissor(E.copy(B).multiplyScalar(R).floor())},this.getScissorTest=function(){return V},this.setScissorTest=function(C){Ce.setScissorTest(V=C)},this.setOpaqueSort=function(C){F=C},this.setTransparentSort=function(C){L=C},this.getClearColor=function(){return Q.getClearColor()},this.setClearColor=function(){Q.setClearColor.apply(Q,arguments)},this.getClearAlpha=function(){return Q.getClearAlpha()},this.setClearAlpha=function(){Q.setClearAlpha.apply(Q,arguments)},this.clear=function(C,W,G){let Y=0;(C===void 0||C)&&(Y|=16384),(W===void 0||W)&&(Y|=256),(G===void 0||G)&&(Y|=1024),j.clear(Y)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ye,!1),t.removeEventListener("webglcontextrestored",Le,!1),K.dispose(),$.dispose(),Pe.dispose(),te.dispose(),oe.dispose(),xe.dispose(),ce.dispose(),vt.stop()};function ye(C){C.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),p=!0}function Le(){console.log("THREE.WebGLRenderer: Context Restored."),p=!1,_e()}function Ae(C){const W=C.target;W.removeEventListener("dispose",Ae),$e(W)}function $e(C){Rt(C),Pe.remove(C)}function Rt(C){const W=Pe.get(C).program;W!==void 0&&T.releaseProgram(W)}function It(C,W){C.render(function(G){d.renderBufferImmediate(G,W)})}this.renderBufferImmediate=function(C,W){xe.initAttributes();const G=Pe.get(C);C.hasPositions&&!G.position&&(G.position=j.createBuffer()),C.hasNormals&&!G.normal&&(G.normal=j.createBuffer()),C.hasUvs&&!G.uv&&(G.uv=j.createBuffer()),C.hasColors&&!G.color&&(G.color=j.createBuffer());const Y=W.getAttributes();C.hasPositions&&(j.bindBuffer(34962,G.position),j.bufferData(34962,C.positionArray,35048),xe.enableAttribute(Y.position),j.vertexAttribPointer(Y.position,3,5126,!1,0,0)),C.hasNormals&&(j.bindBuffer(34962,G.normal),j.bufferData(34962,C.normalArray,35048),xe.enableAttribute(Y.normal),j.vertexAttribPointer(Y.normal,3,5126,!1,0,0)),C.hasUvs&&(j.bindBuffer(34962,G.uv),j.bufferData(34962,C.uvArray,35048),xe.enableAttribute(Y.uv),j.vertexAttribPointer(Y.uv,2,5126,!1,0,0)),C.hasColors&&(j.bindBuffer(34962,G.color),j.bufferData(34962,C.colorArray,35048),xe.enableAttribute(Y.color),j.vertexAttribPointer(Y.color,3,5126,!1,0,0)),xe.disableUnusedAttributes(),j.drawArrays(4,0,C.count),C.count=0},this.renderBufferDirect=function(C,W,G,Y,ae,qe){W===null&&(W=de);const Ve=ae.isMesh&&ae.matrixWorld.determinant()<0,Ye=Jr(C,W,Y,ae);Ce.setMaterial(Y,Ve);let Ge=G.index;const Mt=G.attributes.position;if(Ge===null){if(Mt===void 0||Mt.count===0)return}else if(Ge.count===0)return;let _t=1;Y.wireframe===!0&&(Ge=me.getWireframeAttribute(G),_t=2),(Y.morphTargets||Y.morphNormals)&&re.update(ae,G,Y,Ye),xe.setup(ae,Y,Ye,G,Ge);let Fe,nt=ue;Ge!==null&&(Fe=ne.get(Ge),nt=se,nt.setIndex(Fe));const Ni=Ge!==null?Ge.count:Mt.count,it=G.drawRange.start*_t,Qr=G.drawRange.count*_t,Dt=qe!==null?qe.start*_t:0,yh=qe!==null?qe.count*_t:1/0,dn=Math.max(it,Dt),ya=Math.min(Ni,it+Qr,Dt+yh)-1,Gs=Math.max(0,ya-dn+1);if(Gs!==0){if(ae.isMesh)Y.wireframe===!0?(Ce.setLineWidth(Y.wireframeLinewidth*Se()),nt.setMode(1)):nt.setMode(4);else if(ae.isLine){let va=Y.linewidth;va===void 0&&(va=1),Ce.setLineWidth(va*Se()),ae.isLineSegments?nt.setMode(1):ae.isLineLoop?nt.setMode(2):nt.setMode(3)}else ae.isPoints?nt.setMode(0):ae.isSprite&&nt.setMode(4);if(ae.isInstancedMesh)nt.renderInstances(dn,Gs,ae.count);else if(G.isInstancedBufferGeometry){const va=Math.min(G.instanceCount,G._maxInstanceCount);nt.renderInstances(dn,Gs,va)}else nt.render(dn,Gs)}},this.compile=function(C,W){f=$.get(C,W),f.init(),C.traverse(function(Y){Y.isLight&&(f.pushLight(Y),Y.castShadow&&f.pushShadow(Y))}),f.setupLights(W);const G=new WeakMap;C.traverse(function(Y){const ae=Y.material;if(ae)if(Array.isArray(ae))for(let qe=0;qe<ae.length;qe++){const Ve=ae[qe];G.has(Ve)===!1&&(nn(Ve,C,Y),G.set(Ve))}else G.has(ae)===!1&&(nn(ae,C,Y),G.set(ae))})};let ze=null;function Te(C){ce.isPresenting||ze&&ze(C)}const vt=new iS;vt.setAnimationLoop(Te),typeof window<"u"&&vt.setContext(window),this.setAnimationLoop=function(C){ze=C,ce.setAnimationLoop(C),C===null?vt.stop():vt.start()},this.render=function(C,W){let G,Y;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),G=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),Y=arguments[3]),W!==void 0&&W.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(p===!0)return;xe.resetDefaultState(),w=-1,b=null,C.autoUpdate===!0&&C.updateMatrixWorld(),W.parent===null&&W.updateMatrixWorld(),ce.enabled===!0&&ce.isPresenting===!0&&(W=ce.getCamera(W)),C.isScene===!0&&C.onBeforeRender(d,C,W,G||m),f=$.get(C,W),f.init(),X.multiplyMatrices(W.projectionMatrix,W.matrixWorldInverse),k.setFromProjectionMatrix(X),H=this.localClippingEnabled,U=D.init(this.clippingPlanes,H,W),u=K.get(C,W),u.init(),Jn(C,W,0,d.sortObjects),u.finish(),d.sortObjects===!0&&u.sort(F,L),U===!0&&D.beginShadows();const ae=f.state.shadowsArray;be.render(ae,C,W),f.setupLights(W),U===!0&&D.endShadows(),this.info.autoReset===!0&&this.info.reset(),G!==void 0&&this.setRenderTarget(G),Q.render(u,C,W,Y);const qe=u.opaque,Ve=u.transparent;qe.length>0&&Kn(qe,C,W),Ve.length>0&&Kn(Ve,C,W),C.isScene===!0&&C.onAfterRender(d,C,W),m!==null&&(J.updateRenderTargetMipmap(m),J.updateMultisampleRenderTarget(m)),Ce.buffers.depth.setTest(!0),Ce.buffers.depth.setMask(!0),Ce.buffers.color.setMask(!0),Ce.setPolygonOffset(!1),u=null,f=null};function Jn(C,W,G,Y){if(C.visible===!1)return;if(C.layers.test(W.layers)){if(C.isGroup)G=C.renderOrder;else if(C.isLOD)C.autoUpdate===!0&&C.update(W);else if(C.isLight)f.pushLight(C),C.castShadow&&f.pushShadow(C);else if(C.isSprite){if(!C.frustumCulled||k.intersectsSprite(C)){Y&&ie.setFromMatrixPosition(C.matrixWorld).applyMatrix4(X);const Ve=oe.update(C),Ye=C.material;Ye.visible&&u.push(C,Ve,Ye,G,ie.z,null)}}else if(C.isImmediateRenderObject)Y&&ie.setFromMatrixPosition(C.matrixWorld).applyMatrix4(X),u.push(C,null,C.material,G,ie.z,null);else if((C.isMesh||C.isLine||C.isPoints)&&(C.isSkinnedMesh&&C.skeleton.frame!==ke.render.frame&&(C.skeleton.update(),C.skeleton.frame=ke.render.frame),!C.frustumCulled||k.intersectsObject(C))){Y&&ie.setFromMatrixPosition(C.matrixWorld).applyMatrix4(X);const Ve=oe.update(C),Ye=C.material;if(Array.isArray(Ye)){const Ge=Ve.groups;for(let Mt=0,_t=Ge.length;Mt<_t;Mt++){const Fe=Ge[Mt],nt=Ye[Fe.materialIndex];nt&&nt.visible&&u.push(C,Ve,nt,G,ie.z,Fe)}}else Ye.visible&&u.push(C,Ve,Ye,G,ie.z,null)}}const qe=C.children;for(let Ve=0,Ye=qe.length;Ve<Ye;Ve++)Jn(qe[Ve],W,G,Y)}function Kn(C,W,G){const Y=W.isScene===!0?W.overrideMaterial:null;for(let ae=0,qe=C.length;ae<qe;ae++){const Ve=C[ae],Ye=Ve.object,Ge=Ve.geometry,Mt=Y===null?Ve.material:Y,_t=Ve.group;if(G.isArrayCamera){_=G;const Fe=G.cameras;for(let nt=0,Ni=Fe.length;nt<Ni;nt++){const it=Fe[nt];Ye.layers.test(it.layers)&&(Ce.viewport(M.copy(it.viewport)),f.setupLights(it),Zr(Ye,W,it,Ge,Mt,_t))}}else _=null,Zr(Ye,W,G,Ge,Mt,_t)}}function Zr(C,W,G,Y,ae,qe){if(C.onBeforeRender(d,W,G,Y,ae,qe),f=$.get(W,_||G),C.modelViewMatrix.multiplyMatrices(G.matrixWorldInverse,C.matrixWorld),C.normalMatrix.getNormalMatrix(C.modelViewMatrix),C.isImmediateRenderObject){const Ve=Jr(G,W,ae,C);Ce.setMaterial(ae),xe.reset(),It(C,Ve)}else d.renderBufferDirect(G,W,Y,ae,C,qe);C.onAfterRender(d,W,G,Y,ae,qe),f=$.get(W,_||G)}function nn(C,W,G){W.isScene!==!0&&(W=de);const Y=Pe.get(C),ae=f.state.lights,qe=f.state.shadowsArray,Ve=ae.state.version,Ye=T.getParameters(C,ae.state,qe,W,G),Ge=T.getProgramCacheKey(Ye);let Mt=Y.program,_t=!0;if(Mt===void 0)C.addEventListener("dispose",Ae);else if(Mt.cacheKey!==Ge)Rt(C);else if(Y.lightsStateVersion!==Ve)_t=!1;else if(Ye.shaderID!==void 0){const it=C.isMeshStandardMaterial?W.environment:null;Y.envMap=te.get(C.envMap||it);return}else _t=!1;_t&&(Ye.uniforms=T.getUniforms(C),C.onBeforeCompile(Ye,d),Mt=T.acquireProgram(Ye,Ge),Y.program=Mt,Y.uniforms=Ye.uniforms,Y.outputEncoding=Ye.outputEncoding);const Fe=Y.uniforms;(!C.isShaderMaterial&&!C.isRawShaderMaterial||C.clipping===!0)&&(Y.numClippingPlanes=D.numPlanes,Y.numIntersection=D.numIntersection,Fe.clippingPlanes=D.uniform),Y.environment=C.isMeshStandardMaterial?W.environment:null,Y.fog=W.fog,Y.envMap=te.get(C.envMap||Y.environment),Y.needsLights=Vs(C),Y.lightsStateVersion=Ve,Y.needsLights&&(Fe.ambientLightColor.value=ae.state.ambient,Fe.lightProbe.value=ae.state.probe,Fe.directionalLights.value=ae.state.directional,Fe.directionalLightShadows.value=ae.state.directionalShadow,Fe.spotLights.value=ae.state.spot,Fe.spotLightShadows.value=ae.state.spotShadow,Fe.rectAreaLights.value=ae.state.rectArea,Fe.ltc_1.value=ae.state.rectAreaLTC1,Fe.ltc_2.value=ae.state.rectAreaLTC2,Fe.pointLights.value=ae.state.point,Fe.pointLightShadows.value=ae.state.pointShadow,Fe.hemisphereLights.value=ae.state.hemi,Fe.directionalShadowMap.value=ae.state.directionalShadowMap,Fe.directionalShadowMatrix.value=ae.state.directionalShadowMatrix,Fe.spotShadowMap.value=ae.state.spotShadowMap,Fe.spotShadowMatrix.value=ae.state.spotShadowMatrix,Fe.pointShadowMap.value=ae.state.pointShadowMap,Fe.pointShadowMatrix.value=ae.state.pointShadowMatrix);const nt=Y.program.getUniforms(),Ni=Nr.seqWithValue(nt.seq,Fe);Y.uniformsList=Ni}function Jr(C,W,G,Y){W.isScene!==!0&&(W=de),J.resetTextureUnits();const ae=W.fog,qe=G.isMeshStandardMaterial?W.environment:null,Ve=m===null?d.outputEncoding:m.texture.encoding,Ye=te.get(G.envMap||qe),Ge=Pe.get(G),Mt=f.state.lights;if(U===!0&&(H===!0||C!==b)){const Dt=C===b&&G.id===w;D.setState(G,C,Dt)}G.version===Ge.__version?(G.fog&&Ge.fog!==ae||Ge.environment!==qe||Ge.needsLights&&Ge.lightsStateVersion!==Mt.state.version||Ge.numClippingPlanes!==void 0&&(Ge.numClippingPlanes!==D.numPlanes||Ge.numIntersection!==D.numIntersection)||Ge.outputEncoding!==Ve||Ge.envMap!==Ye)&&nn(G,W,Y):(nn(G,W,Y),Ge.__version=G.version);let _t=!1,Fe=!1,nt=!1;const Ni=Ge.program,it=Ni.getUniforms(),Qr=Ge.uniforms;if(Ce.useProgram(Ni.program)&&(_t=!0,Fe=!0,nt=!0),G.id!==w&&(w=G.id,Fe=!0),_t||b!==C){if(it.setValue(j,"projectionMatrix",C.projectionMatrix),De.logarithmicDepthBuffer&&it.setValue(j,"logDepthBufFC",2/(Math.log(C.far+1)/Math.LN2)),b!==C&&(b=C,Fe=!0,nt=!0),G.isShaderMaterial||G.isMeshPhongMaterial||G.isMeshToonMaterial||G.isMeshStandardMaterial||G.envMap){const Dt=it.map.cameraPosition;Dt!==void 0&&Dt.setValue(j,ie.setFromMatrixPosition(C.matrixWorld))}(G.isMeshPhongMaterial||G.isMeshToonMaterial||G.isMeshLambertMaterial||G.isMeshBasicMaterial||G.isMeshStandardMaterial||G.isShaderMaterial)&&it.setValue(j,"isOrthographic",C.isOrthographicCamera===!0),(G.isMeshPhongMaterial||G.isMeshToonMaterial||G.isMeshLambertMaterial||G.isMeshBasicMaterial||G.isMeshStandardMaterial||G.isShaderMaterial||G.isShadowMaterial||G.skinning)&&it.setValue(j,"viewMatrix",C.matrixWorldInverse)}if(G.skinning){it.setOptional(j,Y,"bindMatrix"),it.setOptional(j,Y,"bindMatrixInverse");const Dt=Y.skeleton;if(Dt){const yh=Dt.bones;if(De.floatVertexTextures){if(Dt.boneTexture===void 0){let dn=Math.sqrt(yh.length*4);dn=Be.ceilPowerOfTwo(dn),dn=Math.max(dn,4);const ya=new Float32Array(dn*dn*4);ya.set(Dt.boneMatrices);const Gs=new Ko(ya,dn,dn,hi,wr);Dt.boneMatrices=ya,Dt.boneTexture=Gs,Dt.boneTextureSize=dn}it.setValue(j,"boneTexture",Dt.boneTexture,J),it.setValue(j,"boneTextureSize",Dt.boneTextureSize)}else it.setOptional(j,Dt,"boneMatrices")}}return(Fe||Ge.receiveShadow!==Y.receiveShadow)&&(Ge.receiveShadow=Y.receiveShadow,it.setValue(j,"receiveShadow",Y.receiveShadow)),Fe&&(it.setValue(j,"toneMappingExposure",d.toneMappingExposure),Ge.needsLights&&Kr(Qr,nt),ae&&G.fog&&A.refreshFogUniforms(Qr,ae),A.refreshMaterialUniforms(Qr,G,R,N),Nr.upload(j,Ge.uniformsList,Qr,J)),G.isShaderMaterial&&G.uniformsNeedUpdate===!0&&(Nr.upload(j,Ge.uniformsList,Qr,J),G.uniformsNeedUpdate=!1),G.isSpriteMaterial&&it.setValue(j,"center",Y.center),it.setValue(j,"modelViewMatrix",Y.modelViewMatrix),it.setValue(j,"normalMatrix",Y.normalMatrix),it.setValue(j,"modelMatrix",Y.matrixWorld),Ni}function Kr(C,W){C.ambientLightColor.needsUpdate=W,C.lightProbe.needsUpdate=W,C.directionalLights.needsUpdate=W,C.directionalLightShadows.needsUpdate=W,C.pointLights.needsUpdate=W,C.pointLightShadows.needsUpdate=W,C.spotLights.needsUpdate=W,C.spotLightShadows.needsUpdate=W,C.rectAreaLights.needsUpdate=W,C.hemisphereLights.needsUpdate=W}function Vs(C){return C.isMeshLambertMaterial||C.isMeshToonMaterial||C.isMeshPhongMaterial||C.isMeshStandardMaterial||C.isShadowMaterial||C.isShaderMaterial&&C.lights===!0}this.setFramebuffer=function(C){y!==C&&m===null&&j.bindFramebuffer(36160,C),y=C},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return g},this.getRenderList=function(){return u},this.setRenderList=function(C){u=C},this.getRenderState=function(){return f},this.setRenderState=function(C){f=C},this.getRenderTarget=function(){return m},this.setRenderTarget=function(C,W=0,G=0){m=C,v=W,g=G,C&&Pe.get(C).__webglFramebuffer===void 0&&J.setupRenderTarget(C);let Y=y,ae=!1;if(C){const qe=Pe.get(C).__webglFramebuffer;C.isWebGLCubeRenderTarget?(Y=qe[W],ae=!0):C.isWebGLMultisampleRenderTarget?Y=Pe.get(C).__webglMultisampledFramebuffer:Y=qe,M.copy(C.viewport),E.copy(C.scissor),P=C.scissorTest}else M.copy(O).multiplyScalar(R).floor(),E.copy(B).multiplyScalar(R).floor(),P=V;if(x!==Y&&(j.bindFramebuffer(36160,Y),x=Y),Ce.viewport(M),Ce.scissor(E),Ce.setScissorTest(P),ae){const qe=Pe.get(C.texture);j.framebufferTexture2D(36160,36064,34069+W,qe.__webglTexture,G)}},this.readRenderTargetPixels=function(C,W,G,Y,ae,qe,Ve){if(!(C&&C.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ye=Pe.get(C).__webglFramebuffer;if(C.isWebGLCubeRenderTarget&&Ve!==void 0&&(Ye=Ye[Ve]),Ye){let Ge=!1;Ye!==x&&(j.bindFramebuffer(36160,Ye),Ge=!0);try{const Mt=C.texture,_t=Mt.format,Fe=Mt.type;if(_t!==hi&&ge.convert(_t)!==j.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Fe!==C0&&ge.convert(Fe)!==j.getParameter(35738)&&!(Fe===wr&&(De.isWebGL2||pe.get("OES_texture_float")||pe.get("WEBGL_color_buffer_float")))&&!(Fe===Ef&&(De.isWebGL2?pe.get("EXT_color_buffer_float"):pe.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}j.checkFramebufferStatus(36160)===36053?W>=0&&W<=C.width-Y&&G>=0&&G<=C.height-ae&&j.readPixels(W,G,Y,ae,ge.convert(_t),ge.convert(Fe),qe):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{Ge&&j.bindFramebuffer(36160,x)}}},this.copyFramebufferToTexture=function(C,W,G){G===void 0&&(G=0);const Y=Math.pow(2,-G),ae=Math.floor(W.image.width*Y),qe=Math.floor(W.image.height*Y),Ve=ge.convert(W.format);J.setTexture2D(W,0),j.copyTexImage2D(3553,G,Ve,C.x,C.y,ae,qe,0),Ce.unbindTexture()},this.copyTextureToTexture=function(C,W,G,Y){Y===void 0&&(Y=0);const ae=W.image.width,qe=W.image.height,Ve=ge.convert(G.format),Ye=ge.convert(G.type);J.setTexture2D(G,0),j.pixelStorei(37440,G.flipY),j.pixelStorei(37441,G.premultiplyAlpha),j.pixelStorei(3317,G.unpackAlignment),W.isDataTexture?j.texSubImage2D(3553,Y,C.x,C.y,ae,qe,Ve,Ye,W.image.data):W.isCompressedTexture?j.compressedTexSubImage2D(3553,Y,C.x,C.y,W.mipmaps[0].width,W.mipmaps[0].height,Ve,W.mipmaps[0].data):j.texSubImage2D(3553,Y,C.x,C.y,Ve,Ye,W.image),Y===0&&G.generateMipmaps&&j.generateMipmap(3553),Ce.unbindTexture()},this.initTexture=function(C){J.setTexture2D(C,0),Ce.unbindTexture()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function fx(e){xc.call(this,e)}fx.prototype=Object.assign(Object.create(xc.prototype),{constructor:fx,isWebGL1Renderer:!0});class P0{constructor(t,n){Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new ve(t),this.density=n!==void 0?n:25e-5}clone(){return new P0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class L0{constructor(t,n,i){Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new ve(t),this.near=n!==void 0?n:1,this.far=i!==void 0?i:1e3}clone(){return new L0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class R0 extends Ee{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,n){return super.copy(t,n),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const n=super.toJSON(t);return this.background!==null&&(n.object.background=this.background.toJSON(t)),this.environment!==null&&(n.object.environment=this.environment.toJSON(t)),this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}function Vn(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=fh,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Be.generateUUID()}Object.defineProperty(Vn.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Vn.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},clone:function(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Be.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new Vn(t,this.stride);return n.setUsage(this.usage),n},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Be.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const rs=new S;function Rs(e,t,n,i){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i===!0}Object.defineProperties(Rs.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}});Object.assign(Rs.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,n=this.data.count;t<n;t++)rs.x=this.getX(t),rs.y=this.getY(t),rs.z=this.getZ(t),rs.applyMatrix4(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this},clone:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new Oe(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Rs(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});function Is(e){Ie.call(this),this.type="SpriteMaterial",this.color=new ve(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Is.prototype=Object.create(Ie.prototype);Is.prototype.constructor=Is;Is.prototype.isSpriteMaterial=!0;Is.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};let no;const Da=new S,io=new S,ro=new S,so=new Z,Na=new Z,dS=new He,iu=new S,Oa=new S,ru=new S,hx=new Z,Pd=new Z,dx=new Z;function mm(e){if(Ee.call(this),this.type="Sprite",no===void 0){no=new Ue;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Vn(t,5);no.setIndex([0,1,2,0,2,3]),no.setAttribute("position",new Rs(n,3,0,!1)),no.setAttribute("uv",new Rs(n,2,3,!1))}this.geometry=no,this.material=e!==void 0?e:new Is,this.center=new Z(.5,.5)}mm.prototype=Object.assign(Object.create(Ee.prototype),{constructor:mm,isSprite:!0,raycast:function(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),io.setFromMatrixScale(this.matrixWorld),dS.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ro.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&io.multiplyScalar(-ro.z);const n=this.material.rotation;let i,r;n!==0&&(r=Math.cos(n),i=Math.sin(n));const s=this.center;su(iu.set(-.5,-.5,0),ro,s,io,i,r),su(Oa.set(.5,-.5,0),ro,s,io,i,r),su(ru.set(.5,.5,0),ro,s,io,i,r),hx.set(0,0),Pd.set(1,0),dx.set(1,1);let o=e.ray.intersectTriangle(iu,Oa,ru,!1,Da);if(o===null&&(su(Oa.set(-.5,.5,0),ro,s,io,i,r),Pd.set(0,1),o=e.ray.intersectTriangle(iu,ru,Oa,!1,Da),o===null))return;const a=e.ray.origin.distanceTo(Da);a<e.near||a>e.far||t.push({distance:a,point:Da.clone(),uv:on.getUV(Da,iu,Oa,ru,hx,Pd,dx,new Z),face:null,object:this})},copy:function(e){return Ee.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}});function su(e,t,n,i,r,s){so.subVectors(e,n).addScalar(.5).multiply(i),r!==void 0?(Na.x=s*so.x-r*so.y,Na.y=r*so.x+s*so.y):Na.copy(so),e.copy(t),e.x+=Na.x,e.y+=Na.y,e.applyMatrix4(dS)}const ou=new S,px=new S;function Pf(){Ee.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}Pf.prototype=Object.assign(Object.create(Ee.prototype),{constructor:Pf,isLOD:!0,copy:function(e){Ee.prototype.copy.call(this,e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const r=t[n];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){t===void 0&&(t=0),t=Math.abs(t);const n=this.levels;let i;for(i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){ou.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(ou);this.getObjectForDistance(i).raycast(e,t)}},update:function(e){const t=this.levels;if(t.length>1){ou.setFromMatrixPosition(e.matrixWorld),px.setFromMatrixPosition(this.matrixWorld);const n=ou.distanceTo(px)/e.zoom;t[0].object.visible=!0;let i,r;for(i=1,r=t.length;i<r&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}},toJSON:function(e){const t=Ee.prototype.toJSON.call(this,e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];t.object.levels.push({object:s.object.uuid,distance:s.distance})}return t}});function gm(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Ft.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new He,this.bindMatrixInverse=new He}gm.prototype=Object.assign(Object.create(Ft.prototype),{constructor:gm,isSkinnedMesh:!0,copy:function(e){return Ft.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new et,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Ft.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const e=new S,t=new et,n=new et,i=new S,r=new He;return function(s,o){const a=this.skeleton,l=this.geometry;t.fromBufferAttribute(l.attributes.skinIndex,s),n.fromBufferAttribute(l.attributes.skinWeight,s),e.fromBufferAttribute(l.attributes.position,s).applyMatrix4(this.bindMatrix),o.set(0,0,0);for(let c=0;c<4;c++){const h=n.getComponent(c);if(h!==0){const u=t.getComponent(c);r.multiplyMatrices(a.bones[u].matrixWorld,a.boneInverses[u]),o.addScaledVector(i.copy(e).applyMatrix4(r),h)}}return o.applyMatrix4(this.bindMatrixInverse)}}()});const mx=new He,G7=new He;function ym(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(this.bones.length*16),this.frame=-1,t===void 0)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new He)}}Object.assign(ym.prototype,{calculateInverses:function(){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++){const n=new He;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.getInverse(this.boneInverses[e])}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.getInverse(n.parent.matrixWorld),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}},update:function(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,s=e.length;r<s;r++){const o=e[r]?e[r].matrixWorld:G7;mx.multiplyMatrices(o,t[r]),mx.toArray(n,r*16)}i!==void 0&&(i.needsUpdate=!0)},clone:function(){return new ym(this.bones,this.boneInverses)},getBoneByName:function(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}});function gx(){Ee.call(this),this.type="Bone"}gx.prototype=Object.assign(Object.create(Ee.prototype),{constructor:gx,isBone:!0});const yx=new He,vx=new He,au=[],ka=new Ft;function vm(e,t,n){Ft.call(this,e,t),this.instanceMatrix=new Oe(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}vm.prototype=Object.assign(Object.create(Ft.prototype),{constructor:vm,isInstancedMesh:!0,copy:function(e){return Ft.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},setColorAt:function(e,t){this.instanceColor===null&&(this.instanceColor=new Oe(new Float32Array(this.count*3),3)),t.toArray(this.instanceColor.array,e*3)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,e*16)},raycast:function(e,t){const n=this.matrixWorld,i=this.count;if(ka.geometry=this.geometry,ka.material=this.material,ka.material!==void 0)for(let r=0;r<i;r++){this.getMatrixAt(r,yx),vx.multiplyMatrices(n,yx),ka.matrixWorld=vx,ka.raycast(e,au);for(let s=0,o=au.length;s<o;s++){const a=au[s];a.instanceId=r,a.object=this,t.push(a)}au.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,e*16)},updateMorphTargets:function(){}});function Yn(e){Ie.call(this),this.type="LineBasicMaterial",this.color=new ve(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Yn.prototype=Object.create(Ie.prototype);Yn.prototype.constructor=Yn;Yn.prototype.isLineBasicMaterial=!0;Yn.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};const xx=new S,wx=new S,_x=new He,lu=new yc,cu=new $r;function Ds(e,t,n){n===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Ee.call(this),this.type="Line",this.geometry=e!==void 0?e:new Ue,this.material=t!==void 0?t:new Yn,this.updateMorphTargets()}Ds.prototype=Object.assign(Object.create(Ee.prototype),{constructor:Ds,isLine:!0,copy:function(e){return Ee.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,r=t.count;i<r;i++)xx.fromBufferAttribute(t,i-1),wx.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=xx.distanceTo(wx);e.setAttribute("lineDistance",new we(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;n[0]=0;for(let i=1,r=t.length;i<r;i++)n[i]=n[i-1],n[i]+=t[i-1].distanceTo(t[i])}return this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),cu.copy(n.boundingSphere),cu.applyMatrix4(i),cu.radius+=r,e.ray.intersectsSphere(cu)===!1)return;_x.getInverse(i),lu.copy(e.ray).applyMatrix4(_x);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s,a=new S,l=new S,c=new S,h=new S,u=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){const f=n.index,p=n.attributes.position.array;if(f!==null){const y=f.array;for(let v=0,g=y.length-1;v<g;v+=u){const m=y[v],x=y[v+1];if(a.fromArray(p,m*3),l.fromArray(p,x*3),lu.distanceSqToSegment(a,l,h,c)>o)continue;h.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(h);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(let y=0,v=p.length/3-1;y<v;y+=u){if(a.fromArray(p,3*y),l.fromArray(p,3*y+3),lu.distanceSqToSegment(a,l,h,c)>o)continue;h.applyMatrix4(this.matrixWorld);const m=e.ray.origin.distanceTo(h);m<e.near||m>e.far||t.push({distance:m,point:c.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const f=n.vertices,d=f.length;for(let p=0;p<d-1;p+=u){if(lu.distanceSqToSegment(f[p],f[p+1],h,c)>o)continue;h.applyMatrix4(this.matrixWorld);const v=e.ray.origin.distanceTo(h);v<e.near||v>e.far||t.push({distance:v,point:c.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=i.length;r<s;r++){const o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const uu=new S,fu=new S;function Wl(e,t){Ds.call(this,e,t),this.type="LineSegments"}Wl.prototype=Object.assign(Object.create(Ds.prototype),{constructor:Wl,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,r=t.count;i<r;i+=2)uu.fromBufferAttribute(t,i),fu.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+uu.distanceTo(fu);e.setAttribute("lineDistance",new we(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;for(let i=0,r=t.length;i<r;i+=2)uu.copy(t[i]),fu.copy(t[i+1]),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+uu.distanceTo(fu)}return this}});function xm(e,t){Ds.call(this,e,t),this.type="LineLoop"}xm.prototype=Object.assign(Object.create(Ds.prototype),{constructor:xm,isLineLoop:!0});function Ns(e){Ie.call(this),this.type="PointsMaterial",this.color=new ve(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Ns.prototype=Object.create(Ie.prototype);Ns.prototype.constructor=Ns;Ns.prototype.isPointsMaterial=!0;Ns.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};const bx=new He,wm=new yc,hu=new $r,du=new S;function _m(e,t){Ee.call(this),this.type="Points",this.geometry=e!==void 0?e:new Ue,this.material=t!==void 0?t:new Ns,this.updateMorphTargets()}_m.prototype=Object.assign(Object.create(Ee.prototype),{constructor:_m,isPoints:!0,copy:function(e){return Ee.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),hu.copy(n.boundingSphere),hu.applyMatrix4(i),hu.radius+=r,e.ray.intersectsSphere(hu)===!1)return;bx.getInverse(i),wm.copy(e.ray).applyMatrix4(bx);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s;if(n.isBufferGeometry){const a=n.index,c=n.attributes.position.array;if(a!==null){const h=a.array;for(let u=0,f=h.length;u<f;u++){const d=h[u];du.fromArray(c,d*3),Ld(du,d,o,i,e,t,this)}}else for(let h=0,u=c.length/3;h<u;h++)du.fromArray(c,h*3),Ld(du,h,o,i,e,t,this)}else{const a=n.vertices;for(let l=0,c=a.length;l<c;l++)Ld(a[l],l,o,i,e,t,this)}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=i.length;r<s;r++){const o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});function Ld(e,t,n,i,r,s,o){const a=wm.distanceSqToPoint(e);if(a<n){const l=new S;wm.closestPointToPoint(e,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:t,face:null,object:o})}}function Mx(e,t,n,i,r,s,o,a,l){tt.call(this,e,t,n,i,r,s,o,a,l),this.format=o!==void 0?o:ws,this.minFilter=s!==void 0?s:Gt,this.magFilter=r!==void 0?r:Gt,this.generateMipmaps=!1;const c=this;function h(){c.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}Mx.prototype=Object.assign(Object.create(tt.prototype),{constructor:Mx,isVideoTexture:!0,update:function(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function jl(e,t,n,i,r,s,o,a,l,c,h,u){tt.call(this,null,s,o,a,l,c,i,r,h,u),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}jl.prototype=Object.create(tt.prototype);jl.prototype.constructor=jl;jl.prototype.isCompressedTexture=!0;function Lf(e,t,n,i,r,s,o,a,l){tt.call(this,e,t,n,i,r,s,o,a,l),this.needsUpdate=!0}Lf.prototype=Object.create(tt.prototype);Lf.prototype.constructor=Lf;Lf.prototype.isCanvasTexture=!0;function Rf(e,t,n,i,r,s,o,a,l,c){if(c=c!==void 0?c:Uo,c!==Uo&&c!==Fl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&c===Uo&&(n=Tf),n===void 0&&c===Fl&&(n=al),tt.call(this,null,i,r,s,o,a,c,n,l),this.image={width:e,height:t},this.magFilter=o!==void 0?o:Zt,this.minFilter=a!==void 0?a:Zt,this.flipY=!1,this.generateMipmaps=!1}Rf.prototype=Object.create(tt.prototype);Rf.prototype.constructor=Rf;Rf.prototype.isDepthTexture=!0;class H7 extends Ue{constructor(t){super(),this.type="WireframeGeometry";const n=[],i=[0,0],r={},s=["a","b","c"];if(t&&t.isGeometry){const o=t.faces;for(let a=0,l=o.length;a<l;a++){const c=o[a];for(let h=0;h<3;h++){const u=c[s[h]],f=c[s[(h+1)%3]];i[0]=Math.min(u,f),i[1]=Math.max(u,f);const d=i[0]+","+i[1];r[d]===void 0&&(r[d]={index1:i[0],index2:i[1]})}}for(const a in r){const l=r[a];let c=t.vertices[l.index1];n.push(c.x,c.y,c.z),c=t.vertices[l.index2],n.push(c.x,c.y,c.z)}}else if(t&&t.isBufferGeometry){const o=new S;if(t.index!==null){const a=t.attributes.position,l=t.index;let c=t.groups;c.length===0&&(c=[{start:0,count:l.count,materialIndex:0}]);for(let h=0,u=c.length;h<u;++h){const f=c[h],d=f.start,p=f.count;for(let y=d,v=d+p;y<v;y+=3)for(let g=0;g<3;g++){const m=l.getX(y+g),x=l.getX(y+(g+1)%3);i[0]=Math.min(m,x),i[1]=Math.max(m,x);const w=i[0]+","+i[1];r[w]===void 0&&(r[w]={index1:i[0],index2:i[1]})}}for(const h in r){const u=r[h];o.fromBufferAttribute(a,u.index1),n.push(o.x,o.y,o.z),o.fromBufferAttribute(a,u.index2),n.push(o.x,o.y,o.z)}}else{const a=t.attributes.position;for(let l=0,c=a.count/3;l<c;l++)for(let h=0;h<3;h++){const u=3*l+h;o.fromBufferAttribute(a,u),n.push(o.x,o.y,o.z);const f=3*l+(h+1)%3;o.fromBufferAttribute(a,f),n.push(o.x,o.y,o.z)}}}this.setAttribute("position",new we(n,3))}}function If(e,t,n){Je.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Xl(e,t,n)),this.mergeVertices()}If.prototype=Object.create(Je.prototype);If.prototype.constructor=If;function Xl(e,t,n){Ue.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};const i=[],r=[],s=[],o=[],a=1e-5,l=new S,c=new S,h=new S,u=new S,f=new S;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const d=t+1;for(let p=0;p<=n;p++){const y=p/n;for(let v=0;v<=t;v++){const g=v/t;e(g,y,c),r.push(c.x,c.y,c.z),g-a>=0?(e(g-a,y,h),u.subVectors(c,h)):(e(g+a,y,h),u.subVectors(h,c)),y-a>=0?(e(g,y-a,h),f.subVectors(c,h)):(e(g,y+a,h),f.subVectors(h,c)),l.crossVectors(u,f).normalize(),s.push(l.x,l.y,l.z),o.push(g,y)}}for(let p=0;p<n;p++)for(let y=0;y<t;y++){const v=p*d+y,g=p*d+y+1,m=(p+1)*d+y+1,x=(p+1)*d+y;i.push(v,g,x),i.push(g,m,x)}this.setIndex(i),this.setAttribute("position",new we(r,3)),this.setAttribute("normal",new we(s,3)),this.setAttribute("uv",new we(o,2))}Xl.prototype=Object.create(Ue.prototype);Xl.prototype.constructor=Xl;class W7 extends Je{constructor(t,n,i,r){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:n,radius:i,detail:r},this.fromBufferGeometry(new ga(t,n,i,r)),this.mergeVertices()}}class ga extends Ue{constructor(t,n,i,r){super(),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:n,radius:i,detail:r},i=i||1,r=r||0;const s=[],o=[];a(r),c(i),h(),this.setAttribute("position",new we(s,3)),this.setAttribute("normal",new we(s.slice(),3)),this.setAttribute("uv",new we(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(m){const x=new S,w=new S,b=new S;for(let _=0;_<n.length;_+=3)d(n[_+0],x),d(n[_+1],w),d(n[_+2],b),l(x,w,b,m)}function l(m,x,w,b){const _=Math.pow(2,b),M=[];for(let E=0;E<=_;E++){M[E]=[];const P=m.clone().lerp(w,E/_),I=x.clone().lerp(w,E/_),N=_-E;for(let R=0;R<=N;R++)R===0&&E===_?M[E][R]=P:M[E][R]=P.clone().lerp(I,R/N)}for(let E=0;E<_;E++)for(let P=0;P<2*(_-E)-1;P++){const I=Math.floor(P/2);P%2===0?(f(M[E][I+1]),f(M[E+1][I]),f(M[E][I])):(f(M[E][I+1]),f(M[E+1][I+1]),f(M[E+1][I]))}}function c(m){const x=new S;for(let w=0;w<s.length;w+=3)x.x=s[w+0],x.y=s[w+1],x.z=s[w+2],x.normalize().multiplyScalar(m),s[w+0]=x.x,s[w+1]=x.y,s[w+2]=x.z}function h(){const m=new S;for(let x=0;x<s.length;x+=3){m.x=s[x+0],m.y=s[x+1],m.z=s[x+2];const w=v(m)/2/Math.PI+.5,b=g(m)/Math.PI+.5;o.push(w,1-b)}p(),u()}function u(){for(let m=0;m<o.length;m+=6){const x=o[m+0],w=o[m+2],b=o[m+4],_=Math.max(x,w,b),M=Math.min(x,w,b);_>.9&&M<.1&&(x<.2&&(o[m+0]+=1),w<.2&&(o[m+2]+=1),b<.2&&(o[m+4]+=1))}}function f(m){s.push(m.x,m.y,m.z)}function d(m,x){const w=m*3;x.x=t[w+0],x.y=t[w+1],x.z=t[w+2]}function p(){const m=new S,x=new S,w=new S,b=new S,_=new Z,M=new Z,E=new Z;for(let P=0,I=0;P<s.length;P+=9,I+=6){m.set(s[P+0],s[P+1],s[P+2]),x.set(s[P+3],s[P+4],s[P+5]),w.set(s[P+6],s[P+7],s[P+8]),_.set(o[I+0],o[I+1]),M.set(o[I+2],o[I+3]),E.set(o[I+4],o[I+5]),b.copy(m).add(x).add(w).divideScalar(3);const N=v(b);y(_,I+0,m,N),y(M,I+2,x,N),y(E,I+4,w,N)}}function y(m,x,w,b){b<0&&m.x===1&&(o[x]=m.x-1),w.x===0&&w.z===0&&(o[x]=b/2/Math.PI+.5)}function v(m){return Math.atan2(m.z,-m.x)}function g(m){return Math.atan2(-m.y,Math.sqrt(m.x*m.x+m.z*m.z))}}}class j7 extends Je{constructor(t,n){super(),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:n},this.fromBufferGeometry(new pS(t,n)),this.mergeVertices()}}class pS extends ga{constructor(t,n){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,t,n),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:n}}}class X7 extends Je{constructor(t,n){super(),this.type="OctahedronGeometry",this.parameters={radius:t,detail:n},this.fromBufferGeometry(new mS(t,n)),this.mergeVertices()}}class mS extends ga{constructor(t,n){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,t,n),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:n}}}class q7 extends Je{constructor(t,n){super(),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:n},this.fromBufferGeometry(new gS(t,n)),this.mergeVertices()}}class gS extends ga{constructor(t,n){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,t,n),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:n}}}class Y7 extends Je{constructor(t,n){super(),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:n},this.fromBufferGeometry(new yS(t,n)),this.mergeVertices()}}class yS extends ga{constructor(t,n){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,t,n),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:n}}}class $7 extends Je{constructor(t,n,i,r,s,o){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:n,radius:i,radialSegments:r,closed:s},o!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");const a=new vS(t,n,i,r,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}}class vS extends Ue{constructor(t,n,i,r,s){super(),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:n,radius:i,radialSegments:r,closed:s},n=n||64,i=i||1,r=r||8,s=s||!1;const o=t.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new S,l=new S,c=new Z;let h=new S;const u=[],f=[],d=[],p=[];y(),this.setIndex(p),this.setAttribute("position",new we(u,3)),this.setAttribute("normal",new we(f,3)),this.setAttribute("uv",new we(d,2));function y(){for(let x=0;x<n;x++)v(x);v(s===!1?n:0),m(),g()}function v(x){h=t.getPointAt(x/n,h);const w=o.normals[x],b=o.binormals[x];for(let _=0;_<=r;_++){const M=_/r*Math.PI*2,E=Math.sin(M),P=-Math.cos(M);l.x=P*w.x+E*b.x,l.y=P*w.y+E*b.y,l.z=P*w.z+E*b.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=h.x+i*l.x,a.y=h.y+i*l.y,a.z=h.z+i*l.z,u.push(a.x,a.y,a.z)}}function g(){for(let x=1;x<=n;x++)for(let w=1;w<=r;w++){const b=(r+1)*(x-1)+(w-1),_=(r+1)*x+(w-1),M=(r+1)*x+w,E=(r+1)*(x-1)+w;p.push(b,_,E),p.push(_,M,E)}}function m(){for(let x=0;x<=n;x++)for(let w=0;w<=r;w++)c.x=x/n,c.y=w/r,d.push(c.x,c.y)}}toJSON(){const t=Ue.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t}}class Z7 extends Je{constructor(t,n,i,r,s,o,a){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:n,tubularSegments:i,radialSegments:r,p:s,q:o},a!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new xS(t,n,i,r,s,o)),this.mergeVertices()}}class xS extends Ue{constructor(t,n,i,r,s,o){super(),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:n,tubularSegments:i,radialSegments:r,p:s,q:o},t=t||1,n=n||.4,i=Math.floor(i)||64,r=Math.floor(r)||8,s=s||2,o=o||3;const a=[],l=[],c=[],h=[],u=new S,f=new S,d=new S,p=new S,y=new S,v=new S,g=new S;for(let x=0;x<=i;++x){const w=x/i*s*Math.PI*2;m(w,s,o,t,d),m(w+.01,s,o,t,p),v.subVectors(p,d),g.addVectors(p,d),y.crossVectors(v,g),g.crossVectors(y,v),y.normalize(),g.normalize();for(let b=0;b<=r;++b){const _=b/r*Math.PI*2,M=-n*Math.cos(_),E=n*Math.sin(_);u.x=d.x+(M*g.x+E*y.x),u.y=d.y+(M*g.y+E*y.y),u.z=d.z+(M*g.z+E*y.z),l.push(u.x,u.y,u.z),f.subVectors(u,d).normalize(),c.push(f.x,f.y,f.z),h.push(x/i),h.push(b/r)}}for(let x=1;x<=i;x++)for(let w=1;w<=r;w++){const b=(r+1)*(x-1)+(w-1),_=(r+1)*x+(w-1),M=(r+1)*x+w,E=(r+1)*(x-1)+w;a.push(b,_,E),a.push(_,M,E)}this.setIndex(a),this.setAttribute("position",new we(l,3)),this.setAttribute("normal",new we(c,3)),this.setAttribute("uv",new we(h,2));function m(x,w,b,_,M){const E=Math.cos(x),P=Math.sin(x),I=b/w*x,N=Math.cos(I);M.x=_*(2+N)*.5*E,M.y=_*(2+N)*P*.5,M.z=_*Math.sin(I)*.5}}}class J7 extends Je{constructor(t,n,i,r,s){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:n,radialSegments:i,tubularSegments:r,arc:s},this.fromBufferGeometry(new wS(t,n,i,r,s)),this.mergeVertices()}}class wS extends Ue{constructor(t,n,i,r,s){super(),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:n,radialSegments:i,tubularSegments:r,arc:s},t=t||1,n=n||.4,i=Math.floor(i)||8,r=Math.floor(r)||6,s=s||Math.PI*2;const o=[],a=[],l=[],c=[],h=new S,u=new S,f=new S;for(let d=0;d<=i;d++)for(let p=0;p<=r;p++){const y=p/r*s,v=d/i*Math.PI*2;u.x=(t+n*Math.cos(v))*Math.cos(y),u.y=(t+n*Math.cos(v))*Math.sin(y),u.z=n*Math.sin(v),a.push(u.x,u.y,u.z),h.x=t*Math.cos(y),h.y=t*Math.sin(y),f.subVectors(u,h).normalize(),l.push(f.x,f.y,f.z),c.push(p/r),c.push(d/i)}for(let d=1;d<=i;d++)for(let p=1;p<=r;p++){const y=(r+1)*d+p-1,v=(r+1)*(d-1)+p-1,g=(r+1)*(d-1)+p,m=(r+1)*d+p;o.push(y,v,m),o.push(v,g,m)}this.setIndex(o),this.setAttribute("position",new we(a,3)),this.setAttribute("normal",new we(l,3)),this.setAttribute("uv",new we(c,2))}}const K7={triangulate:function(e,t,n){n=n||2;const i=t&&t.length,r=i?t[0]*n:e.length;let s=_S(e,0,r,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,h,u,f,d;if(i&&(s=iO(e,t,s,n)),e.length>80*n){a=c=e[0],l=h=e[1];for(let p=n;p<r;p+=n)u=e[p],f=e[p+1],u<a&&(a=u),f<l&&(l=f),u>c&&(c=u),f>h&&(h=f);d=Math.max(c-a,h-l),d=d!==0?1/d:0}return ql(s,o,n,a,l,d),o}};function _S(e,t,n,i,r){let s,o;if(r===pO(e,t,n,i)>0)for(s=t;s<n;s+=i)o=Sx(s,e[s],e[s+1],o);else for(s=n-i;s>=t;s-=i)o=Sx(s,e[s],e[s+1],o);return o&&mh(o,o.next)&&($l(o),o=o.next),o}function Vr(e,t){if(!e)return e;t||(t=e);let n=e,i;do if(i=!1,!n.steiner&&(mh(n,n.next)||mt(n.prev,n,n.next)===0)){if($l(n),n=t=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==t);return t}function ql(e,t,n,i,r,s,o){if(!e)return;!o&&s&&lO(e,i,r,s);let a=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,s?eO(e,i,r,s):Q7(e)){t.push(l.i/n),t.push(e.i/n),t.push(c.i/n),$l(e),e=c.next,a=c.next;continue}if(e=c,e===a){o?o===1?(e=tO(Vr(e),t,n),ql(e,t,n,i,r,s,2)):o===2&&nO(e,t,n,i,r,s):ql(Vr(e),t,n,i,r,s,1);break}}}function Q7(e){const t=e.prev,n=e,i=e.next;if(mt(t,n,i)>=0)return!1;let r=e.next.next;for(;r!==e.prev;){if(Ro(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&mt(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function eO(e,t,n,i){const r=e.prev,s=e,o=e.next;if(mt(r,s,o)>=0)return!1;const a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,l=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,h=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,u=bm(a,l,t,n,i),f=bm(c,h,t,n,i);let d=e.prevZ,p=e.nextZ;for(;d&&d.z>=u&&p&&p.z<=f;){if(d!==e.prev&&d!==e.next&&Ro(r.x,r.y,s.x,s.y,o.x,o.y,d.x,d.y)&&mt(d.prev,d,d.next)>=0||(d=d.prevZ,p!==e.prev&&p!==e.next&&Ro(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&mt(p.prev,p,p.next)>=0))return!1;p=p.nextZ}for(;d&&d.z>=u;){if(d!==e.prev&&d!==e.next&&Ro(r.x,r.y,s.x,s.y,o.x,o.y,d.x,d.y)&&mt(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=f;){if(p!==e.prev&&p!==e.next&&Ro(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&mt(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function tO(e,t,n){let i=e;do{const r=i.prev,s=i.next.next;!mh(r,s)&&bS(r,i,i.next,s)&&Yl(r,s)&&Yl(s,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(s.i/n),$l(i),$l(i.next),i=e=s),i=i.next}while(i!==e);return Vr(i)}function nO(e,t,n,i,r,s){let o=e;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&fO(o,a)){let l=MS(o,a);o=Vr(o,o.next),l=Vr(l,l.next),ql(o,t,n,i,r,s),ql(l,t,n,i,r,s);return}a=a.next}o=o.next}while(o!==e)}function iO(e,t,n,i){const r=[];let s,o,a,l,c;for(s=0,o=t.length;s<o;s++)a=t[s]*i,l=s<o-1?t[s+1]*i:e.length,c=_S(e,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(uO(c));for(r.sort(rO),s=0;s<r.length;s++)sO(r[s],n),n=Vr(n,n.next);return n}function rO(e,t){return e.x-t.x}function sO(e,t){if(t=oO(e,t),t){const n=MS(t,e);Vr(t,t.next),Vr(n,n.next)}}function oO(e,t){let n=t;const i=e.x,r=e.y;let s=-1/0,o;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const f=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=i&&f>s){if(s=f,f===i){if(r===n.y)return n;if(r===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(i===s)return o;const a=o,l=o.x,c=o.y;let h=1/0,u;n=o;do i>=n.x&&n.x>=l&&i!==n.x&&Ro(r<c?i:s,r,l,c,r<c?s:i,r,n.x,n.y)&&(u=Math.abs(r-n.y)/(i-n.x),Yl(n,e)&&(u<h||u===h&&(n.x>o.x||n.x===o.x&&aO(o,n)))&&(o=n,h=u)),n=n.next;while(n!==a);return o}function aO(e,t){return mt(e.prev,e,t.prev)<0&&mt(t.next,e,e.next)<0}function lO(e,t,n,i){let r=e;do r.z===null&&(r.z=bm(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,cO(r)}function cO(e){let t,n,i,r,s,o,a,l,c=1;do{for(n=e,e=null,s=null,o=0;n;){for(o++,i=n,a=0,t=0;t<c&&(a++,i=i.nextZ,!!i);t++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:e=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(o>1);return e}function bm(e,t,n,i,r){return e=32767*(e-n)*r,t=32767*(t-i)*r,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function uO(e){let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function Ro(e,t,n,i,r,s,o,a){return(r-o)*(t-a)-(e-o)*(s-a)>=0&&(e-o)*(i-a)-(n-o)*(t-a)>=0&&(n-o)*(s-a)-(r-o)*(i-a)>=0}function fO(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!hO(e,t)&&(Yl(e,t)&&Yl(t,e)&&dO(e,t)&&(mt(e.prev,e,t.prev)||mt(e,t.prev,t))||mh(e,t)&&mt(e.prev,e,e.next)>0&&mt(t.prev,t,t.next)>0)}function mt(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function mh(e,t){return e.x===t.x&&e.y===t.y}function bS(e,t,n,i){const r=mu(mt(e,t,n)),s=mu(mt(e,t,i)),o=mu(mt(n,i,e)),a=mu(mt(n,i,t));return!!(r!==s&&o!==a||r===0&&pu(e,n,t)||s===0&&pu(e,i,t)||o===0&&pu(n,e,i)||a===0&&pu(n,t,i))}function pu(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function mu(e){return e>0?1:e<0?-1:0}function hO(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&bS(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Yl(e,t){return mt(e.prev,e,e.next)<0?mt(e,t,e.next)>=0&&mt(e,e.prev,t)>=0:mt(e,t,e.prev)<0||mt(e,e.next,t)<0}function dO(e,t){let n=e,i=!1;const r=(e.x+t.x)/2,s=(e.y+t.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==e);return i}function MS(e,t){const n=new Mm(e.i,e.x,e.y),i=new Mm(t.i,t.x,t.y),r=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function Sx(e,t,n,i){const r=new Mm(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function $l(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Mm(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function pO(e,t,n,i){let r=0;for(let s=t,o=n-i;s<n;s+=i)r+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return r}const Or={area:function(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return n*.5},isClockWise:function(e){return Or.area(e)<0},triangulateShape:function(e,t){const n=[],i=[],r=[];Tx(e),Ex(n,e);let s=e.length;t.forEach(Tx);for(let a=0;a<t.length;a++)i.push(s),s+=t[a].length,Ex(n,t[a]);const o=K7.triangulate(n,i);for(let a=0;a<o.length;a+=3)r.push(o.slice(a,a+3));return r}};function Tx(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Ex(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class SS extends Je{constructor(t,n){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:n},this.fromBufferGeometry(new gh(t,n)),this.mergeVertices()}toJSON(){const t=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return TS(n,i,t)}}class gh extends Ue{constructor(t,n){super(),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:n},t=Array.isArray(t)?t:[t];const i=this,r=[],s=[];for(let a=0,l=t.length;a<l;a++){const c=t[a];o(c)}this.setAttribute("position",new we(r,3)),this.setAttribute("uv",new we(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,h=n.steps!==void 0?n.steps:1;let u=n.depth!==void 0?n.depth:100,f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,d=n.bevelThickness!==void 0?n.bevelThickness:6,p=n.bevelSize!==void 0?n.bevelSize:d-2,y=n.bevelOffset!==void 0?n.bevelOffset:0,v=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,m=n.UVGenerator!==void 0?n.UVGenerator:mO;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=n.amount);let x,w=!1,b,_,M,E;g&&(x=g.getSpacedPoints(h),w=!0,f=!1,b=g.computeFrenetFrames(h,!1),_=new S,M=new S,E=new S),f||(v=0,d=0,p=0,y=0);const P=a.extractPoints(c);let I=P.shape;const N=P.holes;if(!Or.isClockWise(I)){I=I.reverse();for(let J=0,te=N.length;J<te;J++){const ne=N[J];Or.isClockWise(ne)&&(N[J]=ne.reverse())}}const F=Or.triangulateShape(I,N),L=I;for(let J=0,te=N.length;J<te;J++){const ne=N[J];I=I.concat(ne)}function O(J,te,ne){return te||console.error("THREE.ExtrudeGeometry: vec does not exist"),te.clone().multiplyScalar(ne).add(J)}const B=I.length,V=F.length;function k(J,te,ne){let me,oe,T;const A=J.x-te.x,K=J.y-te.y,$=ne.x-J.x,D=ne.y-J.y,Q=A*A+K*K,re=A*D-K*$;if(Math.abs(re)>Number.EPSILON){const ue=Math.sqrt(Q),se=Math.sqrt($*$+D*D),ge=te.x-K/ue,xe=te.y+A/ue,_e=ne.x-D/se,ce=ne.y+$/se,be=((_e-ge)*D-(ce-xe)*$)/(A*D-K*$);me=ge+A*be-J.x,oe=xe+K*be-J.y;const ye=me*me+oe*oe;if(ye<=2)return new Z(me,oe);T=Math.sqrt(ye/2)}else{let ue=!1;A>Number.EPSILON?$>Number.EPSILON&&(ue=!0):A<-Number.EPSILON?$<-Number.EPSILON&&(ue=!0):Math.sign(K)===Math.sign(D)&&(ue=!0),ue?(me=-K,oe=A,T=Math.sqrt(Q)):(me=A,oe=K,T=Math.sqrt(Q/2))}return new Z(me/T,oe/T)}const U=[];for(let J=0,te=L.length,ne=te-1,me=J+1;J<te;J++,ne++,me++)ne===te&&(ne=0),me===te&&(me=0),U[J]=k(L[J],L[ne],L[me]);const H=[];let X,ie=U.concat();for(let J=0,te=N.length;J<te;J++){const ne=N[J];X=[];for(let me=0,oe=ne.length,T=oe-1,A=me+1;me<oe;me++,T++,A++)T===oe&&(T=0),A===oe&&(A=0),X[me]=k(ne[me],ne[T],ne[A]);H.push(X),ie=ie.concat(X)}for(let J=0;J<v;J++){const te=J/v,ne=d*Math.cos(te*Math.PI/2),me=p*Math.sin(te*Math.PI/2)+y;for(let oe=0,T=L.length;oe<T;oe++){const A=O(L[oe],U[oe],me);pe(A.x,A.y,-ne)}for(let oe=0,T=N.length;oe<T;oe++){const A=N[oe];X=H[oe];for(let K=0,$=A.length;K<$;K++){const D=O(A[K],X[K],me);pe(D.x,D.y,-ne)}}}const de=p+y;for(let J=0;J<B;J++){const te=f?O(I[J],ie[J],de):I[J];w?(M.copy(b.normals[0]).multiplyScalar(te.x),_.copy(b.binormals[0]).multiplyScalar(te.y),E.copy(x[0]).add(M).add(_),pe(E.x,E.y,E.z)):pe(te.x,te.y,0)}for(let J=1;J<=h;J++)for(let te=0;te<B;te++){const ne=f?O(I[te],ie[te],de):I[te];w?(M.copy(b.normals[J]).multiplyScalar(ne.x),_.copy(b.binormals[J]).multiplyScalar(ne.y),E.copy(x[J]).add(M).add(_),pe(E.x,E.y,E.z)):pe(ne.x,ne.y,u/h*J)}for(let J=v-1;J>=0;J--){const te=J/v,ne=d*Math.cos(te*Math.PI/2),me=p*Math.sin(te*Math.PI/2)+y;for(let oe=0,T=L.length;oe<T;oe++){const A=O(L[oe],U[oe],me);pe(A.x,A.y,u+ne)}for(let oe=0,T=N.length;oe<T;oe++){const A=N[oe];X=H[oe];for(let K=0,$=A.length;K<$;K++){const D=O(A[K],X[K],me);w?pe(D.x,D.y+x[h-1].y,x[h-1].x+ne):pe(D.x,D.y,u+ne)}}}Se(),j();function Se(){const J=r.length/3;if(f){let te=0,ne=B*te;for(let me=0;me<V;me++){const oe=F[me];De(oe[2]+ne,oe[1]+ne,oe[0]+ne)}te=h+v*2,ne=B*te;for(let me=0;me<V;me++){const oe=F[me];De(oe[0]+ne,oe[1]+ne,oe[2]+ne)}}else{for(let te=0;te<V;te++){const ne=F[te];De(ne[2],ne[1],ne[0])}for(let te=0;te<V;te++){const ne=F[te];De(ne[0]+B*h,ne[1]+B*h,ne[2]+B*h)}}i.addGroup(J,r.length/3-J,0)}function j(){const J=r.length/3;let te=0;We(L,te),te+=L.length;for(let ne=0,me=N.length;ne<me;ne++){const oe=N[ne];We(oe,te),te+=oe.length}i.addGroup(J,r.length/3-J,1)}function We(J,te){let ne=J.length;for(;--ne>=0;){const me=ne;let oe=ne-1;oe<0&&(oe=J.length-1);for(let T=0,A=h+v*2;T<A;T++){const K=B*T,$=B*(T+1),D=te+me+K,Q=te+oe+K,re=te+oe+$,ue=te+me+$;Ce(D,Q,re,ue)}}}function pe(J,te,ne){l.push(J),l.push(te),l.push(ne)}function De(J,te,ne){ke(J),ke(te),ke(ne);const me=r.length/3,oe=m.generateTopUV(i,r,me-3,me-2,me-1);Pe(oe[0]),Pe(oe[1]),Pe(oe[2])}function Ce(J,te,ne,me){ke(J),ke(te),ke(me),ke(te),ke(ne),ke(me);const oe=r.length/3,T=m.generateSideWallUV(i,r,oe-6,oe-3,oe-2,oe-1);Pe(T[0]),Pe(T[1]),Pe(T[3]),Pe(T[1]),Pe(T[2]),Pe(T[3])}function ke(J){r.push(l[J*3+0]),r.push(l[J*3+1]),r.push(l[J*3+2])}function Pe(J){s.push(J.x),s.push(J.y)}}}toJSON(){const t=Ue.prototype.toJSON.call(this),n=this.parameters.shapes,i=this.parameters.options;return TS(n,i,t)}}const mO={generateTopUV:function(e,t,n,i,r){const s=t[n*3],o=t[n*3+1],a=t[i*3],l=t[i*3+1],c=t[r*3],h=t[r*3+1];return[new Z(s,o),new Z(a,l),new Z(c,h)]},generateSideWallUV:function(e,t,n,i,r,s){const o=t[n*3],a=t[n*3+1],l=t[n*3+2],c=t[i*3],h=t[i*3+1],u=t[i*3+2],f=t[r*3],d=t[r*3+1],p=t[r*3+2],y=t[s*3],v=t[s*3+1],g=t[s*3+2];return Math.abs(a-h)<.01?[new Z(o,1-l),new Z(c,1-u),new Z(f,1-p),new Z(y,1-g)]:[new Z(a,1-l),new Z(h,1-u),new Z(d,1-p),new Z(v,1-g)]}};function TS(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const s=e[i];n.shapes.push(s.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}class gO extends Je{constructor(t,n){super(),this.type="TextGeometry",this.parameters={text:t,parameters:n},this.fromBufferGeometry(new ES(t,n)),this.mergeVertices()}}class ES extends gh{constructor(t,n){n=n||{};const i=n.font;if(!(i&&i.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Je;const r=i.generateShapes(t,n.size);n.depth=n.height!==void 0?n.height:50,n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(r,n),this.type="TextBufferGeometry"}}class yO extends Je{constructor(t,n,i,r,s,o,a){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new CS(t,n,i,r,s,o,a)),this.mergeVertices()}}class CS extends Ue{constructor(t,n,i,r,s,o,a){super(),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=t||1,n=Math.max(3,Math.floor(n)||8),i=Math.max(2,Math.floor(i)||6),r=r!==void 0?r:0,s=s!==void 0?s:Math.PI*2,o=o!==void 0?o:0,a=a!==void 0?a:Math.PI;const l=Math.min(o+a,Math.PI);let c=0;const h=[],u=new S,f=new S,d=[],p=[],y=[],v=[];for(let g=0;g<=i;g++){const m=[],x=g/i;let w=0;g==0&&o==0?w=.5/n:g==i&&l==Math.PI&&(w=-.5/n);for(let b=0;b<=n;b++){const _=b/n;u.x=-t*Math.cos(r+_*s)*Math.sin(o+x*a),u.y=t*Math.cos(o+x*a),u.z=t*Math.sin(r+_*s)*Math.sin(o+x*a),p.push(u.x,u.y,u.z),f.copy(u).normalize(),y.push(f.x,f.y,f.z),v.push(_+w,1-x),m.push(c++)}h.push(m)}for(let g=0;g<i;g++)for(let m=0;m<n;m++){const x=h[g][m+1],w=h[g][m],b=h[g+1][m],_=h[g+1][m+1];(g!==0||o>0)&&d.push(x,w,_),(g!==i-1||l<Math.PI)&&d.push(w,b,_)}this.setIndex(d),this.setAttribute("position",new we(p,3)),this.setAttribute("normal",new we(y,3)),this.setAttribute("uv",new we(v,2))}}class vO extends Je{constructor(t,n,i,r,s,o){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},this.fromBufferGeometry(new AS(t,n,i,r,s,o)),this.mergeVertices()}}class AS extends Ue{constructor(t,n,i,r,s,o){super(),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},t=t||.5,n=n||1,s=s!==void 0?s:0,o=o!==void 0?o:Math.PI*2,i=i!==void 0?Math.max(3,i):8,r=r!==void 0?Math.max(1,r):1;const a=[],l=[],c=[],h=[];let u=t;const f=(n-t)/r,d=new S,p=new Z;for(let y=0;y<=r;y++){for(let v=0;v<=i;v++){const g=s+v/i*o;d.x=u*Math.cos(g),d.y=u*Math.sin(g),l.push(d.x,d.y,d.z),c.push(0,0,1),p.x=(d.x/n+1)/2,p.y=(d.y/n+1)/2,h.push(p.x,p.y)}u+=f}for(let y=0;y<r;y++){const v=y*(i+1);for(let g=0;g<i;g++){const m=g+v,x=m,w=m+i+1,b=m+i+2,_=m+1;a.push(x,w,_),a.push(w,b,_)}}this.setIndex(a),this.setAttribute("position",new we(l,3)),this.setAttribute("normal",new we(c,3)),this.setAttribute("uv",new we(h,2))}}class xO extends Je{constructor(t,n,i,r){super(),this.type="LatheGeometry",this.parameters={points:t,segments:n,phiStart:i,phiLength:r},this.fromBufferGeometry(new PS(t,n,i,r)),this.mergeVertices()}}class PS extends Ue{constructor(t,n,i,r){super(),this.type="LatheBufferGeometry",this.parameters={points:t,segments:n,phiStart:i,phiLength:r},n=Math.floor(n)||12,i=i||0,r=r||Math.PI*2,r=Be.clamp(r,0,Math.PI*2);const s=[],o=[],a=[],l=1/n,c=new S,h=new Z;for(let u=0;u<=n;u++){const f=i+u*l*r,d=Math.sin(f),p=Math.cos(f);for(let y=0;y<=t.length-1;y++)c.x=t[y].x*d,c.y=t[y].y,c.z=t[y].x*p,o.push(c.x,c.y,c.z),h.x=u/n,h.y=y/(t.length-1),a.push(h.x,h.y)}for(let u=0;u<n;u++)for(let f=0;f<t.length-1;f++){const d=f+u*t.length,p=d,y=d+t.length,v=d+t.length+1,g=d+1;s.push(p,y,g),s.push(y,v,g)}if(this.setIndex(s),this.setAttribute("position",new we(o,3)),this.setAttribute("uv",new we(a,2)),this.computeVertexNormals(),r===Math.PI*2){const u=this.attributes.normal.array,f=new S,d=new S,p=new S,y=n*t.length*3;for(let v=0,g=0;v<t.length;v++,g+=3)f.x=u[g+0],f.y=u[g+1],f.z=u[g+2],d.x=u[y+g+0],d.y=u[y+g+1],d.z=u[y+g+2],p.addVectors(f,d).normalize(),u[g+0]=u[y+g+0]=p.x,u[g+1]=u[y+g+1]=p.y,u[g+2]=u[y+g+2]=p.z}}}class LS extends Je{constructor(t,n){super(),this.type="ShapeGeometry",typeof n=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),n=n.curveSegments),this.parameters={shapes:t,curveSegments:n},this.fromBufferGeometry(new RS(t,n)),this.mergeVertices()}toJSON(){const t=Je.prototype.toJSON.call(this),n=this.parameters.shapes;return IS(n,t)}}class RS extends Ue{constructor(t,n){super(),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:n},n=n||12;const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(t)===!1)c(t);else for(let h=0;h<t.length;h++)c(t[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new we(r,3)),this.setAttribute("normal",new we(s,3)),this.setAttribute("uv",new we(o,2));function c(h){const u=r.length/3,f=h.extractPoints(n);let d=f.shape;const p=f.holes;Or.isClockWise(d)===!1&&(d=d.reverse());for(let v=0,g=p.length;v<g;v++){const m=p[v];Or.isClockWise(m)===!0&&(p[v]=m.reverse())}const y=Or.triangulateShape(d,p);for(let v=0,g=p.length;v<g;v++){const m=p[v];d=d.concat(m)}for(let v=0,g=d.length;v<g;v++){const m=d[v];r.push(m.x,m.y,0),s.push(0,0,1),o.push(m.x,m.y)}for(let v=0,g=y.length;v<g;v++){const m=y[v],x=m[0]+u,w=m[1]+u,b=m[2]+u;i.push(x,w,b),l+=3}}}toJSON(){const t=Ue.prototype.toJSON.call(this),n=this.parameters.shapes;return IS(n,t)}}function IS(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}class wO extends Ue{constructor(t,n){super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:n},n=n!==void 0?n:1;const i=[],r=Math.cos(Be.DEG2RAD*n),s=[0,0],o={};let a,l,c;const h=["a","b","c"];let u;t.isBufferGeometry?(u=new Je,u.fromBufferGeometry(t)):u=t.clone(),u.mergeVertices(),u.computeFaceNormals();const f=u.vertices,d=u.faces;for(let p=0,y=d.length;p<y;p++){const v=d[p];for(let g=0;g<3;g++)a=v[h[g]],l=v[h[(g+1)%3]],s[0]=Math.min(a,l),s[1]=Math.max(a,l),c=s[0]+","+s[1],o[c]===void 0?o[c]={index1:s[0],index2:s[1],face1:p,face2:void 0}:o[c].face2=p}for(c in o){const p=o[c];if(p.face2===void 0||d[p.face1].normal.dot(d[p.face2].normal)<=r){let y=f[p.index1];i.push(y.x,y.y,y.z),y=f[p.index2],i.push(y.x,y.y,y.z)}}this.setAttribute("position",new we(i,3))}}class DS extends Je{constructor(t,n,i,r,s,o,a,l){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:n,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l},this.fromBufferGeometry(new I0(t,n,i,r,s,o,a,l)),this.mergeVertices()}}class I0 extends Ue{constructor(t,n,i,r,s,o,a,l){super(),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:n,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;t=t!==void 0?t:1,n=n!==void 0?n:1,i=i||1,r=Math.floor(r)||8,s=Math.floor(s)||1,o=o!==void 0?o:!1,a=a!==void 0?a:0,l=l!==void 0?l:Math.PI*2;const h=[],u=[],f=[],d=[];let p=0;const y=[],v=i/2;let g=0;m(),o===!1&&(t>0&&x(!0),n>0&&x(!1)),this.setIndex(h),this.setAttribute("position",new we(u,3)),this.setAttribute("normal",new we(f,3)),this.setAttribute("uv",new we(d,2));function m(){const w=new S,b=new S;let _=0;const M=(n-t)/i;for(let E=0;E<=s;E++){const P=[],I=E/s,N=I*(n-t)+t;for(let R=0;R<=r;R++){const F=R/r,L=F*l+a,O=Math.sin(L),B=Math.cos(L);b.x=N*O,b.y=-I*i+v,b.z=N*B,u.push(b.x,b.y,b.z),w.set(O,M,B).normalize(),f.push(w.x,w.y,w.z),d.push(F,1-I),P.push(p++)}y.push(P)}for(let E=0;E<r;E++)for(let P=0;P<s;P++){const I=y[P][E],N=y[P+1][E],R=y[P+1][E+1],F=y[P][E+1];h.push(I,N,F),h.push(N,R,F),_+=6}c.addGroup(g,_,0),g+=_}function x(w){const b=p,_=new Z,M=new S;let E=0;const P=w===!0?t:n,I=w===!0?1:-1;for(let R=1;R<=r;R++)u.push(0,v*I,0),f.push(0,I,0),d.push(.5,.5),p++;const N=p;for(let R=0;R<=r;R++){const L=R/r*l+a,O=Math.cos(L),B=Math.sin(L);M.x=P*B,M.y=v*I,M.z=P*O,u.push(M.x,M.y,M.z),f.push(0,I,0),_.x=O*.5+.5,_.y=B*.5*I+.5,d.push(_.x,_.y),p++}for(let R=0;R<r;R++){const F=b+R,L=N+R;w===!0?h.push(L,L+1,F):h.push(L+1,L,F),E+=3}c.addGroup(g,E,w===!0?1:2),g+=E}}}class _O extends DS{constructor(t,n,i,r,s,o,a){super(0,t,n,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}}class bO extends I0{constructor(t,n,i,r,s,o,a){super(0,t,n,i,r,s,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}}class MO extends Je{constructor(t,n,i,r){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:n,thetaStart:i,thetaLength:r},this.fromBufferGeometry(new NS(t,n,i,r)),this.mergeVertices()}}class NS extends Ue{constructor(t,n,i,r){super(),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:n,thetaStart:i,thetaLength:r},t=t||1,n=n!==void 0?Math.max(3,n):8,i=i!==void 0?i:0,r=r!==void 0?r:Math.PI*2;const s=[],o=[],a=[],l=[],c=new S,h=new Z;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let u=0,f=3;u<=n;u++,f+=3){const d=i+u/n*r;c.x=t*Math.cos(d),c.y=t*Math.sin(d),o.push(c.x,c.y,c.z),a.push(0,0,1),h.x=(o[f]/t+1)/2,h.y=(o[f+1]/t+1)/2,l.push(h.x,h.y)}for(let u=1;u<=n;u++)s.push(u,u+1,0);this.setIndex(s),this.setAttribute("position",new we(o,3)),this.setAttribute("normal",new we(a,3)),this.setAttribute("uv",new we(l,2))}}var rn=Object.freeze({__proto__:null,WireframeGeometry:H7,ParametricGeometry:If,ParametricBufferGeometry:Xl,TetrahedronGeometry:j7,TetrahedronBufferGeometry:pS,OctahedronGeometry:X7,OctahedronBufferGeometry:mS,IcosahedronGeometry:q7,IcosahedronBufferGeometry:gS,DodecahedronGeometry:Y7,DodecahedronBufferGeometry:yS,PolyhedronGeometry:W7,PolyhedronBufferGeometry:ga,TubeGeometry:$7,TubeBufferGeometry:vS,TorusKnotGeometry:Z7,TorusKnotBufferGeometry:xS,TorusGeometry:J7,TorusBufferGeometry:wS,TextGeometry:gO,TextBufferGeometry:ES,SphereGeometry:yO,SphereBufferGeometry:CS,RingGeometry:vO,RingBufferGeometry:AS,PlaneGeometry:j8,PlaneBufferGeometry:ph,LatheGeometry:xO,LatheBufferGeometry:PS,ShapeGeometry:LS,ShapeBufferGeometry:RS,ExtrudeGeometry:SS,ExtrudeBufferGeometry:gh,EdgesGeometry:wO,ConeGeometry:_O,ConeBufferGeometry:bO,CylinderGeometry:DS,CylinderBufferGeometry:I0,CircleGeometry:MO,CircleBufferGeometry:NS,BoxGeometry:U8,BoxBufferGeometry:hh});function Qo(e){Ie.call(this),this.type="ShadowMaterial",this.color=new ve(0),this.transparent=!0,this.setValues(e)}Qo.prototype=Object.create(Ie.prototype);Qo.prototype.constructor=Qo;Qo.prototype.isShadowMaterial=!0;Qo.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.color.copy(e.color),this};function Zl(e){Mn.call(this,e),this.type="RawShaderMaterial"}Zl.prototype=Object.create(Mn.prototype);Zl.prototype.constructor=Zl;Zl.prototype.isRawShaderMaterial=!0;function Qi(e){Ie.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ve(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pa,this.normalScale=new Z(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}Qi.prototype=Object.create(Ie.prototype);Qi.prototype.constructor=Qi;Qi.prototype.isMeshStandardMaterial=!0;Qi.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this};function Os(e){Qi.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Z(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}Os.prototype=Object.create(Qi.prototype);Os.prototype.constructor=Os;Os.prototype.isMeshPhysicalMaterial=!0;Os.prototype.copy=function(e){return Qi.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new ve).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this};function ks(e){Ie.call(this),this.type="MeshPhongMaterial",this.color=new ve(16777215),this.specular=new ve(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pa,this.normalScale=new Z(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=oh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}ks.prototype=Object.create(Ie.prototype);ks.prototype.constructor=ks;ks.prototype.isMeshPhongMaterial=!0;ks.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function ea(e){Ie.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ve(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pa,this.normalScale=new Z(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}ea.prototype=Object.create(Ie.prototype);ea.prototype.constructor=ea;ea.prototype.isMeshToonMaterial=!0;ea.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function ta(e){Ie.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pa,this.normalScale=new Z(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}ta.prototype=Object.create(Ie.prototype);ta.prototype.constructor=ta;ta.prototype.isMeshNormalMaterial=!0;ta.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Fs(e){Ie.call(this),this.type="MeshLambertMaterial",this.color=new ve(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=oh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Fs.prototype=Object.create(Ie.prototype);Fs.prototype.constructor=Fs;Fs.prototype.isMeshLambertMaterial=!0;Fs.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function na(e){Ie.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ve(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pa,this.normalScale=new Z(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}na.prototype=Object.create(Ie.prototype);na.prototype.constructor=na;na.prototype.isMeshMatcapMaterial=!0;na.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function ia(e){Yn.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}ia.prototype=Object.create(Yn.prototype);ia.prototype.constructor=ia;ia.prototype.isLineDashedMaterial=!0;ia.prototype.copy=function(e){return Yn.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var SO=Object.freeze({__proto__:null,ShadowMaterial:Qo,SpriteMaterial:Is,RawShaderMaterial:Zl,ShaderMaterial:Mn,PointsMaterial:Ns,MeshPhysicalMaterial:Os,MeshStandardMaterial:Qi,MeshPhongMaterial:ks,MeshToonMaterial:ea,MeshNormalMaterial:ta,MeshLambertMaterial:Fs,MeshDepthMaterial:Ps,MeshDistanceMaterial:Ls,MeshBasicMaterial:As,MeshMatcapMaterial:na,LineDashedMaterial:ia,LineBasicMaterial:Yn,Material:Ie});const ut={arraySlice:function(e,t,n){return ut.isTypedArray(e)?new e.constructor(e.subarray(t,n!==void 0?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(r,s){return e[r]-e[s]}const n=e.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(t),i},sortedArray:function(e,t,n){const i=e.length,r=new e.constructor(i);for(let s=0,o=0;o!==i;++s){const a=n[s]*t;for(let l=0;l!==t;++l)r[o++]=e[a+l]}return r},flattenJSON:function(e,t,n,i){let r=1,s=e[0];for(;s!==void 0&&s[i]===void 0;)s=e[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(t.push(s.time),n.push.apply(n,o)),s=e[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(t.push(s.time),o.toArray(n,n.length)),s=e[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(t.push(s.time),n.push(o)),s=e[r++];while(s!==void 0)},subclip:function(e,t,n,i,r){r=r||30;const s=e.clone();s.name=t;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],h=c.getValueSize(),u=[],f=[];for(let d=0;d<c.times.length;++d){const p=c.times[d]*r;if(!(p<n||p>=i)){u.push(c.times[d]);for(let y=0;y<h;++y)f.push(c.values[d*h+y])}}u.length!==0&&(c.times=ut.convertArray(u,c.times.constructor),c.values=ut.convertArray(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(e,t,n,i){t===void 0&&(t=0),n===void 0&&(n=e),(i===void 0||i<=0)&&(i=30);const r=e.tracks.length,s=t/i;for(let o=0;o<r;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=e.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let h=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=u/3);let f=0;const d=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=d/3);const p=a.times.length-1;let y;if(s<=a.times[0]){const g=h,m=u-h;y=ut.arraySlice(a.values,g,m)}else if(s>=a.times[p]){const g=p*u+h,m=g+u-h;y=ut.arraySlice(a.values,g,m)}else{const g=a.createInterpolant(),m=h,x=u-h;g.evaluate(s),y=ut.arraySlice(g.resultBuffer,m,x)}l==="quaternion"&&new cn().fromArray(y).normalize().conjugate().toArray(y);const v=c.times.length;for(let g=0;g<v;++g){const m=g*d+f;if(l==="quaternion")cn.multiplyQuaternionsFlat(c.values,m,y,0,c.values,m);else{const x=d-f*2;for(let w=0;w<x;++w)c.values[m+w]-=y[w]}}}return e.blendMode=JM,e}};function Wn(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}Object.assign(Wn.prototype,{evaluate:function(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let s;n:{i:if(!(e<i)){for(let o=n+2;;){if(i===void 0){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===o)break;if(r=i,i=t[++n],e<i)break t}s=t.length;break n}if(!(e>=r)){const o=t[1];e<o&&(n=2,r=o);for(let a=n-2;;){if(r===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===a)break;if(i=r,r=t[--n-1],e>=r)break t}s=n,n=0;break n}break e}for(;n<s;){const o=n+s>>>1;e<t[o]?s=o:n=o+1}if(i=t[n],r=t[n-1],r===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let s=0;s!==i;++s)t[s]=n[r+s];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(Wn.prototype,{beforeStart_:Wn.prototype.copySampleValue_,afterEnd_:Wn.prototype.copySampleValue_});function Sm(e,t,n,i){Wn.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}Sm.prototype=Object.assign(Object.create(Wn.prototype),{constructor:Sm,DefaultSettings_:{endingStart:Eo,endingEnd:Eo},intervalChanged_:function(e,t,n){const i=this.parameterPositions;let r=e-2,s=e+1,o=i[r],a=i[s];if(o===void 0)switch(this.getSettings_().endingStart){case Co:r=e,o=2*t-n;break;case Af:r=i.length-2,o=t+i[r]-i[r+1];break;default:r=e,o=n}if(a===void 0)switch(this.getSettings_().endingEnd){case Co:s=e,a=2*n-t;break;case Af:s=1,a=n+i[1]-i[0];break;default:s=e-1,a=t}const l=(n-t)*.5,c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(a-n),this._offsetPrev=r*c,this._offsetNext=s*c},interpolate_:function(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,l=a-o,c=this._offsetPrev,h=this._offsetNext,u=this._weightPrev,f=this._weightNext,d=(n-t)/(i-t),p=d*d,y=p*d,v=-u*y+2*u*p-u*d,g=(1+u)*y+(-1.5-2*u)*p+(-.5+u)*d+1,m=(-1-f)*y+(1.5+f)*p+.5*d,x=f*y-f*p;for(let w=0;w!==o;++w)r[w]=v*s[c+w]+g*s[l+w]+m*s[a+w]+x*s[h+w];return r}});function Df(e,t,n,i){Wn.call(this,e,t,n,i)}Df.prototype=Object.assign(Object.create(Wn.prototype),{constructor:Df,interpolate_:function(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,l=a-o,c=(n-t)/(i-t),h=1-c;for(let u=0;u!==o;++u)r[u]=s[l+u]*h+s[a+u]*c;return r}});function Tm(e,t,n,i){Wn.call(this,e,t,n,i)}Tm.prototype=Object.assign(Object.create(Wn.prototype),{constructor:Tm,interpolate_:function(e){return this.copySampleValue_(e-1)}});function en(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ut.convertArray(t,this.TimeBufferType),this.values=ut.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}Object.assign(en,{toJSON:function(e){const t=e.constructor;let n;if(t.toJSON!==void 0)n=t.toJSON(e);else{n={name:e.name,times:ut.convertArray(e.times,Array),values:ut.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}});Object.assign(en.prototype,{constructor:en,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Bu,InterpolantFactoryMethodDiscrete:function(e){return new Tm(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Df(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Sm(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){let t;switch(e){case Cf:t=this.InterpolantFactoryMethodDiscrete;break;case Bu:t=this.InterpolantFactoryMethodLinear;break;case od:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Cf;case this.InterpolantFactoryMethodLinear:return Bu;case this.InterpolantFactoryMethodSmooth:return od}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this},scale:function(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this},trim:function(e,t){const n=this.times,i=n.length;let r=0,s=i-1;for(;r!==i&&n[r]<e;)++r;for(;s!==-1&&n[s]>t;)--s;if(++s,r!==0||s!==i){r>=s&&(s=Math.max(s,1),r=s-1);const o=this.getValueSize();this.times=ut.arraySlice(n,r,s),this.values=ut.arraySlice(this.values,r*o,s*o)}return this},validate:function(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==r;o++){const a=n[o];if(typeof a=="number"&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,a),e=!1;break}if(s!==null&&s>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,a,s),e=!1;break}s=a}if(i!==void 0&&ut.isTypedArray(i))for(let o=0,a=i.length;o!==a;++o){const l=i[o];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,l),e=!1;break}}return e},optimize:function(){const e=ut.arraySlice(this.times),t=ut.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===od,r=e.length-1;let s=1;for(let o=1;o<r;++o){let a=!1;const l=e[o],c=e[o+1];if(l!==c&&(o!==1||l!==l[0]))if(i)a=!0;else{const h=o*n,u=h-n,f=h+n;for(let d=0;d!==n;++d){const p=t[h+d];if(p!==t[u+d]||p!==t[f+d]){a=!0;break}}}if(a){if(o!==s){e[s]=e[o];const h=o*n,u=s*n;for(let f=0;f!==n;++f)t[u+f]=t[h+f]}++s}}if(r>0){e[s]=e[r];for(let o=r*n,a=s*n,l=0;l!==n;++l)t[a+l]=t[o+l];++s}return s!==e.length?(this.times=ut.arraySlice(e,0,s),this.values=ut.arraySlice(t,0,s*n)):(this.times=e,this.values=t),this},clone:function(){const e=ut.arraySlice(this.times,0),t=ut.arraySlice(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}});function Em(e,t,n){en.call(this,e,t,n)}Em.prototype=Object.assign(Object.create(en.prototype),{constructor:Em,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Cf,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Cm(e,t,n,i){en.call(this,e,t,n,i)}Cm.prototype=Object.assign(Object.create(en.prototype),{constructor:Cm,ValueTypeName:"color"});function Jl(e,t,n,i){en.call(this,e,t,n,i)}Jl.prototype=Object.assign(Object.create(en.prototype),{constructor:Jl,ValueTypeName:"number"});function Am(e,t,n,i){Wn.call(this,e,t,n,i)}Am.prototype=Object.assign(Object.create(Wn.prototype),{constructor:Am,interpolate_:function(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=(n-t)/(i-t);let l=e*o;for(let c=l+o;l!==c;l+=4)cn.slerpFlat(r,0,s,l-o,s,l,a);return r}});function Nf(e,t,n,i){en.call(this,e,t,n,i)}Nf.prototype=Object.assign(Object.create(en.prototype),{constructor:Nf,ValueTypeName:"quaternion",DefaultInterpolation:Bu,InterpolantFactoryMethodLinear:function(e){return new Am(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0});function Pm(e,t,n,i){en.call(this,e,t,n,i)}Pm.prototype=Object.assign(Object.create(en.prototype),{constructor:Pm,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Cf,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Kl(e,t,n,i){en.call(this,e,t,n,i)}Kl.prototype=Object.assign(Object.create(en.prototype),{constructor:Kl,ValueTypeName:"vector"});function ci(e,t,n,i){this.name=e,this.tracks=n,this.duration=t!==void 0?t:-1,this.blendMode=i!==void 0?i:A0,this.uuid=Be.generateUUID(),this.duration<0&&this.resetDuration()}function TO(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Jl;case"vector":case"vector2":case"vector3":case"vector4":return Kl;case"color":return Cm;case"quaternion":return Nf;case"bool":case"boolean":return Em;case"string":return Pm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function EO(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=TO(e.type);if(e.times===void 0){const n=[],i=[];ut.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(ci,{parse:function(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let r=0,s=n.length;r!==s;++r)t.push(EO(n[r]).scale(i));return new ci(e.name,e.duration,t,e.blendMode)},toJSON:function(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,s=n.length;r!==s;++r)t.push(en.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){const r=t.length,s=[];for(let o=0;o<r;o++){let a=[],l=[];a.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);const c=ut.getKeyframeOrder(a);a=ut.sortedArray(a,1,c),l=ut.sortedArray(l,1,c),!i&&a[0]===0&&(a.push(r),l.push(l[0])),s.push(new Jl(".morphTargetInfluences["+t[o].name+"]",a,l).scale(1/n))}return new ci(e,-1,s)},findByName:function(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.name.match(r);if(c&&c.length>1){const h=c[1];let u=i[h];u||(i[h]=u=[]),u.push(l)}}const s=[];for(const o in i)s.push(ci.CreateFromMorphTargetSequence(o,i[o],t,n));return s},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(h,u,f,d,p){if(f.length!==0){const y=[],v=[];ut.flattenJSON(f,y,v,d),y.length!==0&&p.push(new h(u,y,v))}},i=[],r=e.name||"default",s=e.fps||30,o=e.blendMode;let a=e.length||-1;const l=e.hierarchy||[];for(let h=0;h<l.length;h++){const u=l[h].keys;if(!(!u||u.length===0))if(u[0].morphTargets){const f={};let d;for(d=0;d<u.length;d++)if(u[d].morphTargets)for(let p=0;p<u[d].morphTargets.length;p++)f[u[d].morphTargets[p]]=-1;for(const p in f){const y=[],v=[];for(let g=0;g!==u[d].morphTargets.length;++g){const m=u[d];y.push(m.time),v.push(m.morphTarget===p?1:0)}i.push(new Jl(".morphTargetInfluence["+p+"]",y,v))}a=f.length*(s||1)}else{const f=".bones["+t[h].name+"]";n(Kl,f+".position",u,"pos",i),n(Nf,f+".quaternion",u,"rot",i),n(Kl,f+".scale",u,"scl",i)}}return i.length===0?null:new ci(r,a,i,o)}});Object.assign(ci.prototype,{resetDuration:function(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new ci(this.name,this.duration,e,this.blendMode)}});const ra={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function OS(e,t,n){const i=this;let r=!1,s=0,o=0,a;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(c){o++,r===!1&&i.onStart!==void 0&&i.onStart(c,s,o),r=!0},this.itemEnd=function(c){s++,i.onProgress!==void 0&&i.onProgress(c,s,o),s===o&&(r=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return a?a(c):c},this.setURLModifier=function(c){return a=c,this},this.addHandler=function(c,h){return l.push(c,h),this},this.removeHandler=function(c){const h=l.indexOf(c);return h!==-1&&l.splice(h,2),this},this.getHandler=function(c){for(let h=0,u=l.length;h<u;h+=2){const f=l[h],d=l[h+1];if(f.global&&(f.lastIndex=0),f.test(c))return d}return null}}const CO=new OS;function Qe(e){this.manager=e!==void 0?e:CO,this.crossOrigin="anonymous",this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Qe.prototype,{load:function(){},loadAsync:function(e,t){const n=this;return new Promise(function(i,r){n.load(e,i,t,r)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const ri={};function Pi(e){Qe.call(this,e)}Pi.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Pi,load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=ra.get(e);if(s!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;if(ri[e]!==void 0){ri[e].push({onLoad:t,onProgress:n,onError:i});return}const o=/^data:(.*?)(;base64)?,(.*)$/,a=e.match(o);let l;if(a){const c=a[1],h=!!a[2];let u=a[3];u=decodeURIComponent(u),h&&(u=atob(u));try{let f;const d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":const p=new Uint8Array(u.length);for(let v=0;v<u.length;v++)p[v]=u.charCodeAt(v);d==="blob"?f=new Blob([p.buffer],{type:c}):f=p.buffer;break;case"document":f=new DOMParser().parseFromString(u,c);break;case"json":f=JSON.parse(u);break;default:f=u;break}setTimeout(function(){t&&t(f),r.manager.itemEnd(e)},0)}catch(f){setTimeout(function(){i&&i(f),r.manager.itemError(e),r.manager.itemEnd(e)},0)}}else{ri[e]=[],ri[e].push({onLoad:t,onProgress:n,onError:i}),l=new XMLHttpRequest,l.open("GET",e,!0),l.addEventListener("load",function(c){const h=this.response,u=ri[e];if(delete ri[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),ra.add(e,h);for(let f=0,d=u.length;f<d;f++){const p=u[f];p.onLoad&&p.onLoad(h)}r.manager.itemEnd(e)}else{for(let f=0,d=u.length;f<d;f++){const p=u[f];p.onError&&p.onError(c)}r.manager.itemError(e),r.manager.itemEnd(e)}},!1),l.addEventListener("progress",function(c){const h=ri[e];for(let u=0,f=h.length;u<f;u++){const d=h[u];d.onProgress&&d.onProgress(c)}},!1),l.addEventListener("error",function(c){const h=ri[e];delete ri[e];for(let u=0,f=h.length;u<f;u++){const d=h[u];d.onError&&d.onError(c)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),l.addEventListener("abort",function(c){const h=ri[e];delete ri[e];for(let u=0,f=h.length;u<f;u++){const d=h[u];d.onError&&d.onError(c)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),this.responseType!==void 0&&(l.responseType=this.responseType),this.withCredentials!==void 0&&(l.withCredentials=this.withCredentials),l.overrideMimeType&&l.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const c in this.requestHeader)l.setRequestHeader(c,this.requestHeader[c]);l.send(null)}return r.manager.itemStart(e),l},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}});function Cx(e){Qe.call(this,e)}Cx.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Cx,load:function(e,t,n,i){const r=this,s=new Pi(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.load(e,function(o){try{t(r.parse(JSON.parse(o)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)},parse:function(e){const t=[];for(let n=0;n<e.length;n++){const i=ci.parse(e[n]);t.push(i)}return t}});function Ax(e){Qe.call(this,e)}Ax.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Ax,load:function(e,t,n,i){const r=this,s=[],o=new jl;o.image=s;const a=new Pi(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader);let l=0;function c(h){a.load(e[h],function(u){const f=r.parse(u,!0);s[h]={width:f.width,height:f.height,format:f.format,mipmaps:f.mipmaps},l+=1,l===6&&(f.mipmapCount===1&&(o.minFilter=Gt),o.format=f.format,o.needsUpdate=!0,t&&t(o))},n,i)}if(Array.isArray(e))for(let h=0,u=e.length;h<u;++h)c(h);else a.load(e,function(h){const u=r.parse(h,!0);if(u.isCubemap){const f=u.mipmaps.length/u.mipmapCount;for(let d=0;d<f;d++){s[d]={mipmaps:[]};for(let p=0;p<u.mipmapCount;p++)s[d].mipmaps.push(u.mipmaps[d*u.mipmapCount+p]),s[d].format=u.format,s[d].width=u.width,s[d].height=u.height}}else o.image.width=u.width,o.image.height=u.height,o.mipmaps=u.mipmaps;u.mipmapCount===1&&(o.minFilter=Gt),o.format=u.format,o.needsUpdate=!0,t&&t(o)},n,i);return o}});function Ql(e){Qe.call(this,e)}Ql.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Ql,load:function(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=ra.get(e);if(s!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;const o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){o.removeEventListener("load",a,!1),o.removeEventListener("error",l,!1),ra.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(c){o.removeEventListener("load",a,!1),o.removeEventListener("error",l,!1),i&&i(c),r.manager.itemError(e),r.manager.itemEnd(e)}return o.addEventListener("load",a,!1),o.addEventListener("error",l,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(e),o.src=e,o}});function Lm(e){Qe.call(this,e)}Lm.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Lm,load:function(e,t,n,i){const r=new Ur,s=new Ql(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function a(l){s.load(e[l],function(c){r.images[l]=c,o++,o===6&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}for(let l=0;l<e.length;++l)a(l);return r}});function Px(e){Qe.call(this,e)}Px.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Px,load:function(e,t,n,i){const r=this,s=new Ko,o=new Pi(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.load(e,function(a){const l=r.parse(a);l&&(l.image!==void 0?s.image=l.image:l.data!==void 0&&(s.image.width=l.width,s.image.height=l.height,s.image.data=l.data),s.wrapS=l.wrapS!==void 0?l.wrapS:mn,s.wrapT=l.wrapT!==void 0?l.wrapT:mn,s.magFilter=l.magFilter!==void 0?l.magFilter:Gt,s.minFilter=l.minFilter!==void 0?l.minFilter:Gt,s.anisotropy=l.anisotropy!==void 0?l.anisotropy:1,l.format!==void 0&&(s.format=l.format),l.type!==void 0&&(s.type=l.type),l.mipmaps!==void 0&&(s.mipmaps=l.mipmaps,s.minFilter=mc),l.mipmapCount===1&&(s.minFilter=Gt),s.needsUpdate=!0,t&&t(s,l))},n,i),s}});function Rm(e){Qe.call(this,e)}Rm.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Rm,load:function(e,t,n,i){const r=new tt,s=new Ql(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){r.image=o;const a=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;r.format=a?ws:hi,r.needsUpdate=!0,t!==void 0&&t(r)},n,i),r}});function Me(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Me.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){e===void 0&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){e===void 0&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const n=this.getLengths();let i=0;const r=n.length;let s;t?s=t:s=e*n[r-1];let o=0,a=r-1,l;for(;o<=a;)if(i=Math.floor(o+(a-o)/2),l=n[i]-s,l<0)o=i+1;else if(l>0)a=i-1;else{a=i;break}if(i=a,n[i]===s)return i/(r-1);const c=n[i],u=n[i+1]-c,f=(s-c)/u;return(i+f)/(r-1)},getTangent:function(e,t){let i=e-1e-4,r=e+1e-4;i<0&&(i=0),r>1&&(r=1);const s=this.getPoint(i),o=this.getPoint(r),a=t||(s.isVector2?new Z:new S);return a.copy(o).sub(s).normalize(),a},getTangentAt:function(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){const n=new S,i=[],r=[],s=[],o=new S,a=new He;for(let f=0;f<=e;f++){const d=f/e;i[f]=this.getTangentAt(d,new S),i[f].normalize()}r[0]=new S,s[0]=new S;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),h=Math.abs(i[0].y),u=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),h<=l&&(l=h,n.set(0,1,0)),u<=l&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),s[0].crossVectors(i[0],r[0]);for(let f=1;f<=e;f++){if(r[f]=r[f-1].clone(),s[f]=s[f-1].clone(),o.crossVectors(i[f-1],i[f]),o.length()>Number.EPSILON){o.normalize();const d=Math.acos(Be.clamp(i[f-1].dot(i[f]),-1,1));r[f].applyMatrix4(a.makeRotationAxis(o,d))}s[f].crossVectors(i[f],r[f])}if(t===!0){let f=Math.acos(Be.clamp(r[0].dot(r[e]),-1,1));f/=e,i[0].dot(o.crossVectors(r[0],r[e]))>0&&(f=-f);for(let d=1;d<=e;d++)r[d].applyMatrix4(a.makeRotationAxis(i[d],f*d)),s[d].crossVectors(i[d],r[d])}return{tangents:i,normals:r,binormals:s}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});function $n(e,t,n,i,r,s,o,a){Me.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=s||2*Math.PI,this.aClockwise=o||!1,this.aRotation=a||0}$n.prototype=Object.create(Me.prototype);$n.prototype.constructor=$n;$n.prototype.isEllipseCurve=!0;$n.prototype.getPoint=function(e,t){const n=t||new Z,i=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const s=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(s?r=0:r=i),this.aClockwise===!0&&!s&&(r===i?r=-i:r=r-i);const o=this.aStartAngle+e*r;let a=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const c=Math.cos(this.aRotation),h=Math.sin(this.aRotation),u=a-this.aX,f=l-this.aY;a=u*c-f*h+this.aX,l=u*h+f*c+this.aY}return n.set(a,l)};$n.prototype.copy=function(e){return Me.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};$n.prototype.toJSON=function(){const e=Me.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e};$n.prototype.fromJSON=function(e){return Me.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};function ec(e,t,n,i,r,s){$n.call(this,e,t,n,n,i,r,s),this.type="ArcCurve"}ec.prototype=Object.create($n.prototype);ec.prototype.constructor=ec;ec.prototype.isArcCurve=!0;function D0(){let e=0,t=0,n=0,i=0;function r(s,o,a,l){e=s,t=a,n=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,h,u){let f=(o-s)/c-(a-s)/(c+h)+(a-o)/h,d=(a-o)/h-(l-o)/(h+u)+(l-a)/u;f*=h,d*=h,r(o,a,f,d)},calc:function(s){const o=s*s,a=o*s;return e+t*s+n*o+i*a}}}const gu=new S,Rd=new D0,Id=new D0,Dd=new D0;function Rn(e,t,n,i){Me.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i!==void 0?i:.5}Rn.prototype=Object.create(Me.prototype);Rn.prototype.constructor=Rn;Rn.prototype.isCatmullRomCurve3=!0;Rn.prototype.getPoint=function(e,t){const n=t||new S,i=this.points,r=i.length,s=(r-(this.closed?0:1))*e;let o=Math.floor(s),a=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/r)+1)*r:a===0&&o===r-1&&(o=r-2,a=1);let l,c;this.closed||o>0?l=i[(o-1)%r]:(gu.subVectors(i[0],i[1]).add(i[0]),l=gu);const h=i[o%r],u=i[(o+1)%r];if(this.closed||o+2<r?c=i[(o+2)%r]:(gu.subVectors(i[r-1],i[r-2]).add(i[r-1]),c=gu),this.curveType==="centripetal"||this.curveType==="chordal"){const f=this.curveType==="chordal"?.5:.25;let d=Math.pow(l.distanceToSquared(h),f),p=Math.pow(h.distanceToSquared(u),f),y=Math.pow(u.distanceToSquared(c),f);p<1e-4&&(p=1),d<1e-4&&(d=p),y<1e-4&&(y=p),Rd.initNonuniformCatmullRom(l.x,h.x,u.x,c.x,d,p,y),Id.initNonuniformCatmullRom(l.y,h.y,u.y,c.y,d,p,y),Dd.initNonuniformCatmullRom(l.z,h.z,u.z,c.z,d,p,y)}else this.curveType==="catmullrom"&&(Rd.initCatmullRom(l.x,h.x,u.x,c.x,this.tension),Id.initCatmullRom(l.y,h.y,u.y,c.y,this.tension),Dd.initCatmullRom(l.z,h.z,u.z,c.z,this.tension));return n.set(Rd.calc(a),Id.calc(a),Dd.calc(a)),n};Rn.prototype.copy=function(e){Me.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};Rn.prototype.toJSON=function(){const e=Me.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e};Rn.prototype.fromJSON=function(e){Me.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new S().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};function Lx(e,t,n,i,r){const s=(i-t)*.5,o=(r-n)*.5,a=e*e,l=e*a;return(2*n-2*i+s+o)*l+(-3*n+3*i-2*s-o)*a+s*e+n}function AO(e,t){const n=1-e;return n*n*t}function PO(e,t){return 2*(1-e)*e*t}function LO(e,t){return e*e*t}function ul(e,t,n,i){return AO(e,t)+PO(e,n)+LO(e,i)}function RO(e,t){const n=1-e;return n*n*n*t}function IO(e,t){const n=1-e;return 3*n*n*e*t}function DO(e,t){return 3*(1-e)*e*e*t}function NO(e,t){return e*e*e*t}function fl(e,t,n,i,r){return RO(e,t)+IO(e,n)+DO(e,i)+NO(e,r)}function Li(e,t,n,i){Me.call(this),this.type="CubicBezierCurve",this.v0=e||new Z,this.v1=t||new Z,this.v2=n||new Z,this.v3=i||new Z}Li.prototype=Object.create(Me.prototype);Li.prototype.constructor=Li;Li.prototype.isCubicBezierCurve=!0;Li.prototype.getPoint=function(e,t){const n=t||new Z,i=this.v0,r=this.v1,s=this.v2,o=this.v3;return n.set(fl(e,i.x,r.x,s.x,o.x),fl(e,i.y,r.y,s.y,o.y)),n};Li.prototype.copy=function(e){return Me.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};Li.prototype.toJSON=function(){const e=Me.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};Li.prototype.fromJSON=function(e){return Me.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function er(e,t,n,i){Me.call(this),this.type="CubicBezierCurve3",this.v0=e||new S,this.v1=t||new S,this.v2=n||new S,this.v3=i||new S}er.prototype=Object.create(Me.prototype);er.prototype.constructor=er;er.prototype.isCubicBezierCurve3=!0;er.prototype.getPoint=function(e,t){const n=t||new S,i=this.v0,r=this.v1,s=this.v2,o=this.v3;return n.set(fl(e,i.x,r.x,s.x,o.x),fl(e,i.y,r.y,s.y,o.y),fl(e,i.z,r.z,s.z,o.z)),n};er.prototype.copy=function(e){return Me.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};er.prototype.toJSON=function(){const e=Me.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};er.prototype.fromJSON=function(e){return Me.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function In(e,t){Me.call(this),this.type="LineCurve",this.v1=e||new Z,this.v2=t||new Z}In.prototype=Object.create(Me.prototype);In.prototype.constructor=In;In.prototype.isLineCurve=!0;In.prototype.getPoint=function(e,t){const n=t||new Z;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};In.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};In.prototype.getTangent=function(e,t){const n=t||new Z;return n.copy(this.v2).sub(this.v1).normalize(),n};In.prototype.copy=function(e){return Me.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};In.prototype.toJSON=function(){const e=Me.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};In.prototype.fromJSON=function(e){return Me.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Ri(e,t){Me.call(this),this.type="LineCurve3",this.v1=e||new S,this.v2=t||new S}Ri.prototype=Object.create(Me.prototype);Ri.prototype.constructor=Ri;Ri.prototype.isLineCurve3=!0;Ri.prototype.getPoint=function(e,t){const n=t||new S;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};Ri.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Ri.prototype.copy=function(e){return Me.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Ri.prototype.toJSON=function(){const e=Me.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Ri.prototype.fromJSON=function(e){return Me.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Ii(e,t,n){Me.call(this),this.type="QuadraticBezierCurve",this.v0=e||new Z,this.v1=t||new Z,this.v2=n||new Z}Ii.prototype=Object.create(Me.prototype);Ii.prototype.constructor=Ii;Ii.prototype.isQuadraticBezierCurve=!0;Ii.prototype.getPoint=function(e,t){const n=t||new Z,i=this.v0,r=this.v1,s=this.v2;return n.set(ul(e,i.x,r.x,s.x),ul(e,i.y,r.y,s.y)),n};Ii.prototype.copy=function(e){return Me.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Ii.prototype.toJSON=function(){const e=Me.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Ii.prototype.fromJSON=function(e){return Me.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function tr(e,t,n){Me.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new S,this.v1=t||new S,this.v2=n||new S}tr.prototype=Object.create(Me.prototype);tr.prototype.constructor=tr;tr.prototype.isQuadraticBezierCurve3=!0;tr.prototype.getPoint=function(e,t){const n=t||new S,i=this.v0,r=this.v1,s=this.v2;return n.set(ul(e,i.x,r.x,s.x),ul(e,i.y,r.y,s.y),ul(e,i.z,r.z,s.z)),n};tr.prototype.copy=function(e){return Me.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};tr.prototype.toJSON=function(){const e=Me.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};tr.prototype.fromJSON=function(e){return Me.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Di(e){Me.call(this),this.type="SplineCurve",this.points=e||[]}Di.prototype=Object.create(Me.prototype);Di.prototype.constructor=Di;Di.prototype.isSplineCurve=!0;Di.prototype.getPoint=function(e,t){const n=t||new Z,i=this.points,r=(i.length-1)*e,s=Math.floor(r),o=r-s,a=i[s===0?s:s-1],l=i[s],c=i[s>i.length-2?i.length-1:s+1],h=i[s>i.length-3?i.length-1:s+2];return n.set(Lx(o,a.x,l.x,c.x,h.x),Lx(o,a.y,l.y,c.y,h.y)),n};Di.prototype.copy=function(e){Me.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this};Di.prototype.toJSON=function(){const e=Me.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e};Di.prototype.fromJSON=function(e){Me.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new Z().fromArray(i))}return this};var Im=Object.freeze({__proto__:null,ArcCurve:ec,CatmullRomCurve3:Rn,CubicBezierCurve:Li,CubicBezierCurve3:er,EllipseCurve:$n,LineCurve:In,LineCurve3:Ri,QuadraticBezierCurve:Ii,QuadraticBezierCurve3:tr,SplineCurve:Di});function Sr(){Me.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}Sr.prototype=Object.assign(Object.create(Me.prototype),{constructor:Sr,add:function(e){this.curves.push(e)},closePath:function(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new In(t,e))},getPoint:function(e){const t=e*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=t){const r=n[i]-t,s=this.curves[i],o=s.getLength(),a=o===0?0:1-r/o;return s.getPointAt(a)}i++}return null},getLength:function(){const e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){e===void 0&&(e=40);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const s=r[i],o=s&&s.isEllipseCurve?e*2:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?e*s.points.length:e,a=s.getPoints(o);for(let l=0;l<a.length;l++){const c=a[l];n&&n.equals(c)||(t.push(c),n=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){Me.prototype.copy.call(this,e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){const e=Me.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){Me.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new Im[i.type]().fromJSON(i))}return this}});function Si(e){Sr.call(this),this.type="Path",this.currentPoint=new Z,e&&this.setFromPoints(e)}Si.prototype=Object.assign(Object.create(Sr.prototype),{constructor:Si,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){const n=new In(this.currentPoint.clone(),new Z(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,i){const r=new Ii(this.currentPoint.clone(),new Z(e,t),new Z(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(e,t,n,i,r,s){const o=new Li(this.currentPoint.clone(),new Z(e,t),new Z(n,i),new Z(r,s));return this.curves.push(o),this.currentPoint.set(r,s),this},splineThru:function(e){const t=[this.currentPoint.clone()].concat(e),n=new Di(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,i,r,s){const o=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(e+o,t+a,n,i,r,s),this},absarc:function(e,t,n,i,r,s){return this.absellipse(e,t,n,n,i,r,s),this},ellipse:function(e,t,n,i,r,s,o,a){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,s,o,a),this},absellipse:function(e,t,n,i,r,s,o,a){const l=new $n(e,t,n,i,r,s,o,a);if(this.curves.length>0){const h=l.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return Sr.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){const e=Sr.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Sr.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}});function _s(e){Si.call(this,e),this.uuid=Be.generateUUID(),this.type="Shape",this.holes=[]}_s.prototype=Object.assign(Object.create(Si.prototype),{constructor:_s,getPointsHoles:function(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Si.prototype.copy.call(this,e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){const e=Si.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){Si.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new Si().fromJSON(i))}return this}});function ct(e,t){Ee.call(this),this.type="Light",this.color=new ve(e),this.intensity=t!==void 0?t:1,this.receiveShadow=void 0}ct.prototype=Object.assign(Object.create(Ee.prototype),{constructor:ct,isLight:!0,copy:function(e){return Ee.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){const t=Ee.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}});function Dm(e,t,n){ct.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Ee.DefaultUp),this.updateMatrix(),this.groundColor=new ve(t)}Dm.prototype=Object.assign(Object.create(ct.prototype),{constructor:Dm,isHemisphereLight:!0,copy:function(e){return ct.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}});function nr(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Z(512,512),this.map=null,this.mapPass=null,this.matrix=new He,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new dh,this._frameExtents=new Z(1,1),this._viewportCount=1,this._viewports=[new et(0,0,1,1)]}Object.assign(nr.prototype,{_projScreenMatrix:new He,_lightPositionWorld:new S,_lookTarget:new S,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){const t=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,s=this._lightPositionWorld;s.setFromMatrixPosition(e.matrixWorld),t.position.copy(s),r.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(r),t.updateMatrixWorld(),i.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}});function Nm(){nr.call(this,new Tt(50,1,.5,500))}Nm.prototype=Object.assign(Object.create(nr.prototype),{constructor:Nm,isSpotLightShadow:!0,updateMatrices:function(e){const t=this.camera,n=Be.RAD2DEG*2*e.angle,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(n!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),nr.prototype.updateMatrices.call(this,e)}});function Om(e,t,n,i,r,s){ct.call(this,e,t),this.type="SpotLight",this.position.copy(Ee.DefaultUp),this.updateMatrix(),this.target=new Ee,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(o){this.intensity=o/Math.PI}}),this.distance=n!==void 0?n:0,this.angle=i!==void 0?i:Math.PI/3,this.penumbra=r!==void 0?r:0,this.decay=s!==void 0?s:1,this.shadow=new Nm}Om.prototype=Object.assign(Object.create(ct.prototype),{constructor:Om,isSpotLight:!0,copy:function(e){return ct.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function km(){nr.call(this,new Tt(90,1,.5,500)),this._frameExtents=new Z(4,2),this._viewportCount=6,this._viewports=[new et(2,1,1,1),new et(0,1,1,1),new et(3,1,1,1),new et(1,1,1,1),new et(3,0,1,1),new et(1,0,1,1)],this._cubeDirections=[new S(1,0,0),new S(-1,0,0),new S(0,0,1),new S(0,0,-1),new S(0,1,0),new S(0,-1,0)],this._cubeUps=[new S(0,1,0),new S(0,1,0),new S(0,1,0),new S(0,1,0),new S(0,0,1),new S(0,0,-1)]}km.prototype=Object.assign(Object.create(nr.prototype),{constructor:km,isPointLightShadow:!0,updateMatrices:function(e,t){t===void 0&&(t=0);const n=this.camera,i=this.matrix,r=this._lightPositionWorld,s=this._lookTarget,o=this._projScreenMatrix;r.setFromMatrixPosition(e.matrixWorld),n.position.copy(r),s.copy(n.position),s.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(s),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),o.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}});function ms(e,t,n,i){ct.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(r){this.intensity=r/(4*Math.PI)}}),this.distance=n!==void 0?n:0,this.decay=i!==void 0?i:1,this.shadow=new km}ms.prototype=Object.assign(Object.create(ct.prototype),{constructor:ms,isPointLight:!0,copy:function(e){return ct.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}});function tc(e,t,n,i,r,s){Ki.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e!==void 0?e:-1,this.right=t!==void 0?t:1,this.top=n!==void 0?n:1,this.bottom=i!==void 0?i:-1,this.near=r!==void 0?r:.1,this.far=s!==void 0?s:2e3,this.updateProjectionMatrix()}tc.prototype=Object.assign(Object.create(Ki.prototype),{constructor:tc,isOrthographicCamera:!0,copy:function(e,t){return Ki.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,s=n+e,o=i+t,a=i-t;if(this.view!==null&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=l*this.view.offsetX,s=r+l*this.view.width,o-=c*this.view.offsetY,a=o-c*this.view.height}this.projectionMatrix.makeOrthographic(r,s,o,a,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=Ee.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}});function Fm(){nr.call(this,new tc(-5,5,5,-5,.5,500))}Fm.prototype=Object.assign(Object.create(nr.prototype),{constructor:Fm,isDirectionalLightShadow:!0,updateMatrices:function(e){nr.prototype.updateMatrices.call(this,e)}});function Bm(e,t){ct.call(this,e,t),this.type="DirectionalLight",this.position.copy(Ee.DefaultUp),this.updateMatrix(),this.target=new Ee,this.shadow=new Fm}Bm.prototype=Object.assign(Object.create(ct.prototype),{constructor:Bm,isDirectionalLight:!0,copy:function(e){return ct.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function zm(e,t){ct.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}zm.prototype=Object.assign(Object.create(ct.prototype),{constructor:zm,isAmbientLight:!0});function Um(e,t,n,i){ct.call(this,e,t),this.type="RectAreaLight",this.width=n!==void 0?n:10,this.height=i!==void 0?i:10}Um.prototype=Object.assign(Object.create(ct.prototype),{constructor:Um,isRectAreaLight:!0,copy:function(e){return ct.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){const t=ct.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});class OO{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new S)}set(t){for(let n=0;n<9;n++)this.coefficients[n].copy(t[n]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,n){const i=t.x,r=t.y,s=t.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*r),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*r)),n.addScaledVector(o[5],1.092548*(r*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(i*s)),n.addScaledVector(o[8],.546274*(i*i-r*r)),n}getIrradianceAt(t,n){const i=t.x,r=t.y,s=t.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*r),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*r),n.addScaledVector(o[5],2*.429043*r*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*i*s),n.addScaledVector(o[8],.429043*(i*i-r*r)),n}add(t){for(let n=0;n<9;n++)this.coefficients[n].add(t.coefficients[n]);return this}addScaledSH(t,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],n);return this}scale(t){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(t);return this}lerp(t,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],n);return this}equals(t){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(t.coefficients[n]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,n){n===void 0&&(n=0);const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(t,n+r*3);return this}toArray(t,n){t===void 0&&(t=[]),n===void 0&&(n=0);const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(t,n+r*3);return t}static getBasisAt(t,n){const i=t.x,r=t.y,s=t.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-r*r)}}function pi(e,t){ct.call(this,void 0,t),this.type="LightProbe",this.sh=e!==void 0?e:new OO}pi.prototype=Object.assign(Object.create(ct.prototype),{constructor:pi,isLightProbe:!0,copy:function(e){return ct.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){const t=ct.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}});function Vm(e){Qe.call(this,e),this.textures={}}Vm.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Vm,load:function(e,t,n,i){const r=this,s=new Pi(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.load(e,function(o){try{t(r.parse(JSON.parse(o)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)},parse:function(e){const t=this.textures;function n(r){return t[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),t[r]}const i=new SO[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=new ve().setHex(e.sheen)),e.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular.setHex(e.specular),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(i.skinning=e.skinning),e.morphTargets!==void 0&&(i.morphTargets=e.morphTargets),e.morphNormals!==void 0&&(i.morphNormals=e.morphNormals),e.dithering!==void 0&&(i.dithering=e.dithering),e.vertexTangents!==void 0&&(i.vertexTangents=e.vertexTangents),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const s=e.uniforms[r];switch(i.uniforms[r]={},s.type){case"t":i.uniforms[r].value=n(s.value);break;case"c":i.uniforms[r].value=new ve().setHex(s.value);break;case"v2":i.uniforms[r].value=new Z().fromArray(s.value);break;case"v3":i.uniforms[r].value=new S().fromArray(s.value);break;case"v4":i.uniforms[r].value=new et().fromArray(s.value);break;case"m3":i.uniforms[r].value=new vn().fromArray(s.value);break;case"m4":i.uniforms[r].value=new He().fromArray(s.value);break;default:i.uniforms[r].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const r in e.extensions)i.extensions[r]=e.extensions[r];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),i.normalScale=new Z().fromArray(r)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Z().fromArray(e.clearcoatNormalScale)),e.transmission!==void 0&&(i.transmission=e.transmission),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),i},setTextures:function(e){return this.textures=e,this}});const kS={decodeText:function(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}},extractUrlBase:function(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}};function Of(){Ue.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}Of.prototype=Object.assign(Object.create(Ue.prototype),{constructor:Of,isInstancedBufferGeometry:!0,copy:function(e){return Ue.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e=Ue.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}});function Gm(e,t,n,i){typeof n=="number"&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Oe.call(this,e,t,n),this.meshPerAttribute=i||1}Gm.prototype=Object.assign(Object.create(Oe.prototype),{constructor:Gm,isInstancedBufferAttribute:!0,copy:function(e){return Oe.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=Oe.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}});function Hm(e){Qe.call(this,e)}Hm.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Hm,load:function(e,t,n,i){const r=this,s=new Pi(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.load(e,function(o){try{t(r.parse(JSON.parse(o)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)},parse:function(e){const t={},n={};function i(f,d){if(t[d]!==void 0)return t[d];const y=f.interleavedBuffers[d],v=r(f,y.buffer),g=new yu[y.type](v),m=new Vn(g,y.stride);return m.uuid=y.uuid,t[d]=m,m}function r(f,d){if(n[d]!==void 0)return n[d];const y=f.arrayBuffers[d],v=new Uint32Array(y).buffer;return n[d]=v,v}const s=e.isInstancedBufferGeometry?new Of:new Ue,o=e.data.index;if(o!==void 0){const f=new yu[o.type](o.array);s.setIndex(new Oe(f,1))}const a=e.data.attributes;for(const f in a){const d=a[f];let p;if(d.isInterleavedBufferAttribute){const y=i(e.data,d.data);p=new Rs(y,d.itemSize,d.offset,d.normalized)}else{const y=new yu[d.type](d.array),v=d.isInstancedBufferAttribute?Gm:Oe;p=new v(y,d.itemSize,d.normalized)}d.name!==void 0&&(p.name=d.name),s.setAttribute(f,p)}const l=e.data.morphAttributes;if(l)for(const f in l){const d=l[f],p=[];for(let y=0,v=d.length;y<v;y++){const g=d[y];let m;if(g.isInterleavedBufferAttribute){const x=i(e.data,g.data);m=new Rs(x,g.itemSize,g.offset,g.normalized)}else{const x=new yu[g.type](g.array);m=new Oe(x,g.itemSize,g.normalized)}g.name!==void 0&&(m.name=g.name),p.push(m)}s.morphAttributes[f]=p}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let f=0,d=h.length;f!==d;++f){const p=h[f];s.addGroup(p.start,p.count,p.materialIndex)}const u=e.data.boundingSphere;if(u!==void 0){const f=new S;u.center!==void 0&&f.fromArray(u.center),s.boundingSphere=new $r(f,u.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}});const yu={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Wm(e){Qe.call(this,e)}Wm.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Wm,load:function(e,t,n,i){const r=this,s=this.path===""?kS.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new Pi(r.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.load(e,function(a){let l=null;try{l=JSON.parse(a)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}r.parse(l,t)},n,i)},parse:function(e,t){const n=this.parseShape(e.shapes),i=this.parseGeometries(e.geometries,n),r=this.parseImages(e.images,function(){t!==void 0&&t(a)}),s=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,s),a=this.parseObject(e.object,i,o);return e.animations&&(a.animations=this.parseAnimations(e.animations)),(e.images===void 0||e.images.length===0)&&t!==void 0&&t(a),a},parseShape:function(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const r=new _s().fromJSON(e[n]);t[r.uuid]=r}return t},parseGeometries:function(e,t){const n={};let i;if(e!==void 0){const r=new Hm;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new rn[l.type](l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new rn[l.type](l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new rn[l.type](l.radius,l.segments,l.thetaStart,l.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new rn[l.type](l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new rn[l.type](l.radius,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new rn[l.type](l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new rn[l.type](l.radius,l.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new rn[l.type](l.innerRadius,l.outerRadius,l.thetaSegments,l.phiSegments,l.thetaStart,l.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new rn[l.type](l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new rn[l.type](l.radius,l.tube,l.tubularSegments,l.radialSegments,l.p,l.q);break;case"TubeGeometry":case"TubeBufferGeometry":a=new rn[l.type](new Im[l.path.type]().fromJSON(l.path),l.tubularSegments,l.radius,l.radialSegments,l.closed);break;case"LatheGeometry":case"LatheBufferGeometry":a=new rn[l.type](l.points,l.segments,l.phiStart,l.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new rn[l.type](l.vertices,l.indices,l.radius,l.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":i=[];for(let h=0,u=l.shapes.length;h<u;h++){const f=t[l.shapes[h]];i.push(f)}a=new rn[l.type](i,l.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":i=[];for(let h=0,u=l.shapes.length;h<u;h++){const f=t[l.shapes[h]];i.push(f)}const c=l.options.extrudePath;c!==void 0&&(l.options.extrudePath=new Im[c.type]().fromJSON(c)),a=new rn[l.type](i,l.options);break;case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+l.type+'"');continue}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),n[l.uuid]=a}}return n},parseMaterials:function(e,t){const n={},i={};if(e!==void 0){const r=new Vm;r.setTextures(t);for(let s=0,o=e.length;s<o;s++){const a=e[s];if(a.type==="MultiMaterial"){const l=[];for(let c=0;c<a.materials.length;c++){const h=a.materials[c];n[h.uuid]===void 0&&(n[h.uuid]=r.parse(h)),l.push(n[h.uuid])}i[a.uuid]=l}else n[a.uuid]===void 0&&(n[a.uuid]=r.parse(a)),i[a.uuid]=n[a.uuid]}}return i},parseAnimations:function(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n],r=ci.parse(i);i.uuid!==void 0&&(r.uuid=i.uuid),t.push(r)}return t},parseImages:function(e,t){const n=this,i={};let r;function s(o){return n.manager.itemStart(o),r.load(o,function(){n.manager.itemEnd(o)},void 0,function(){n.manager.itemError(o),n.manager.itemEnd(o)})}if(e!==void 0&&e.length>0){const o=new OS(t);r=new Ql(o),r.setCrossOrigin(this.crossOrigin);for(let a=0,l=e.length;a<l;a++){const c=e[a],h=c.url;if(Array.isArray(h)){i[c.uuid]=[];for(let u=0,f=h.length;u<f;u++){const d=h[u],p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;i[c.uuid].push(s(p))}}else{const u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:n.resourcePath+c.url;i[c.uuid]=s(u)}}}return i},parseTextures:function(e,t){function n(r,s){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),s[r])}const i={};if(e!==void 0)for(let r=0,s=e.length;r<s;r++){const o=e[r];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);let a;Array.isArray(t[o.image])?a=new Ur(t[o.image]):a=new tt(t[o.image]),a.needsUpdate=!0,a.uuid=o.uuid,o.name!==void 0&&(a.name=o.name),o.mapping!==void 0&&(a.mapping=n(o.mapping,kO)),o.offset!==void 0&&a.offset.fromArray(o.offset),o.repeat!==void 0&&a.repeat.fromArray(o.repeat),o.center!==void 0&&a.center.fromArray(o.center),o.rotation!==void 0&&(a.rotation=o.rotation),o.wrap!==void 0&&(a.wrapS=n(o.wrap[0],Rx),a.wrapT=n(o.wrap[1],Rx)),o.format!==void 0&&(a.format=o.format),o.type!==void 0&&(a.type=o.type),o.encoding!==void 0&&(a.encoding=o.encoding),o.minFilter!==void 0&&(a.minFilter=n(o.minFilter,Ix)),o.magFilter!==void 0&&(a.magFilter=n(o.magFilter,Ix)),o.anisotropy!==void 0&&(a.anisotropy=o.anisotropy),o.flipY!==void 0&&(a.flipY=o.flipY),o.premultiplyAlpha!==void 0&&(a.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(a.unpackAlignment=o.unpackAlignment),i[o.uuid]=a}return i},parseObject:function(e,t,n){let i;function r(l){return t[l]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",l),t[l]}function s(l){if(l!==void 0){if(Array.isArray(l)){const c=[];for(let h=0,u=l.length;h<u;h++){const f=l[h];n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),c.push(n[f])}return c}return n[l]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",l),n[l]}}let o,a;switch(e.type){case"Scene":i=new R0,e.background!==void 0&&Number.isInteger(e.background)&&(i.background=new ve(e.background)),e.fog!==void 0&&(e.fog.type==="Fog"?i.fog=new L0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(i.fog=new P0(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":i=new Tt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(i.focus=e.focus),e.zoom!==void 0&&(i.zoom=e.zoom),e.filmGauge!==void 0&&(i.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(i.filmOffset=e.filmOffset),e.view!==void 0&&(i.view=Object.assign({},e.view));break;case"OrthographicCamera":i=new tc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(i.zoom=e.zoom),e.view!==void 0&&(i.view=Object.assign({},e.view));break;case"AmbientLight":i=new zm(e.color,e.intensity);break;case"DirectionalLight":i=new Bm(e.color,e.intensity);break;case"PointLight":i=new ms(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":i=new Um(e.color,e.intensity,e.width,e.height);break;case"SpotLight":i=new Om(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":i=new Dm(e.color,e.groundColor,e.intensity);break;case"LightProbe":i=new pi().fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":o=r(e.geometry),a=s(e.material),i=new Ft(o,a);break;case"InstancedMesh":o=r(e.geometry),a=s(e.material);const l=e.count,c=e.instanceMatrix;i=new vm(o,a,l),i.instanceMatrix=new Oe(new Float32Array(c.array),16);break;case"LOD":i=new Pf;break;case"Line":i=new Ds(r(e.geometry),s(e.material),e.mode);break;case"LineLoop":i=new xm(r(e.geometry),s(e.material));break;case"LineSegments":i=new Wl(r(e.geometry),s(e.material));break;case"PointCloud":case"Points":i=new _m(r(e.geometry),s(e.material));break;case"Sprite":i=new mm(s(e.material));break;case"Group":i=new ps;break;default:i=new Ee}if(i.uuid=e.uuid,e.name!==void 0&&(i.name=e.name),e.matrix!==void 0?(i.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(i.matrixAutoUpdate=e.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(e.position!==void 0&&i.position.fromArray(e.position),e.rotation!==void 0&&i.rotation.fromArray(e.rotation),e.quaternion!==void 0&&i.quaternion.fromArray(e.quaternion),e.scale!==void 0&&i.scale.fromArray(e.scale)),e.castShadow!==void 0&&(i.castShadow=e.castShadow),e.receiveShadow!==void 0&&(i.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(i.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(i.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(i.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&i.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(i.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(i.visible=e.visible),e.frustumCulled!==void 0&&(i.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(i.renderOrder=e.renderOrder),e.userData!==void 0&&(i.userData=e.userData),e.layers!==void 0&&(i.layers.mask=e.layers),e.children!==void 0){const l=e.children;for(let c=0;c<l.length;c++)i.add(this.parseObject(l[c],t,n))}if(e.type==="LOD"){e.autoUpdate!==void 0&&(i.autoUpdate=e.autoUpdate);const l=e.levels;for(let c=0;c<l.length;c++){const h=l[c],u=i.getObjectByProperty("uuid",h.object);u!==void 0&&i.addLevel(u,h.distance)}}return i}});const kO={UVMapping:E0,CubeReflectionMapping:ah,CubeRefractionMapping:lh,EquirectangularReflectionMapping:nm,EquirectangularRefractionMapping:im,CubeUVReflectionMapping:ch,CubeUVRefractionMapping:uh},Rx={RepeatWrapping:Mf,ClampToEdgeWrapping:mn,MirroredRepeatWrapping:Sf},Ix={NearestFilter:Zt,NearestMipmapNearestFilter:rm,NearestMipmapLinearFilter:sm,LinearFilter:Gt,LinearMipmapNearestFilter:ZM,LinearMipmapLinearFilter:mc};function Dx(e){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Qe.call(this,e),this.options={premultiplyAlpha:"none"}}Dx.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Dx,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=ra.get(e);if(s!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;fetch(e).then(function(o){return o.blob()}).then(function(o){return createImageBitmap(o,r.options)}).then(function(o){ra.add(e,o),t&&t(o),r.manager.itemEnd(e)}).catch(function(o){i&&i(o),r.manager.itemError(e),r.manager.itemEnd(e)}),r.manager.itemStart(e)}});function FS(){this.type="ShapePath",this.color=new ve,this.subPaths=[],this.currentPath=null}Object.assign(FS.prototype,{moveTo:function(e,t){return this.currentPath=new Si,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this},bezierCurveTo:function(e,t,n,i,r,s){return this.currentPath.bezierCurveTo(e,t,n,i,r,s),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(g){const m=[];for(let x=0,w=g.length;x<w;x++){const b=g[x],_=new _s;_.curves=b.curves,m.push(_)}return m}function i(g,m){const x=m.length;let w=!1;for(let b=x-1,_=0;_<x;b=_++){let M=m[b],E=m[_],P=E.x-M.x,I=E.y-M.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(M=m[_],P=-P,E=m[b],I=-I),g.y<M.y||g.y>E.y)continue;if(g.y===M.y){if(g.x===M.x)return!0}else{const N=I*(g.x-M.x)-P*(g.y-M.y);if(N===0)return!0;if(N<0)continue;w=!w}}else{if(g.y!==M.y)continue;if(E.x<=g.x&&g.x<=M.x||M.x<=g.x&&g.x<=E.x)return!0}}return w}const r=Or.isClockWise,s=this.subPaths;if(s.length===0)return[];if(t===!0)return n(s);let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new _s,l.curves=a.curves,c.push(l),c;let h=!r(s[0].getPoints());h=e?!h:h;const u=[],f=[];let d=[],p=0,y;f[p]=void 0,d[p]=[];for(let g=0,m=s.length;g<m;g++)a=s[g],y=a.getPoints(),o=r(y),o=e?!o:o,o?(!h&&f[p]&&p++,f[p]={s:new _s,p:y},f[p].s.curves=a.curves,h&&p++,d[p]=[]):d[p].push({h:a,p:y[0]});if(!f[0])return n(s);if(f.length>1){let g=!1;const m=[];for(let x=0,w=f.length;x<w;x++)u[x]=[];for(let x=0,w=f.length;x<w;x++){const b=d[x];for(let _=0;_<b.length;_++){const M=b[_];let E=!0;for(let P=0;P<f.length;P++)i(M.p,f[P].p)&&(x!==P&&m.push({froms:x,tos:P,hole:_}),E?(E=!1,u[P].push(M)):g=!0);E&&u[x].push(M)}}m.length>0&&(g||(d=u))}let v;for(let g=0,m=f.length;g<m;g++){l=f[g].s,c.push(l),v=d[g];for(let x=0,w=v.length;x<w;x++)l.holes.push(v[x].h)}return c}});function BS(e){this.type="Font",this.data=e}Object.assign(BS.prototype,{isFont:!0,generateShapes:function(e,t){t===void 0&&(t=100);const n=[],i=FO(e,t,this.data);for(let r=0,s=i.length;r<s;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}});function FO(e,t,n){const i=Array.from?Array.from(e):String(e).split(""),r=t/n.resolution,s=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[];let a=0,l=0;for(let c=0;c<i.length;c++){const h=i[c];if(h===`
`)a=0,l-=s;else{const u=BO(h,r,a,l,n);a+=u.offsetX,o.push(u.path)}}return o}function BO(e,t,n,i,r){const s=r.glyphs[e]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".");return}const o=new FS;let a,l,c,h,u,f,d,p;if(s.o){const y=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let v=0,g=y.length;v<g;)switch(y[v++]){case"m":a=y[v++]*t+n,l=y[v++]*t+i,o.moveTo(a,l);break;case"l":a=y[v++]*t+n,l=y[v++]*t+i,o.lineTo(a,l);break;case"q":c=y[v++]*t+n,h=y[v++]*t+i,u=y[v++]*t+n,f=y[v++]*t+i,o.quadraticCurveTo(u,f,c,h);break;case"b":c=y[v++]*t+n,h=y[v++]*t+i,u=y[v++]*t+n,f=y[v++]*t+i,d=y[v++]*t+n,p=y[v++]*t+i,o.bezierCurveTo(u,f,d,p,c,h);break}}return{offsetX:s.ha*t,path:o}}function Nx(e){Qe.call(this,e)}Nx.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Nx,load:function(e,t,n,i){const r=this,s=new Pi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.load(e,function(o){let a;try{a=JSON.parse(o)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),a=JSON.parse(o.substring(65,o.length-2))}const l=r.parse(a);t&&t(l)},n,i)},parse:function(e){return new BS(e)}});let vu;const zO={getContext:function(){return vu===void 0&&(vu=new(window.AudioContext||window.webkitAudioContext)),vu},setContext:function(e){vu=e}};function Ox(e){Qe.call(this,e)}Ox.prototype=Object.assign(Object.create(Qe.prototype),{constructor:Ox,load:function(e,t,n,i){const r=this,s=new Pi(r.manager);s.setResponseType("arraybuffer"),s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.load(e,function(o){try{const a=o.slice(0);zO.getContext().decodeAudioData(a,function(c){t(c)})}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)}});function kx(e,t,n){pi.call(this,void 0,n);const i=new ve().set(e),r=new ve().set(t),s=new S(i.r,i.g,i.b),o=new S(r.r,r.g,r.b),a=Math.sqrt(Math.PI),l=a*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(o).multiplyScalar(a),this.sh.coefficients[1].copy(s).sub(o).multiplyScalar(l)}kx.prototype=Object.assign(Object.create(pi.prototype),{constructor:kx,isHemisphereLightProbe:!0,copy:function(e){return pi.prototype.copy.call(this,e),this},toJSON:function(e){return pi.prototype.toJSON.call(this,e)}});function Fx(e,t){pi.call(this,void 0,t);const n=new ve().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Fx.prototype=Object.assign(Object.create(pi.prototype),{constructor:Fx,isAmbientLightProbe:!0,copy:function(e){return pi.prototype.copy.call(this,e),this},toJSON:function(e){return pi.prototype.toJSON.call(this,e)}});const Bx=new He,zx=new He;function UO(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Tt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Tt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(UO.prototype,{update:function(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const i=e.projectionMatrix.clone(),r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Be.DEG2RAD*t.fov*.5)/t.zoom;let a,l;zx.elements[12]=-r,Bx.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,i.elements[0]=2*t.near/(l-a),i.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(i),a=-o*t.aspect-s,l=o*t.aspect-s,i.elements[0]=2*t.near/(l-a),i.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(zx),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Bx)}});new S;new cn;new S;new S;new S;new cn;new S;new S;function zS(e,t,n){this.binding=e,this.valueSize=n;let i,r,s;switch(t){case"quaternion":i=this._slerp,r=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,r=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(zS.prototype,{accumulate:function(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==i;++o)n[r+o]=n[o];s=t}else{s+=t;const o=t/s;this._mixBufferRegion(n,r,0,o,i)}this.cumulativeWeight=s},accumulateAdditive:function(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const a=t*this._origIndex;this._mixBufferRegion(n,i,a,1-r,t)}s>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){o.setValue(n,i);break}},saveOriginalState:function(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let r=n,s=i;r!==s;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,i,r){if(i>=.5)for(let s=0;s!==r;++s)e[t+s]=e[n+s]},_slerp:function(e,t,n,i){cn.slerpFlat(e,t,e,t,e,n,i)},_slerpAdditive:function(e,t,n,i,r){const s=this._workIndex*r;cn.multiplyQuaternionsFlat(e,s,e,t,e,n),cn.slerpFlat(e,t,e,t,e,s,i)},_lerp:function(e,t,n,i,r){const s=1-i;for(let o=0;o!==r;++o){const a=t+o;e[a]=e[a]*s+e[n+o]*i}},_lerpAdditive:function(e,t,n,i,r){for(let s=0;s!==r;++s){const o=t+s;e[o]=e[o]+e[n+s]*i}}});const N0="\\[\\]\\.:\\/",VO=new RegExp("["+N0+"]","g"),O0="[^"+N0+"]",GO="[^"+N0.replace("\\.","")+"]",HO=/((?:WC+[\/:])*)/.source.replace("WC",O0),WO=/(WCOD+)?/.source.replace("WCOD",GO),jO=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",O0),XO=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",O0),qO=new RegExp("^"+HO+WO+jO+XO+"$"),YO=["material","materials","bones"];function US(e,t,n){const i=n||un.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}Object.assign(US.prototype,{getValue:function(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)},setValue:function(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}});function un(e,t,n){this.path=t,this.parsedPath=n||un.parseTrackName(t),this.node=un.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(un,{Composite:US,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new un.Composite(e,t,n):new un(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(VO,"")},parseTrackName:function(e){const t=qO.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const r=n.nodeName.substring(i+1);YO.indexOf(r)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(r){for(let s=0;s<r.length;s++){const o=r[s];if(o.name===t||o.uuid===t)return o;const a=n(o.children);if(a)return a}return null},i=n(e.children);if(i)return i}return null}});Object.assign(un.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,n){t[n]=this.node[this.propertyName]},function(t,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)t[n++]=i[r]},function(t,n){t[n]=this.resolvedProperty[this.propertyIndex]},function(t,n){this.resolvedProperty.toArray(t,n)}],SetterByBindingTypeAndVersioning:[[function(t,n){this.targetObject[this.propertyName]=t[n]},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[n++]},function(t,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[n++];this.targetObject.needsUpdate=!0},function(t,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty[this.propertyIndex]=t[n]},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty.fromArray(t,n)},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,n){this.bind(),this.getValue(t,n)},setValue:function(t,n){this.bind(),this.setValue(t,n)},bind:function(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=un.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let l=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===l){l=c;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(l!==void 0){if(e[l]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[l]}}const s=e[i];if(s===void 0){const l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(r!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}a=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else s.fromArray!==void 0&&s.toArray!==void 0?(a=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(a=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][o]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});Object.assign(un.prototype,{_getValue_unbound:un.prototype.getValue,_setValue_unbound:un.prototype.setValue});function $O(){this.uuid=Be.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}Object.assign($O.prototype,{isAnimationObjectGroup:!0,add:function(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,s=r.length;let o,a=e.length,l=this.nCachedObjects_;for(let c=0,h=arguments.length;c!==h;++c){const u=arguments[c],f=u.uuid;let d=t[f];if(d===void 0){d=a++,t[f]=d,e.push(u);for(let p=0,y=s;p!==y;++p)r[p].push(new un(u,n[p],i[p]))}else if(d<l){o=e[d];const p=--l,y=e[p];t[y.uuid]=d,e[d]=y,t[f]=p,e[p]=u;for(let v=0,g=s;v!==g;++v){const m=r[v],x=m[p];let w=m[d];m[d]=x,w===void 0&&(w=new un(u,n[v],i[v])),m[p]=w}}else e[d]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const a=arguments[s],l=a.uuid,c=t[l];if(c!==void 0&&c>=r){const h=r++,u=e[h];t[u.uuid]=c,e[c]=u,t[l]=h,e[h]=a;for(let f=0,d=i;f!==d;++f){const p=n[f],y=p[h],v=p[c];p[c]=y,p[h]=v}}}this.nCachedObjects_=r},uncache:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,s=e.length;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,h=t[c];if(h!==void 0)if(delete t[c],h<r){const u=--r,f=e[u],d=--s,p=e[d];t[f.uuid]=h,e[h]=f,t[p.uuid]=u,e[u]=p,e.pop();for(let y=0,v=i;y!==v;++y){const g=n[y],m=g[u],x=g[d];g[h]=m,g[u]=x,g.pop()}}else{const u=--s,f=e[u];t[f.uuid]=h,e[h]=f,e.pop();for(let d=0,p=i;d!==p;++d){const y=n[d];y[h]=y[u],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const r=this._bindings;if(i!==void 0)return r[i];const s=this._paths,o=this._parsedPaths,a=this._objects,l=a.length,c=this.nCachedObjects_,h=new Array(l);i=r.length,n[e]=i,s.push(e),o.push(t),r.push(h);for(let u=c,f=a.length;u!==f;++u){const d=a[u];h[u]=new un(d,e,t)}return h},unsubscribe_:function(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length-1,a=s[o],l=e[o];t[l]=n,s[n]=a,s.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}});class ZO{constructor(t,n,i,r){this._mixer=t,this._clip=n,this._localRoot=i||null,this.blendMode=r||n.blendMode;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Eo,endingEnd:Eo};for(let c=0;c!==o;++c){const h=s[c].createInterpolant(null);a[c]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=h8,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,n){return this.loop=t,this.repetitions=n,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,n,i){if(t.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,s=t._clip.duration,o=s/r,a=r/s;t.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(t,n,i){return t.crossFadeFrom(this,n,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,n,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=t/o,c[1]=n/o,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,n,i,r){if(!this.enabled){this._updateWeight(t);return}const s=this._startTime;if(s!==null){const l=(t-s)*i;if(l<0||i===0)return;this._startTime=null,n=i*l}n*=this._updateTimeScale(t);const o=this._updateTime(n),a=this._updateWeight(t);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case JM:for(let h=0,u=l.length;h!==u;++h)l[h].evaluate(o),c[h].accumulateAdditive(a);break;case A0:default:for(let h=0,u=l.length;h!==u;++h)l[h].evaluate(o),c[h].accumulate(r,a)}}}_updateWeight(t){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(t)[0];n*=r,t>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(t){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(t)[0];n*=r,t>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(t){const n=this._clip.duration,i=this.loop;let r=this.time+t,s=this._loopCount;const o=i===d8;if(t===0)return s===-1?r:o&&(s&1)===1?n-r:r;if(i===f8){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(s===-1&&(t>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=n||r<0){const a=Math.floor(r/n);r-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=t>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(l===1){const c=t<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return n-r}return r}_setEndings(t,n,i){const r=this._interpolantSettings;i?(r.endingStart=Co,r.endingEnd=Co):(t?r.endingStart=this.zeroSlopeAtStart?Co:Eo:r.endingStart=Af,n?r.endingEnd=this.zeroSlopeAtEnd?Co:Eo:r.endingEnd=Af)}_scheduleFading(t,n,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+t,l[1]=i,this}}function Ux(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Ux.prototype=Object.assign(Object.create(rr.prototype),{constructor:Ux,_bindAction:function(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,s=e._propertyBindings,o=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName;let c=l[a];c===void 0&&(c={},l[a]=c);for(let h=0;h!==r;++h){const u=i[h],f=u.name;let d=c[f];if(d!==void 0)s[h]=d;else{if(d=s[h],d!==void 0){d._cacheIndex===null&&(++d.referenceCount,this._addInactiveBinding(d,a,f));continue}const p=t&&t._propertyBindings[h].binding.parsedPath;d=new zS(un.create(n,f,p),u.ValueTypeName,u.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,a,f),s[h]=d}o[h].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){const i=this._actions,r=this._actionsByClip;let s=r[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[n]=e},_removeInactiveAction:function(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,s=this._actionsByClip,o=s[r],a=o.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null;const h=o.actionByRoot,u=(e._localRoot||this._root).uuid;delete h[u],a.length===0&&delete s[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.referenceCount===0&&this._removeInactiveBinding(r)}},_lendAction:function(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[n]=e,e._cacheIndex=r.length,r.push(e)},_removeInactiveBinding:function(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,s=this._bindingsByRootAndName,o=s[i],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete o[r],Object.keys(o).length===0&&delete s[i]},_lendBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new Df(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){const i=t||this._root,r=i.uuid;let s=typeof e=="string"?ci.findByName(i,e):e;const o=s!==null?s.uuid:e,a=this._actionsByClip[o];let l=null;if(n===void 0&&(s!==null?n=s.blendMode:n=A0),a!==void 0){const h=a.actionByRoot[r];if(h!==void 0&&h.blendMode===n)return h;l=a.knownActions[0],s===null&&(s=l._clip)}if(s===null)return null;const c=new ZO(this,s,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,r),c},existingAction:function(e,t){const n=t||this._root,i=n.uuid,r=typeof e=="string"?ci.findByName(n,e):e,s=r?r.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[i]||null},stopAllAction:function(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this},update:function(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),s=this._accuIndex^=1;for(let l=0;l!==n;++l)t[l]._update(i,e,r,s);const o=this._bindings,a=this._nActiveBindings;for(let l=0;l!==a;++l)o[l].apply(s);return this},setTime:function(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(r!==void 0){const s=r.knownActions;for(let o=0,a=s.length;o!==a;++o){const l=s[o];this._deactivateAction(l);const c=l._cacheIndex,h=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,h._cacheIndex=c,t[c]=h,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(e){const t=e.uuid,n=this._actionsByClip;for(const s in n){const o=n[s].actionByRoot,a=o[t];a!==void 0&&(this._deactivateAction(a),this._removeInactiveAction(a))}const i=this._bindingsByRootAndName,r=i[t];if(r!==void 0)for(const s in r){const o=r[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}},uncacheAction:function(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}});function Vx(e,t,n){Vn.call(this,e,t),this.meshPerAttribute=n||1}Vx.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Vx,isInstancedInterleavedBuffer:!0,copy:function(e){return Vn.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=Vn.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=Vn.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}});function VS(e,t,n,i,r){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}Object.defineProperty(VS.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(VS.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}});function k0(e,t,n,i){this.ray=new yc(e,t),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new QM,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Gx(e,t){return e.distance-t.distance}function jm(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),i===!0){const r=e.children;for(let s=0,o=r.length;s<o;s++)jm(r[s],t,n,!0)}}Object.assign(k0.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){const i=n||[];return jm(e,this,i,t),i.sort(Gx),i},intersectObjects:function(e,t,n){const i=n||[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let r=0,s=e.length;r<s;r++)jm(e[r],this,i,t);return i.sort(Gx),i}});const Hx=new Z;class JO{constructor(t,n){Object.defineProperty(this,"isBox2",{value:!0}),this.min=t!==void 0?t:new Z(1/0,1/0),this.max=n!==void 0?n:new Z(-1/0,-1/0)}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromPoints(t){this.makeEmpty();for(let n=0,i=t.length;n<i;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){const i=Hx.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return t===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new Z),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return t===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new Z),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,n){return n===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),n=new Z),n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,n){return n===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),n=new Z),n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Hx.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}new S;new S;function kf(e){Ee.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}kf.prototype=Object.create(Ee.prototype);kf.prototype.constructor=kf;kf.prototype.isImmediateRenderObject=!0;new S;const pr=new S,xu=new He,Nd=new He;class KO extends Wl{constructor(t){const n=GS(t),i=new Ue,r=[],s=[],o=new ve(0,0,1),a=new ve(0,1,0);for(let c=0;c<n.length;c++){const h=n[c];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new we(r,3)),i.setAttribute("color",new we(s,3));const l=new Yn({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=n,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const n=this.bones,i=this.geometry,r=i.getAttribute("position");Nd.getInverse(this.root.matrixWorld);for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(xu.multiplyMatrices(Nd,a.matrixWorld),pr.setFromMatrixPosition(xu),r.setXYZ(o,pr.x,pr.y,pr.z),xu.multiplyMatrices(Nd,a.parent.matrixWorld),pr.setFromMatrixPosition(xu),r.setXYZ(o+1,pr.x,pr.y,pr.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}function GS(e){const t=[];e&&e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,GS(e.children[n]));return t}new S;new ve;new ve;class QO extends Wl{constructor(t,n,i,r){t=t||10,n=n||10,i=new ve(i!==void 0?i:4473924),r=new ve(r!==void 0?r:8947848);const s=n/2,o=t/n,a=t/2,l=[],c=[];for(let f=0,d=0,p=-a;f<=n;f++,p+=o){l.push(-a,0,p,a,0,p),l.push(p,0,-a,p,0,a);const y=f===s?i:r;y.toArray(c,d),d+=3,y.toArray(c,d),d+=3,y.toArray(c,d),d+=3,y.toArray(c,d),d+=3}const h=new Ue;h.setAttribute("position",new we(l,3)),h.setAttribute("color",new we(c,3));const u=new Yn({vertexColors:!0,toneMapped:!1});super(h,u),this.type="GridHelper"}}new S;new S;new S;new S;new Ki;new sr;new S;const zu=4,Uu=8,HS=[.125,.215,.35,.446,.526,.582],e9=Uu-zu+1+HS.length;new tc;t9();const ls=(1+Math.sqrt(5))/2,oo=1/ls;new S(1,1,1),new S(-1,1,1),new S(1,1,-1),new S(-1,1,-1),new S(0,ls,oo),new S(0,ls,-oo),new S(oo,0,ls),new S(-oo,0,ls),new S(ls,oo,0),new S(-ls,oo,0);function t9(){const e=[],t=[],n=[];let i=Uu;for(let r=0;r<e9;r++){const s=Math.pow(2,i);t.push(s);let o=1/s;r>Uu-zu?o=HS[r-Uu+zu-1]:r==0&&(o=0),n.push(o);const a=1/(s-1),l=-a/2,c=1+a/2,h=[l,l,c,l,c,c,l,l,c,c,l,c],u=6,f=6,d=3,p=2,y=1,v=new Float32Array(d*f*u),g=new Float32Array(p*f*u),m=new Float32Array(y*f*u);for(let w=0;w<u;w++){const b=w%3*2/3-1,_=w>2?0:-1,M=[b,_,0,b+2/3,_,0,b+2/3,_+1,0,b,_,0,b+2/3,_+1,0,b,_+1,0];v.set(M,d*f*w),g.set(h,p*f*w);const E=[w,w,w,w,w,w];m.set(E,y*f*w)}const x=new Ue;x.setAttribute("position",new Oe(v,d)),x.setAttribute("uv",new Oe(g,p)),x.setAttribute("faceIndex",new Oe(m,y)),e.push(x),i>zu&&i--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}Me.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Me.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e};Object.assign(Sr.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=new Je;for(let n=0,i=e.length;n<i;n++){const r=e[n];t.vertices.push(new S(r.x,r.y,r.z||0))}return t}});Object.assign(Si.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}});Object.create(Rn.prototype);Object.create(Rn.prototype);function WS(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Rn.call(this,e),this.type="catmullrom"}WS.prototype=Object.create(Rn.prototype);Object.assign(WS.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});QO.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};KO.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(Qe.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),kS.extractUrlBase(e)}});Qe.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Object.assign(Wm.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}});Object.assign(JO.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(sr.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign($r.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}});dh.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)};Object.assign(Be,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Be.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Be.ceilPowerOfTwo(e)}});Object.assign(vn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(He.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new S().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,s)}});wi.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)};cn.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)};Object.assign(yc.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}});Object.assign(on.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}});Object.assign(on,{barycoordFromPoint:function(e,t,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),on.getBarycoord(e,t,n,i,r)},normal:function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),on.getNormal(e,t,n,i)}});Object.assign(_s.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new SS(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new LS(this,e)}});Object.assign(Z.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(S.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(et.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Je.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.assign(Ee.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(Ee.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.assign(Ft.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});Object.defineProperties(Ft.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),p8},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Object.defineProperties(Pf.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(ym.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});gm.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(Me.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}});Tt.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(e)};Object.defineProperties(ct.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}});Object.defineProperties(Oe.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Bl},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Bl)}}});Object.assign(Oe.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?Bl:fh),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(Ue.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Oe(arguments[1],arguments[2]))):e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t)},addDrawCall:function(e,t,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(Ue.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(Of.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}});Object.defineProperties(k0.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}});Object.defineProperties(Vn.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Bl},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}});Object.assign(Vn.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?Bl:fh),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(gh.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.assign(R0.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}});Object.defineProperties(Ie.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ve}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===qM}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}});Object.defineProperties(ks.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(Os.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}});Object.defineProperties(Mn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}});Object.assign(xc.prototype,{clearTarget:function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}});Object.defineProperties(xc.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?KM:gc}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(fS.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(di.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}});Vl.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};Cs.crossOrigin=void 0;Cs.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new Rm;r.setCrossOrigin(this.crossOrigin);const s=r.load(e,n,void 0,i);return t&&(s.mapping=t),s};Cs.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new Lm;r.setCrossOrigin(this.crossOrigin);const s=r.load(e,n,void 0,i);return t&&(s.mapping=t),s};Cs.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Cs.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:WR}}));var Xm={exports:{}};(function(e,t){(function(){var n=.5*(Math.sqrt(3)-1),i=(3-Math.sqrt(3))/6,r=1/3,s=1/6,o=(Math.sqrt(5)-1)/4,a=(5-Math.sqrt(5))/20;function l(f){var d;typeof f=="function"?d=f:f?d=h(f):d=Math.random,this.p=c(d),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var p=0;p<512;p++)this.perm[p]=this.p[p&255],this.permMod12[p]=this.perm[p]%12}l.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(f,d){var p=this.permMod12,y=this.perm,v=this.grad3,g=0,m=0,x=0,w=(f+d)*n,b=Math.floor(f+w),_=Math.floor(d+w),M=(b+_)*i,E=b-M,P=_-M,I=f-E,N=d-P,R,F;I>N?(R=1,F=0):(R=0,F=1);var L=I-R+i,O=N-F+i,B=I-1+2*i,V=N-1+2*i,k=b&255,U=_&255,H=.5-I*I-N*N;if(H>=0){var X=p[k+y[U]]*3;H*=H,g=H*H*(v[X]*I+v[X+1]*N)}var ie=.5-L*L-O*O;if(ie>=0){var de=p[k+R+y[U+F]]*3;ie*=ie,m=ie*ie*(v[de]*L+v[de+1]*O)}var Se=.5-B*B-V*V;if(Se>=0){var j=p[k+1+y[U+1]]*3;Se*=Se,x=Se*Se*(v[j]*B+v[j+1]*V)}return 70*(g+m+x)},noise3D:function(f,d,p){var y=this.permMod12,v=this.perm,g=this.grad3,m,x,w,b,_=(f+d+p)*r,M=Math.floor(f+_),E=Math.floor(d+_),P=Math.floor(p+_),I=(M+E+P)*s,N=M-I,R=E-I,F=P-I,L=f-N,O=d-R,B=p-F,V,k,U,H,X,ie;L>=O?O>=B?(V=1,k=0,U=0,H=1,X=1,ie=0):L>=B?(V=1,k=0,U=0,H=1,X=0,ie=1):(V=0,k=0,U=1,H=1,X=0,ie=1):O<B?(V=0,k=0,U=1,H=0,X=1,ie=1):L<B?(V=0,k=1,U=0,H=0,X=1,ie=1):(V=0,k=1,U=0,H=1,X=1,ie=0);var de=L-V+s,Se=O-k+s,j=B-U+s,We=L-H+2*s,pe=O-X+2*s,De=B-ie+2*s,Ce=L-1+3*s,ke=O-1+3*s,Pe=B-1+3*s,J=M&255,te=E&255,ne=P&255,me=.6-L*L-O*O-B*B;if(me<0)m=0;else{var oe=y[J+v[te+v[ne]]]*3;me*=me,m=me*me*(g[oe]*L+g[oe+1]*O+g[oe+2]*B)}var T=.6-de*de-Se*Se-j*j;if(T<0)x=0;else{var A=y[J+V+v[te+k+v[ne+U]]]*3;T*=T,x=T*T*(g[A]*de+g[A+1]*Se+g[A+2]*j)}var K=.6-We*We-pe*pe-De*De;if(K<0)w=0;else{var $=y[J+H+v[te+X+v[ne+ie]]]*3;K*=K,w=K*K*(g[$]*We+g[$+1]*pe+g[$+2]*De)}var D=.6-Ce*Ce-ke*ke-Pe*Pe;if(D<0)b=0;else{var Q=y[J+1+v[te+1+v[ne+1]]]*3;D*=D,b=D*D*(g[Q]*Ce+g[Q+1]*ke+g[Q+2]*Pe)}return 32*(m+x+w+b)},noise4D:function(f,d,p,y){var v=this.perm,g=this.grad4,m,x,w,b,_,M=(f+d+p+y)*o,E=Math.floor(f+M),P=Math.floor(d+M),I=Math.floor(p+M),N=Math.floor(y+M),R=(E+P+I+N)*a,F=E-R,L=P-R,O=I-R,B=N-R,V=f-F,k=d-L,U=p-O,H=y-B,X=0,ie=0,de=0,Se=0;V>k?X++:ie++,V>U?X++:de++,V>H?X++:Se++,k>U?ie++:de++,k>H?ie++:Se++,U>H?de++:Se++;var j,We,pe,De,Ce,ke,Pe,J,te,ne,me,oe;j=X>=3?1:0,We=ie>=3?1:0,pe=de>=3?1:0,De=Se>=3?1:0,Ce=X>=2?1:0,ke=ie>=2?1:0,Pe=de>=2?1:0,J=Se>=2?1:0,te=X>=1?1:0,ne=ie>=1?1:0,me=de>=1?1:0,oe=Se>=1?1:0;var T=V-j+a,A=k-We+a,K=U-pe+a,$=H-De+a,D=V-Ce+2*a,Q=k-ke+2*a,re=U-Pe+2*a,ue=H-J+2*a,se=V-te+3*a,ge=k-ne+3*a,xe=U-me+3*a,_e=H-oe+3*a,ce=V-1+4*a,be=k-1+4*a,ye=U-1+4*a,Le=H-1+4*a,Ae=E&255,$e=P&255,Rt=I&255,It=N&255,ze=.6-V*V-k*k-U*U-H*H;if(ze<0)m=0;else{var Te=v[Ae+v[$e+v[Rt+v[It]]]]%32*4;ze*=ze,m=ze*ze*(g[Te]*V+g[Te+1]*k+g[Te+2]*U+g[Te+3]*H)}var vt=.6-T*T-A*A-K*K-$*$;if(vt<0)x=0;else{var Jn=v[Ae+j+v[$e+We+v[Rt+pe+v[It+De]]]]%32*4;vt*=vt,x=vt*vt*(g[Jn]*T+g[Jn+1]*A+g[Jn+2]*K+g[Jn+3]*$)}var Kn=.6-D*D-Q*Q-re*re-ue*ue;if(Kn<0)w=0;else{var Zr=v[Ae+Ce+v[$e+ke+v[Rt+Pe+v[It+J]]]]%32*4;Kn*=Kn,w=Kn*Kn*(g[Zr]*D+g[Zr+1]*Q+g[Zr+2]*re+g[Zr+3]*ue)}var nn=.6-se*se-ge*ge-xe*xe-_e*_e;if(nn<0)b=0;else{var Jr=v[Ae+te+v[$e+ne+v[Rt+me+v[It+oe]]]]%32*4;nn*=nn,b=nn*nn*(g[Jr]*se+g[Jr+1]*ge+g[Jr+2]*xe+g[Jr+3]*_e)}var Kr=.6-ce*ce-be*be-ye*ye-Le*Le;if(Kr<0)_=0;else{var Vs=v[Ae+1+v[$e+1+v[Rt+1+v[It+1]]]]%32*4;Kr*=Kr,_=Kr*Kr*(g[Vs]*ce+g[Vs+1]*be+g[Vs+2]*ye+g[Vs+3]*Le)}return 27*(m+x+w+b+_)}};function c(f){var d,p=new Uint8Array(256);for(d=0;d<256;d++)p[d]=d;for(d=0;d<255;d++){var y=d+~~(f()*(256-d)),v=p[d];p[d]=p[y],p[y]=v}return p}l._buildPermutationTable=c;function h(){var f=0,d=0,p=0,y=1,v=u();f=v(" "),d=v(" "),p=v(" ");for(var g=0;g<arguments.length;g++)f-=v(arguments[g]),f<0&&(f+=1),d-=v(arguments[g]),d<0&&(d+=1),p-=v(arguments[g]),p<0&&(p+=1);return v=null,function(){var m=2091639*f+y*23283064365386963e-26;return f=d,d=p,p=m-(y=m|0)}}function u(){var f=4022871197;return function(d){d=d.toString();for(var p=0;p<d.length;p++){f+=d.charCodeAt(p);var y=.02519603282416938*f;f=y>>>0,y-=f,y*=f,f=y>>>0,y-=f,f+=y*4294967296}return(f>>>0)*23283064365386963e-26}}t.SimplexNoise=l,e.exports=l})()})(Xm,Xm.exports);var n9=Xm.exports;const i9=Wx(n9);function r9(e){let t,n,i,r,s,o,a,l,c;const h={fov:75,cameraZ:75,xyCoef:50,zCoef:10,lightIntensity:.9,light1Color:920028,light2Color:1888737,light3Color:1622060,light4Color:15612879},u=new i9,f=new Z,d=new wi(new S(0,0,1),0),p=new S,y=new k0,v=500,g=new ms(h.light1Color,h.lightIntensity,v),m=new ms(h.light2Color,h.lightIntensity,v),x=new ms(h.light3Color,h.lightIntensity,v),w=new ms(h.light4Color,h.lightIntensity,v),b=()=>{if(r=e.clientWidth,s=e.clientHeight,t&&i){t.setSize(r,s),i.aspect=r/s,i.updateProjectionMatrix();const R=M();o=R[0],a=R[1]}},_=R=>{const F=new S;i.getWorldDirection(F),F.normalize(),d.normal=F,f.x=R.clientX/r*2-1,f.y=-(R.clientY/s)*2+1,y.setFromCamera(f,i),y.ray.intersectPlane(d,p)},M=()=>{const R=new Tt(i.fov,i.aspect),F=R.fov*Math.PI/180,L=2*Math.tan(F/2)*Math.abs(h.cameraZ);return[L*R.aspect,L]},E=()=>{n=new R0;const R=30,F=10;g.position.set(0,F,R),m.position.set(0,-F,-R),x.position.set(R,F,0),w.position.set(-R,F,0),n.add(g),n.add(m),n.add(x),n.add(w);const L=new Fs({color:16777215,side:pc}),O=new ph(o,a,o/2,a/2);l=new Ft(O,L),n.add(l),l.rotation.x=-Math.PI/2-.2,l.position.y=-25,i.position.z=60},P=()=>{if(!l)return;const R=l.geometry.attributes.position.array,F=Date.now()*2e-4;for(let L=0;L<R.length;L+=3)R[L+2]=u.noise4D(R[L]/h.xyCoef,R[L+1]/h.xyCoef,F,f.x+f.y)*h.zCoef;l.geometry.attributes.position.needsUpdate=!0},I=()=>{const R=Date.now()*.001,F=50;g.position.x=Math.sin(R*.1)*F,g.position.z=Math.cos(R*.2)*F,m.position.x=Math.cos(R*.3)*F,m.position.z=Math.sin(R*.4)*F,x.position.x=Math.sin(R*.5)*F,x.position.z=Math.sin(R*.6)*F,w.position.x=Math.sin(R*.7)*F,w.position.z=Math.cos(R*.8)*F},N=()=>{c=requestAnimationFrame(N),P(),I(),t.render(n,i)};return t=new xc({canvas:e,antialias:!0,alpha:!0}),i=new Tt(h.fov),i.position.z=h.cameraZ,b(),window.addEventListener("resize",b),e.addEventListener("mousemove",_),E(),N(),()=>{cancelAnimationFrame(c),window.removeEventListener("resize",b),e.removeEventListener("mousemove",_),n.traverse(R=>{R.isMesh&&(R.geometry&&R.geometry.dispose(),R.material&&(Array.isArray(R.material)?R.material.forEach(F=>F.dispose()):R.material.dispose()))}),t.dispose()}}function F0(){const e=z.useRef(null);return z.useEffect(()=>{const t=r9(e.current);return()=>{t()}},[]),q.jsx(q.Fragment,{children:q.jsx("canvas",{id:"background",ref:e,className:"fixed top-0 left-0 w-full h-full z-10",style:{width:"100%",height:"100%"}})})}function s9(){const[e,t]=z.useState(""),[n,i]=z.useState(!0),r="Senior Web Developer",s=100;return z.useEffect(()=>{if(e.length<r.length){const o=setTimeout(()=>{t(r.slice(0,e.length+1))},s);return()=>clearTimeout(o)}},[e]),z.useEffect(()=>{const o=setInterval(()=>{i(a=>!a)},500);return()=>clearInterval(o)},[]),q.jsx("div",{className:"",children:q.jsxs("div",{className:"text-4xl text-left font-bold bg-gradient-to-t from-white via-gray-700 to-gray-300 bg-clip-text text-transparent",children:[e,q.jsx("span",{className:`${n?"opacity-100":"opacity-0"} transition-opacity bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent`,style:{WebkitTextFillColor:"transparent"},children:"|"})]})})}function o9(){const e=z.useRef(null);return z.useEffect(()=>{const t=e.current,n=GR(t);return()=>n},[]),q.jsx("div",{className:"relative",children:q.jsxs("div",{className:"flex flex-col min-h-[68.4vh] items-center justify-center",children:[q.jsx("div",{className:"w-1/4 min-w-[350px]",children:q.jsx(HR,{})}),q.jsx("div",{className:"w-full flex justify-center",children:q.jsx("div",{className:"ml-5 w-full max-w-[420px]",children:q.jsx(s9,{})})}),q.jsx(F0,{}),q.jsx("canvas",{ref:e,className:"fixed top-0 left-0 w-full h-full pointer-events-none"})]})})}const B0={initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:100}},z0={type:"tween",ease:"easeInOut",duration:.6};function a9(){return q.jsxs("div",{children:[q.jsx("style",{children:`
        @keyframes slideInFromLeft {
          0% {
            transform: translateX(-100%);
            opacity: 0;
          }
          100% {
            transform: translateX(0);
            opacity: 1;
          }
        }

        .animate-slide-in-left {
          animation: slideInFromLeft 0.7s;
        }
      `}),q.jsx("div",{className:"fixed left-0 z-10 bg-blue-500 shadow-lg flex items-center justify-center animate-slide-in-left mt-[2em]",children:q.jsx("span",{className:"text-white text-lg font-semibold",children:"React.js"})}),q.jsx("div",{className:"fixed left-0 z-10 bg-blue-500 shadow-lg flex items-center justify-center animate-slide-in-left mt-[4em]",children:q.jsx("span",{className:"text-white text-lg font-semibold",children:"Mysql & Mongodb"})}),q.jsx("div",{className:"fixed left-0 z-10 bg-blue-500 shadow-lg flex items-center justify-center animate-slide-in-left mt-[6em]",children:q.jsx("span",{className:"text-white text-lg font-semibold",children:"Php & Laravel Framework"})}),q.jsx("div",{className:"fixed left-0 z-10 bg-blue-500 shadow-lg flex items-center justify-center animate-slide-in-left mt-[8em]",children:q.jsx("span",{className:"text-white text-lg font-semibold",children:"Javascript, Node.js & Express.js"})})]})}function l9(){return q.jsxs("div",{className:"flex flex-col text-center min-h-[90vh] justify-center items-center z-10",children:[q.jsxs("h2",{className:"font-bold text-xl z-10",children:["i feel information about myself here",q.jsx("br",{}),"also see my Resume"]}),q.jsx("br",{}),q.jsx("h3",{className:"text-lg z-10",children:"will be filled soon"})]})}function c9(){const[e,t]=z.useState([]),n=z.useRef(0),i=z.useRef(null),r=["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)","rgba(255, 159, 64, 0.7)","rgba(199, 199, 199, 0.7)","rgba(83, 102, 255, 0.7)","rgba(255, 99, 255, 0.7)","rgba(132, 255, 99, 0.7)"],s=()=>{const o=Math.random()<.5;let a,l;if(o){const p=Math.random()*150+50;a=p,l=p}else a=Math.random()*200+50,l=Math.random()*200+50;const c=Math.random()*(window.innerWidth-a),h=Math.random()*(window.innerHeight-l),u=r[Math.floor(Math.random()*r.length)],f=n.current++,d={id:f,width:a,height:l,x:c,y:h,color:u,isSquare:o,created:Date.now()};t(p=>[...p,d]),setTimeout(()=>{t(p=>p.filter(y=>y.id!==f))},3e3)};return z.useEffect(()=>(i.current=setInterval(s,400),()=>{i.current&&clearInterval(i.current)}),[]),z.useEffect(()=>{const o=()=>{t([])};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),q.jsxs(b0.div,{initial:"initial",animate:"animate",exit:"exit",variants:B0,transition:z0,children:[q.jsx("style",{children:`
                @keyframes squareAppear {
                    0% {
                        opacity: 0;
                        transform: scale(0) rotate(0deg);
                    }
                    20% {
                        opacity: 1;
                        transform: scale(0.5) rotate(180deg);
                    }
                    100% {
                        opacity: 1;
                        transform: scale(1) rotate(360deg);
                    }
                }
            `}),q.jsxs("div",{className:"relative justify-center text-center items-center",children:[e.map(o=>q.jsx("div",{className:"absolute rounded-lg shadow-2xl animate-square-appear",style:{width:`${o.width}px`,height:`${o.height}px`,left:`${o.x}px`,top:`${o.y}px`,background:`linear-gradient(45deg, ${o.color}, ${o.color.replace("0.7","0.9")})`,backdropFilter:"blur(5px)",animation:"squareAppear 3s ease-out forwards"}},o.id)),q.jsx(a9,{}),q.jsx(l9,{})]})]})}function u9(){return q.jsx(b0.div,{initial:"initial",animate:"animate",exit:"exit",variants:B0,transition:z0,children:q.jsxs("div",{className:"flex flex-col text-center min-h-[90vh] justify-center items-center",children:[q.jsx("h1",{className:"font-bold text-xl",children:"Contact Me Page :"}),q.jsx("br",{}),q.jsx("h3",{className:"text-lg",children:"will be filled soon"})]})})}function f9(){return q.jsx(b0.div,{initial:"initial",animate:"animate",exit:"exit",variants:B0,transition:z0,children:q.jsxs("div",{className:"flex flex-col text-center min-h-[90vh] justify-center items-center",children:[q.jsx("h1",{className:"font-bold text-xl",children:"Holds Info AboutMy Tech Stack :"}),q.jsx("br",{}),q.jsx("h3",{className:"text-lg",children:"will be filled soon"})]})})}function h9(){return q.jsx(F0,{})}function d9(){const e=ca();return q.jsx(T4,{mode:"wait",children:q.jsxs(hC,{location:e,children:[q.jsxs(Ui,{path:"/",element:q.jsx(IR,{}),children:[q.jsx(Ui,{path:"/",element:q.jsx(o9,{})}),q.jsx(Ui,{path:"/aboutMe",element:q.jsx(c9,{})}),q.jsx(Ui,{path:"/contactMe",element:q.jsx(u9,{})}),q.jsx(Ui,{path:"/techStacks",element:q.jsx(f9,{})}),q.jsx(Ui,{path:"/play",element:q.jsx(h9,{})}),q.jsx(Ui,{path:"*",element:q.jsx(DR,{})})]}),q.jsx(Ui,{path:"/wave",element:q.jsx(F0,{})})]},e.pathname)})}function p9(){return q.jsx(xC,{children:q.jsx(d9,{})})}i2(document.getElementById("root")).render(q.jsx(p9,{}));
